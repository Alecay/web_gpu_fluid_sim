(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function s(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(f){if(f.ep)return;f.ep=!0;const o=s(f);fetch(f.href,o)}})();function sr(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kc={exports:{}},nr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function I3(){if(_2)return nr;_2=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(c,f,o){var h=null;if(o!==void 0&&(h=""+o),f.key!==void 0&&(h=""+f.key),"key"in f){o={};for(var p in f)p!=="key"&&(o[p]=f[p])}else o=f;return f=o.ref,{$$typeof:i,type:c,key:h,ref:f!==void 0?f:null,props:o}}return nr.Fragment=r,nr.jsx=s,nr.jsxs=s,nr}var T2;function eh(){return T2||(T2=1,Kc.exports=I3()),Kc.exports}var S=eh(),Jc={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function th(){if(R2)return _e;R2=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function U(x,O,k){this.props=x,this.context=O,this.refs=N,this.updater=k||T}U.prototype.isReactComponent={},U.prototype.setState=function(x,O){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,O,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function j(){}j.prototype=U.prototype;function H(x,O,k){this.props=x,this.context=O,this.refs=N,this.updater=k||T}var X=H.prototype=new j;X.constructor=H,w(X,U.prototype),X.isPureReactComponent=!0;var L=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Z(x,O,k,q,F,ue){return k=ue.ref,{$$typeof:i,type:x,key:O,ref:k!==void 0?k:null,props:ue}}function le(x,O){return Z(x.type,O,void 0,void 0,void 0,x.props)}function ne(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function ce(x){var O={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(k){return O[k]})}var ye=/\/+/g;function ae(x,O){return typeof x=="object"&&x!==null&&x.key!=null?ce(""+x.key):O.toString(36)}function ve(){}function Re(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ve,ve):(x.status="pending",x.then(function(O){x.status==="pending"&&(x.status="fulfilled",x.value=O)},function(O){x.status==="pending"&&(x.status="rejected",x.reason=O)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function oe(x,O,k,q,F){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var ee=!1;if(x===null)ee=!0;else switch(ue){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(x.$$typeof){case i:case r:ee=!0;break;case v:return ee=x._init,oe(ee(x._payload),O,k,q,F)}}if(ee)return F=F(x),ee=q===""?"."+ae(x,0):q,L(F)?(k="",ee!=null&&(k=ee.replace(ye,"$&/")+"/"),oe(F,O,k,"",function(Ue){return Ue})):F!=null&&(ne(F)&&(F=le(F,k+(F.key==null||x&&x.key===F.key?"":(""+F.key).replace(ye,"$&/")+"/")+ee)),O.push(F)),1;ee=0;var ze=q===""?".":q+":";if(L(x))for(var xe=0;xe<x.length;xe++)q=x[xe],ue=ze+ae(q,xe),ee+=oe(q,O,k,ue,F);else if(xe=b(x),typeof xe=="function")for(x=xe.call(x),xe=0;!(q=x.next()).done;)q=q.value,ue=ze+ae(q,xe++),ee+=oe(q,O,k,ue,F);else if(ue==="object"){if(typeof x.then=="function")return oe(Re(x),O,k,q,F);throw O=String(x),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ee}function z(x,O,k){if(x==null)return x;var q=[],F=0;return oe(x,q,"","",function(ue){return O.call(k,ue,F++)}),q}function $(x){if(x._status===-1){var O=x._result;O=O(),O.then(function(k){(x._status===0||x._status===-1)&&(x._status=1,x._result=k)},function(k){(x._status===0||x._status===-1)&&(x._status=2,x._result=k)}),x._status===-1&&(x._status=0,x._result=O)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function te(){}return _e.Children={map:z,forEach:function(x,O,k){z(x,function(){O.apply(this,arguments)},k)},count:function(x){var O=0;return z(x,function(){O++}),O},toArray:function(x){return z(x,function(O){return O})||[]},only:function(x){if(!ne(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},_e.Component=U,_e.Fragment=s,_e.Profiler=f,_e.PureComponent=H,_e.StrictMode=c,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,_e.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Y.H.useMemoCache(x)}},_e.cache=function(x){return function(){return x.apply(null,arguments)}},_e.cloneElement=function(x,O,k){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var q=w({},x.props),F=x.key,ue=void 0;if(O!=null)for(ee in O.ref!==void 0&&(ue=void 0),O.key!==void 0&&(F=""+O.key),O)!W.call(O,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&O.ref===void 0||(q[ee]=O[ee]);var ee=arguments.length-2;if(ee===1)q.children=k;else if(1<ee){for(var ze=Array(ee),xe=0;xe<ee;xe++)ze[xe]=arguments[xe+2];q.children=ze}return Z(x.type,F,void 0,void 0,ue,q)},_e.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},_e.createElement=function(x,O,k){var q,F={},ue=null;if(O!=null)for(q in O.key!==void 0&&(ue=""+O.key),O)W.call(O,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(F[q]=O[q]);var ee=arguments.length-2;if(ee===1)F.children=k;else if(1<ee){for(var ze=Array(ee),xe=0;xe<ee;xe++)ze[xe]=arguments[xe+2];F.children=ze}if(x&&x.defaultProps)for(q in ee=x.defaultProps,ee)F[q]===void 0&&(F[q]=ee[q]);return Z(x,ue,void 0,void 0,null,F)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(x){return{$$typeof:p,render:x}},_e.isValidElement=ne,_e.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:$}},_e.memo=function(x,O){return{$$typeof:m,type:x,compare:O===void 0?null:O}},_e.startTransition=function(x){var O=Y.T,k={};Y.T=k;try{var q=x(),F=Y.S;F!==null&&F(k,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(te,J)}catch(ue){J(ue)}finally{Y.T=O}},_e.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},_e.use=function(x){return Y.H.use(x)},_e.useActionState=function(x,O,k){return Y.H.useActionState(x,O,k)},_e.useCallback=function(x,O){return Y.H.useCallback(x,O)},_e.useContext=function(x){return Y.H.useContext(x)},_e.useDebugValue=function(){},_e.useDeferredValue=function(x,O){return Y.H.useDeferredValue(x,O)},_e.useEffect=function(x,O,k){var q=Y.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(x,O)},_e.useId=function(){return Y.H.useId()},_e.useImperativeHandle=function(x,O,k){return Y.H.useImperativeHandle(x,O,k)},_e.useInsertionEffect=function(x,O){return Y.H.useInsertionEffect(x,O)},_e.useLayoutEffect=function(x,O){return Y.H.useLayoutEffect(x,O)},_e.useMemo=function(x,O){return Y.H.useMemo(x,O)},_e.useOptimistic=function(x,O){return Y.H.useOptimistic(x,O)},_e.useReducer=function(x,O,k){return Y.H.useReducer(x,O,k)},_e.useRef=function(x){return Y.H.useRef(x)},_e.useState=function(x){return Y.H.useState(x)},_e.useSyncExternalStore=function(x,O,k){return Y.H.useSyncExternalStore(x,O,k)},_e.useTransition=function(){return Y.H.useTransition()},_e.version="19.1.1",_e}var D2;function xo(){return D2||(D2=1,Jc.exports=th()),Jc.exports}var M=xo();const ht=sr(M);var $c={exports:{}},lr={},Fc={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function nh(){return E2||(E2=1,(function(i){function r(z,$){var J=z.length;z.push($);e:for(;0<J;){var te=J-1>>>1,x=z[te];if(0<f(x,$))z[te]=$,z[J]=x,J=te;else break e}}function s(z){return z.length===0?null:z[0]}function c(z){if(z.length===0)return null;var $=z[0],J=z.pop();if(J!==$){z[0]=J;e:for(var te=0,x=z.length,O=x>>>1;te<O;){var k=2*(te+1)-1,q=z[k],F=k+1,ue=z[F];if(0>f(q,J))F<x&&0>f(ue,q)?(z[te]=ue,z[F]=J,te=F):(z[te]=q,z[k]=J,te=k);else if(F<x&&0>f(ue,J))z[te]=ue,z[F]=J,te=F;else break e}}return $}function f(z,$){var J=z.sortIndex-$.sortIndex;return J!==0?J:z.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var y=[],m=[],v=1,C=null,b=3,T=!1,w=!1,N=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function L(z){for(var $=s(m);$!==null;){if($.callback===null)c(m);else if($.startTime<=z)c(m),$.sortIndex=$.expirationTime,r(y,$);else break;$=s(m)}}function Y(z){if(N=!1,L(z),!w)if(s(y)!==null)w=!0,W||(W=!0,ae());else{var $=s(m);$!==null&&oe(Y,$.startTime-z)}}var W=!1,Z=-1,le=5,ne=-1;function ce(){return U?!0:!(i.unstable_now()-ne<le)}function ye(){if(U=!1,W){var z=i.unstable_now();ne=z;var $=!0;try{e:{w=!1,N&&(N=!1,H(Z),Z=-1),T=!0;var J=b;try{t:{for(L(z),C=s(y);C!==null&&!(C.expirationTime>z&&ce());){var te=C.callback;if(typeof te=="function"){C.callback=null,b=C.priorityLevel;var x=te(C.expirationTime<=z);if(z=i.unstable_now(),typeof x=="function"){C.callback=x,L(z),$=!0;break t}C===s(y)&&c(y),L(z)}else c(y);C=s(y)}if(C!==null)$=!0;else{var O=s(m);O!==null&&oe(Y,O.startTime-z),$=!1}}break e}finally{C=null,b=J,T=!1}$=void 0}}finally{$?ae():W=!1}}}var ae;if(typeof X=="function")ae=function(){X(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Re=ve.port2;ve.port1.onmessage=ye,ae=function(){Re.postMessage(null)}}else ae=function(){j(ye,0)};function oe(z,$){Z=j(function(){z(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(z){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var J=b;b=$;try{return z()}finally{b=J}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=b;b=z;try{return $()}finally{b=J}},i.unstable_scheduleCallback=function(z,$,J){var te=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,z){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,z={id:v++,callback:$,priorityLevel:z,startTime:J,expirationTime:x,sortIndex:-1},J>te?(z.sortIndex=J,r(m,z),s(y)===null&&z===s(m)&&(N?(H(Z),Z=-1):N=!0,oe(Y,J-te))):(z.sortIndex=x,r(y,z),w||T||(w=!0,W||(W=!0,ae()))),z},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(z){var $=b;return function(){var J=b;b=$;try{return z.apply(this,arguments)}finally{b=J}}}})(Ic)),Ic}var M2;function lh(){return M2||(M2=1,Fc.exports=nh()),Fc.exports}var eo={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function ah(){if(w2)return Ct;w2=1;var i=xo();function r(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var c={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(y,m,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:C==null?null:""+C,children:y,containerInfo:m,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Ct.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return o(y,m,null,v)},Ct.flushSync=function(y){var m=h.T,v=c.p;try{if(h.T=null,c.p=2,y)return y()}finally{h.T=m,c.p=v,c.d.f()}},Ct.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,c.d.C(y,m))},Ct.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Ct.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,C=p(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?c.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:T}):v==="script"&&c.d.X(y,{crossOrigin:C,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ct.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);c.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&c.d.M(y)},Ct.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,C=p(v,m.crossOrigin);c.d.L(y,v,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ct.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);c.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else c.d.m(y)},Ct.requestFormReset=function(y){c.d.r(y)},Ct.unstable_batchedUpdates=function(y,m){return y(m)},Ct.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},Ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ct.version="19.1.1",Ct}var O2;function $2(){if(O2)return eo.exports;O2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),eo.exports=ah(),eo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function rh(){if(A2)return lr;A2=1;var i=lh(),r=xo(),s=$2();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var u=a.alternate;if(u===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===n)return p(a),e;if(u===l)return p(a),t;u=u.sibling}throw Error(c(188))}if(n.return!==l.return)n=a,l=u;else{for(var d=!1,g=a.child;g;){if(g===n){d=!0,n=a,l=u;break}if(g===l){d=!0,l=a,n=u;break}g=g.sibling}if(!d){for(g=u.child;g;){if(g===n){d=!0,n=u,l=a;break}if(g===l){d=!0,l=u,n=a;break}g=g.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==l)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),X=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case W:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case X:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var oe=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},te=[],x=-1;function O(e){return{current:e}}function k(e){0>x||(e.current=te[x],te[x]=null,x--)}function q(e,t){x++,te[x]=e.current,e.current=t}var F=O(null),ue=O(null),ee=O(null),ze=O(null);function xe(e,t){switch(q(ee,t),q(ue,e),q(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(F),q(F,e)}function Ue(){k(F),k(ue),k(ee)}function We(e){e.memoizedState!==null&&q(ze,e);var t=F.current,n=Ff(t,e.type);t!==n&&(q(ue,e),q(F,n))}function Je(e){ue.current===e&&(k(F),k(ue)),ze.current===e&&(k(ze),$a._currentValue=J)}var Ze=Object.prototype.hasOwnProperty,vt=i.unstable_scheduleCallback,xt=i.unstable_cancelCallback,I=i.unstable_shouldYield,se=i.unstable_requestPaint,he=i.unstable_now,be=i.unstable_getCurrentPriorityLevel,Ce=i.unstable_ImmediatePriority,Oe=i.unstable_UserBlockingPriority,Ae=i.unstable_NormalPriority,mt=i.unstable_LowPriority,fe=i.unstable_IdlePriority,lt=i.log,nn=i.unstable_setDisableYieldValue,Se=null,Le=null;function Tt(e){if(typeof lt=="function"&&nn(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Se,e)}catch{}}var ct=Math.clz32?Math.clz32:Vo,Bu=Math.log,Uu=Math.LN2;function Vo(e){return e>>>=0,e===0?32:31-(Bu(e)/Uu|0)|0}var hr=256,mr=4194304;function Wn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pr(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~u,l!==0?a=Wn(l):(d&=g,d!==0?a=Wn(d):n||(n=g&~e,n!==0&&(a=Wn(n))))):(g=l&~u,g!==0?a=Wn(g):d!==0?a=Wn(d):n||(n=l&~e,n!==0&&(a=Wn(n)))),a===0?0:t!==0&&t!==a&&(t&u)===0&&(u=a&-a,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:a}function ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xd(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var e=hr;return hr<<=1,(hr&4194048)===0&&(hr=256),e}function Ho(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function ju(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ia(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yd(e,t,n,l,a,u){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,_=e.expirationTimes,V=e.hiddenUpdates;for(n=d&~n;0<n;){var Q=31-ct(n),K=1<<Q;g[Q]=0,_[Q]=-1;var G=V[Q];if(G!==null)for(V[Q]=null,Q=0;Q<G.length;Q++){var B=G[Q];B!==null&&(B.lane&=-536870913)}n&=~K}l!==0&&Go(e,l,0),u!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function Go(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ct(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function Nu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uo(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:y2(e.type))}function qd(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var _n=Math.random().toString(36).slice(2),bt="__reactFiber$"+_n,Dt="__reactProps$"+_n,pl="__reactContainer$"+_n,Yu="__reactEvents$"+_n,Zd="__reactListeners$"+_n,Ld="__reactHandles$"+_n,jo="__reactResources$"+_n,ca="__reactMarker$"+_n;function qu(e){delete e[bt],delete e[Dt],delete e[Yu],delete e[Zd],delete e[Ld]}function gl(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pl]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=n2(e);e!==null;){if(n=e[bt])return n;e=n2(e)}return t}e=n,n=e.parentNode}return null}function yl(e){if(e=e[bt]||e[pl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function oa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function vl(e){var t=e[jo];return t||(t=e[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[ca]=!0}var No=new Set,Xo={};function Pn(e,t){xl(e,t),xl(e+"Capture",t)}function xl(e,t){for(Xo[e]=t,e=0;e<t.length;e++)No.add(t[e])}var kd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},qo={};function Qd(e){return Ze.call(qo,e)?!0:Ze.call(Yo,e)?!1:kd.test(e)?qo[e]=!0:(Yo[e]=!0,!1)}function gr(e,t,n){if(Qd(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function yr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ln(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Zu,Zo;function bl(e){if(Zu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zu=t&&t[1]||"",Zo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zu+e+Zo}var Lu=!1;function ku(e,t){if(!e||Lu)return"";Lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var G=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){G=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){G=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&G&&typeof B.stack=="string")return[B.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),d=u[0],g=u[1];if(d&&g){var _=d.split(`
`),V=g.split(`
`);for(a=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;a<V.length&&!V[a].includes("DetermineComponentFrameRoot");)a++;if(l===_.length||a===V.length)for(l=_.length-1,a=V.length-1;1<=l&&0<=a&&_[l]!==V[a];)a--;for(;1<=l&&0<=a;l--,a--)if(_[l]!==V[a]){if(l!==1||a!==1)do if(l--,a--,0>a||_[l]!==V[a]){var Q=`
`+_[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=a);break}}}finally{Lu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?bl(n):""}function Wd(e){switch(e.tag){case 26:case 27:case 5:return bl(e.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 15:return ku(e.type,!1);case 11:return ku(e.type.render,!1);case 1:return ku(e.type,!0);case 31:return bl("Activity");default:return""}}function Lo(e){try{var t="";do t+=Wd(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ko(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pd(e){var t=ko(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){l=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(d){l=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vr(e){e._valueTracker||(e._valueTracker=Pd(e))}function Qo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ko(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kd=/[\n"\\]/g;function Xt(e){return e.replace(Kd,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qu(e,t,n,l,a,u,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Wu(e,d,Nt(t)):n!=null?Wu(e,d,Nt(n)):l!=null&&e.removeAttribute("value"),a==null&&u!=null&&(e.defaultChecked=!!u),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Nt(g):e.removeAttribute("name")}function Wo(e,t,n,l,a,u,d,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Nt(n):"",t=t!=null?""+Nt(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Wu(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Sl(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Po(e,t,n){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nt(n):""}function Ko(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(c(92));if(oe(l)){if(1<l.length)throw Error(c(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Nt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Jd.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $o(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&Jo(e,a,l)}else for(var u in t)t.hasOwnProperty(u)&&Jo(e,u,t[u])}function Pu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return Fd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ku=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Tl=null;function Fo(e){var t=yl(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[Dt]||null;if(!a)throw Error(c(90));Qu(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Qo(l)}break e;case"textarea":Po(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Sl(e,!!n.multiple,t,!1)}}}var $u=!1;function Io(e,t,n){if($u)return e(t,n);$u=!0;try{var l=e(t);return l}finally{if($u=!1,(_l!==null||Tl!==null)&&(ru(),_l&&(t=_l,e=Tl,Tl=_l=null,Fo(t),e)))for(t=0;t<e.length;t++)Fo(e[t])}}function sa(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Dt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=!1;if(an)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Fu=!1}var Tn=null,Iu=null,Sr=null;function es(){if(Sr)return Sr;var e,t=Iu,n=t.length,l,a="value"in Tn?Tn.value:Tn.textContent,u=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(l=1;l<=d&&t[n-l]===a[u-l];l++);return Sr=a.slice(e,1<l?1-l:void 0)}function Cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function ts(){return!1}function Et(e){function t(n,l,a,u,d){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?_r:ts,this.isPropagationStopped=ts,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=Et(Kn),da=v({},Kn,{view:0,detail:0}),Id=Et(da),ei,ti,ha,Rr=v({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(ei=e.screenX-ha.screenX,ti=e.screenY-ha.screenY):ti=ei=0,ha=e),ei)},movementY:function(e){return"movementY"in e?e.movementY:ti}}),ns=Et(Rr),e1=v({},Rr,{dataTransfer:0}),t1=Et(e1),n1=v({},da,{relatedTarget:0}),ni=Et(n1),l1=v({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),a1=Et(l1),r1=v({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=Et(r1),i1=v({},Kn,{data:0}),ls=Et(i1),c1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s1[e])?!!t[e]:!1}function li(){return f1}var d1=v({},da,{key:function(e){if(e.key){var t=c1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h1=Et(d1),m1=v({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Et(m1),p1=v({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),g1=Et(p1),y1=v({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=Et(y1),x1=v({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b1=Et(x1),S1=v({},Kn,{newState:0,oldState:0}),C1=Et(S1),_1=[9,13,27,32],ai=an&&"CompositionEvent"in window,ma=null;an&&"documentMode"in document&&(ma=document.documentMode);var T1=an&&"TextEvent"in window&&!ma,rs=an&&(!ai||ma&&8<ma&&11>=ma),us=" ",is=!1;function cs(e,t){switch(e){case"keyup":return _1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function os(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function R1(e,t){switch(e){case"compositionend":return os(t);case"keypress":return t.which!==32?null:(is=!0,us);case"textInput":return e=t.data,e===us&&is?null:e;default:return null}}function D1(e,t){if(Rl)return e==="compositionend"||!ai&&cs(e,t)?(e=es(),Sr=Iu=Tn=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rs&&t.locale!=="ko"?null:t.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E1[e.type]:t==="textarea"}function fs(e,t,n,l){_l?Tl?Tl.push(l):Tl=[l]:_l=l,t=fu(t,"onChange"),0<t.length&&(n=new Tr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var pa=null,ga=null;function M1(e){Qf(e,0)}function Dr(e){var t=oa(e);if(Qo(t))return e}function ds(e,t){if(e==="change")return t}var hs=!1;if(an){var ri;if(an){var ui="oninput"in document;if(!ui){var ms=document.createElement("div");ms.setAttribute("oninput","return;"),ui=typeof ms.oninput=="function"}ri=ui}else ri=!1;hs=ri&&(!document.documentMode||9<document.documentMode)}function ps(){pa&&(pa.detachEvent("onpropertychange",gs),ga=pa=null)}function gs(e){if(e.propertyName==="value"&&Dr(ga)){var t=[];fs(t,ga,e,Ju(e)),Io(M1,t)}}function w1(e,t,n){e==="focusin"?(ps(),pa=t,ga=n,pa.attachEvent("onpropertychange",gs)):e==="focusout"&&ps()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(ga)}function A1(e,t){if(e==="click")return Dr(t)}function V1(e,t){if(e==="input"||e==="change")return Dr(t)}function z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:z1;function ya(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!Ze.call(t,a)||!Vt(e[a],t[a]))return!1}return!0}function ys(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vs(e,t){var n=ys(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ys(n)}}function xs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H1=an&&"documentMode"in document&&11>=document.documentMode,Dl=null,ci=null,va=null,oi=!1;function Ss(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oi||Dl==null||Dl!==xr(l)||(l=Dl,"selectionStart"in l&&ii(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),va&&ya(va,l)||(va=l,l=fu(ci,"onSelect"),0<l.length&&(t=new Tr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Dl)))}function Jn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var El={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},si={},Cs={};an&&(Cs=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function $n(e){if(si[e])return si[e];if(!El[e])return e;var t=El[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cs)return si[e]=t[n];return e}var _s=$n("animationend"),Ts=$n("animationiteration"),Rs=$n("animationstart"),G1=$n("transitionrun"),B1=$n("transitionstart"),U1=$n("transitioncancel"),Ds=$n("transitionend"),Es=new Map,fi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fi.push("scrollEnd");function Pt(e,t){Es.set(e,t),Pn(t,[e])}var Ms=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var n=Ms.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lo(t)},Ms.set(e,t),t)}return{value:e,source:t,stack:Lo(t)}}var qt=[],Ml=0,di=0;function Er(){for(var e=Ml,t=di=Ml=0;t<e;){var n=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var a=qt[t];qt[t++]=null;var u=qt[t];if(qt[t++]=null,l!==null&&a!==null){var d=l.pending;d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a}u!==0&&ws(n,a,u)}}function Mr(e,t,n,l){qt[Ml++]=e,qt[Ml++]=t,qt[Ml++]=n,qt[Ml++]=l,di|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hi(e,t,n,l){return Mr(e,t,n,l),wr(e)}function wl(e,t){return Mr(e,null,null,t),wr(e)}function ws(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(a=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,a&&t!==null&&(a=31-ct(n),e=u.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),u):null}function wr(e){if(50<Za)throw Za=0,xc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ol={};function j1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,l){return new j1(e,t,n,l)}function mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Os(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Or(e,t,n,l,a,u){var d=0;if(l=e,typeof e=="function")mi(e)&&(d=1);else if(typeof e=="string")d=X3(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=zt(31,n,t,a),e.elementType=ne,e.lanes=u,e;case w:return Fn(n.children,a,u,t);case N:d=8,a|=24;break;case U:return e=zt(12,n,t,a|2),e.elementType=U,e.lanes=u,e;case Y:return e=zt(13,n,t,a),e.elementType=Y,e.lanes=u,e;case W:return e=zt(19,n,t,a),e.elementType=W,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:case X:d=10;break e;case H:d=9;break e;case L:d=11;break e;case Z:d=14;break e;case le:d=16,l=null;break e}d=29,n=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=zt(d,n,t,a),t.elementType=e,t.type=l,t.lanes=u,t}function Fn(e,t,n,l){return e=zt(7,e,l,t),e.lanes=n,e}function pi(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function gi(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Al=[],Vl=0,Ar=null,Vr=0,Zt=[],Lt=0,In=null,un=1,cn="";function el(e,t){Al[Vl++]=Vr,Al[Vl++]=Ar,Ar=e,Vr=t}function As(e,t,n){Zt[Lt++]=un,Zt[Lt++]=cn,Zt[Lt++]=In,In=e;var l=un;e=cn;var a=32-ct(l)-1;l&=~(1<<a),n+=1;var u=32-ct(t)+a;if(30<u){var d=a-a%5;u=(l&(1<<d)-1).toString(32),l>>=d,a-=d,un=1<<32-ct(t)+a|n<<a|l,cn=u+e}else un=1<<u|n<<a|l,cn=e}function yi(e){e.return!==null&&(el(e,1),As(e,1,0))}function vi(e){for(;e===Ar;)Ar=Al[--Vl],Al[Vl]=null,Vr=Al[--Vl],Al[Vl]=null;for(;e===In;)In=Zt[--Lt],Zt[Lt]=null,cn=Zt[--Lt],Zt[Lt]=null,un=Zt[--Lt],Zt[Lt]=null}var Rt=null,$e=null,Be=!1,tl=null,$t=!1,xi=Error(c(519));function nl(e){var t=Error(c(418,""));throw Sa(Yt(t,e)),xi}function Vs(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[bt]=e,t[Dt]=l,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<ka.length;n++)we(ka[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Wo(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vr(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Ko(t,l.value,l.defaultValue,l.children),vr(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Jf(t.textContent,n)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=du),t=!0):t=!1,t||nl(e)}function zs(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:Rt=Rt.return}}function xa(e){if(e!==Rt)return!1;if(!Be)return zs(e),Be=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gc(e.type,e.memoizedProps)),n=!n),n&&$e&&nl(e),zs(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){$e=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,Xn(e.type)?(e=Nc,Nc=null,$e=e):$e=t):$e=Rt?Jt(e.stateNode.nextSibling):null;return!0}function ba(){$e=Rt=null,Be=!1}function Hs(){var e=tl;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),tl=null),e}function Sa(e){tl===null?tl=[e]:tl.push(e)}var bi=O(null),ll=null,on=null;function Rn(e,t,n){q(bi,t._currentValue),t._currentValue=n}function sn(e){e._currentValue=bi.current,k(bi)}function Si(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){var d=a.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=a;for(var _=0;_<t.length;_++)if(g.context===t[_]){u.lanes|=n,g=u.alternate,g!==null&&(g.lanes|=n),Si(u.return,n,e),l||(d=null);break e}u=g.next}}else if(a.tag===18){if(d=a.return,d===null)throw Error(c(341));d.lanes|=n,u=d.alternate,u!==null&&(u.lanes|=n),Si(d,n,e),d=null}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===e){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}}function Ca(e,t,n,l){e=null;for(var a=t,u=!1;a!==null;){if(!u){if((a.flags&524288)!==0)u=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var d=a.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var g=a.type;Vt(a.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(a===ze.current){if(d=a.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push($a):e=[$a])}a=a.return}e!==null&&Ci(t,e,n,l),t.flags|=262144}function zr(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function al(e){ll=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Gs(ll,e)}function Hr(e,t){return ll===null&&al(e),Gs(e,t)}function Gs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},on===null){if(e===null)throw Error(c(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return n}var N1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},X1=i.unstable_scheduleCallback,Y1=i.unstable_NormalPriority,ut={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _i(){return{controller:new N1,data:new Map,refCount:0}}function _a(e){e.refCount--,e.refCount===0&&X1(Y1,function(){e.controller.abort()})}var Ta=null,Ti=0,zl=0,Hl=null;function q1(e,t){if(Ta===null){var n=Ta=[];Ti=0,zl=Dc(),Hl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Ti++,t.then(Bs,Bs),t}function Bs(){if(--Ti===0&&Ta!==null){Hl!==null&&(Hl.status="fulfilled");var e=Ta;Ta=null,zl=0,Hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Z1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var Us=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&q1(e,t),Us!==null&&Us(e,t)};var rl=O(null);function Ri(){var e=rl.current;return e!==null?e:Qe.pooledCache}function Gr(e,t){t===null?q(rl,rl.current):q(rl,t.pool)}function js(){var e=Ri();return e===null?null:{parent:ut._currentValue,pool:e}}var Ra=Error(c(460)),Ns=Error(c(474)),Br=Error(c(542)),Di={then:function(){}};function Xs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ur(){}function Ys(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ur,Ur),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zs(e),e;default:if(typeof t.status=="string")t.then(Ur,Ur);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zs(e),e}throw Da=t,Ra}}var Da=null;function qs(){if(Da===null)throw Error(c(459));var e=Da;return Da=null,e}function Zs(e){if(e===Ra||e===Br)throw Error(c(483))}var Dn=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=wr(e),ws(e,null,n),t}return Mr(e,l,t,n),wr(e)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bo(e,n)}}function wi(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?a=u=d:u=u.next=d,n=n.next}while(n!==null);u===null?a=u=t:u=u.next=t}else a=u=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oi=!1;function Ma(){if(Oi){var e=Hl;if(e!==null)throw e}}function wa(e,t,n,l){Oi=!1;var a=e.updateQueue;Dn=!1;var u=a.firstBaseUpdate,d=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var _=g,V=_.next;_.next=null,d===null?u=V:d.next=V,d=_;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,g=Q.lastBaseUpdate,g!==d&&(g===null?Q.firstBaseUpdate=V:g.next=V,Q.lastBaseUpdate=_))}if(u!==null){var K=a.baseState;d=0,Q=V=_=null,g=u;do{var G=g.lane&-536870913,B=G!==g.lane;if(B?(Ve&G)===G:(l&G)===G){G!==0&&G===zl&&(Oi=!0),Q!==null&&(Q=Q.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var pe=e,de=g;G=t;var qe=n;switch(de.tag){case 1:if(pe=de.payload,typeof pe=="function"){K=pe.call(qe,K,G);break e}K=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=de.payload,G=typeof pe=="function"?pe.call(qe,K,G):pe,G==null)break e;K=v({},K,G);break e;case 2:Dn=!0}}G=g.callback,G!==null&&(e.flags|=64,B&&(e.flags|=8192),B=a.callbacks,B===null?a.callbacks=[G]:B.push(G))}else B={lane:G,tag:g.tag,payload:g.payload,callback:g.callback,next:null},Q===null?(V=Q=B,_=K):Q=Q.next=B,d|=G;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;B=g,g=B.next,B.next=null,a.lastBaseUpdate=B,a.shared.pending=null}}while(!0);Q===null&&(_=K),a.baseState=_,a.firstBaseUpdate=V,a.lastBaseUpdate=Q,u===null&&(a.shared.lanes=0),Bn|=d,e.lanes=d,e.memoizedState=K}}function Ls(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function ks(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ls(n[e],t)}var Gl=O(null),jr=O(0);function Qs(e,t){e=yn,q(jr,e),q(Gl,t),yn=e|t.baseLanes}function Ai(){q(jr,yn),q(Gl,Gl.current)}function Vi(){yn=jr.current,k(Gl),k(jr)}var wn=0,De=null,Xe=null,at=null,Nr=!1,Bl=!1,ul=!1,Xr=0,Oa=0,Ul=null,L1=0;function Ie(){throw Error(c(321))}function zi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Hi(e,t,n,l,a,u){return wn=u,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?w0:O0,ul=!1,u=n(l,a),ul=!1,Bl&&(u=Ps(t,n,l,a)),Ws(e),u}function Ws(e){z.H=Qr;var t=Xe!==null&&Xe.next!==null;if(wn=0,at=Xe=De=null,Nr=!1,Oa=0,Ul=null,t)throw Error(c(300));e===null||st||(e=e.dependencies,e!==null&&zr(e)&&(st=!0))}function Ps(e,t,n,l){De=e;var a=0;do{if(Bl&&(Ul=null),Oa=0,Bl=!1,25<=a)throw Error(c(301));if(a+=1,at=Xe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=$1,u=t(n,l)}while(Bl);return u}function k1(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Aa(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(De.flags|=1024),t}function Gi(){var e=Xr!==0;return Xr=0,e}function Bi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ui(e){if(Nr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nr=!1}wn=0,at=Xe=De=null,Bl=!1,Oa=Xr=0,Ul=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?De.memoizedState=at=e:at=at.next=e,at}function rt(){if(Xe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=at===null?De.memoizedState:at.next;if(t!==null)at=t,Xe=e;else{if(e===null)throw De.alternate===null?Error(c(467)):Error(c(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},at===null?De.memoizedState=at=e:at=at.next=e}return at}function ji(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Aa(e){var t=Oa;return Oa+=1,Ul===null&&(Ul=[]),e=Ys(Ul,e,t),t=De,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?w0:O0),e}function Yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Aa(e);if(e.$$typeof===X)return St(e)}throw Error(c(438,String(e)))}function Ni(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ji(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ce;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function qr(e){var t=rt();return Xi(t,Xe,e)}function Xi(e,t,n){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=n;var a=e.baseQueue,u=l.pending;if(u!==null){if(a!==null){var d=a.next;a.next=u.next,u.next=d}t.baseQueue=a=u,l.pending=null}if(u=e.baseState,a===null)e.memoizedState=u;else{t=a.next;var g=d=null,_=null,V=t,Q=!1;do{var K=V.lane&-536870913;if(K!==V.lane?(Ve&K)===K:(wn&K)===K){var G=V.revertLane;if(G===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),K===zl&&(Q=!0);else if((wn&G)===G){V=V.next,G===zl&&(Q=!0);continue}else K={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(g=_=K,d=u):_=_.next=K,De.lanes|=G,Bn|=G;K=V.action,ul&&n(u,K),u=V.hasEagerState?V.eagerState:n(u,K)}else G={lane:K,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(g=_=G,d=u):_=_.next=G,De.lanes|=K,Bn|=K;V=V.next}while(V!==null&&V!==t);if(_===null?d=u:_.next=g,!Vt(u,e.memoizedState)&&(st=!0,Q&&(n=Hl,n!==null)))throw n;e.memoizedState=u,e.baseState=d,e.baseQueue=_,l.lastRenderedState=u}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yi(e){var t=rt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,u=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do u=e(u,d.action),d=d.next;while(d!==a);Vt(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function Ks(e,t,n){var l=De,a=rt(),u=Be;if(u){if(n===void 0)throw Error(c(407));n=n()}else n=t();var d=!Vt((Xe||a).memoizedState,n);d&&(a.memoizedState=n,st=!0),a=a.queue;var g=Fs.bind(null,l,a,e);if(Va(2048,8,g,[e]),a.getSnapshot!==t||d||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,jl(9,Zr(),$s.bind(null,l,a,n,t),null),Qe===null)throw Error(c(349));u||(wn&124)!==0||Js(l,t,n)}return n}function Js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=ji(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $s(e,t,n,l){t.value=n,t.getSnapshot=l,Is(t)&&e0(e)}function Fs(e,t,n){return n(function(){Is(t)&&e0(e)})}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function e0(e){var t=wl(e,2);t!==null&&jt(t,e,2)}function qi(e){var t=Mt();if(typeof e=="function"){var n=e;if(e=n(),ul){Tt(!0);try{n()}finally{Tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function t0(e,t,n,l){return e.baseState=n,Xi(e,Xe,typeof l=="function"?l:fn)}function Q1(e,t,n,l,a){if(kr(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};z.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,n0(t,u)):(u.next=n.next,t.pending=n.next=u)}}function n0(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var u=z.T,d={};z.T=d;try{var g=n(a,l),_=z.S;_!==null&&_(d,g),l0(e,t,g)}catch(V){Zi(e,t,V)}finally{z.T=u}}else try{u=n(a,l),l0(e,t,u)}catch(V){Zi(e,t,V)}}function l0(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){a0(e,t,l)},function(l){return Zi(e,t,l)}):a0(e,t,n)}function a0(e,t,n){t.status="fulfilled",t.value=n,r0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,n0(e,n)))}function Zi(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,r0(t),t=t.next;while(t!==l)}e.action=null}function r0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function u0(e,t){return t}function i0(e,t){if(Be){var n=Qe.formState;if(n!==null){e:{var l=De;if(Be){if($e){t:{for(var a=$e,u=$t;a.nodeType!==8;){if(!u){a=null;break t}if(a=Jt(a.nextSibling),a===null){a=null;break t}}u=a.data,a=u==="F!"||u==="F"?a:null}if(a){$e=Jt(a.nextSibling),l=a.data==="F!";break e}}nl(l)}l=!1}l&&(t=n[0])}}return n=Mt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:t},n.queue=l,n=D0.bind(null,De,l),l.dispatch=n,l=qi(!1),u=Pi.bind(null,De,!1,l.queue),l=Mt(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=Q1.bind(null,De,a,u,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function c0(e){var t=rt();return o0(t,Xe,e)}function o0(e,t,n){if(t=Xi(e,t,u0)[0],e=qr(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Aa(t)}catch(d){throw d===Ra?Br:d}else l=t;t=rt();var a=t.queue,u=a.dispatch;return n!==t.memoizedState&&(De.flags|=2048,jl(9,Zr(),W1.bind(null,a,n),null)),[l,u,e]}function W1(e,t){e.action=t}function s0(e){var t=rt(),n=Xe;if(n!==null)return o0(t,n,e);rt(),t=t.memoizedState,n=rt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function jl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=De.updateQueue,t===null&&(t=ji(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Zr(){return{destroy:void 0,resource:void 0}}function f0(){return rt().memoizedState}function Lr(e,t,n,l){var a=Mt();l=l===void 0?null:l,De.flags|=e,a.memoizedState=jl(1|t,Zr(),n,l)}function Va(e,t,n,l){var a=rt();l=l===void 0?null:l;var u=a.memoizedState.inst;Xe!==null&&l!==null&&zi(l,Xe.memoizedState.deps)?a.memoizedState=jl(t,u,n,l):(De.flags|=e,a.memoizedState=jl(1|t,u,n,l))}function d0(e,t){Lr(8390656,8,e,t)}function h0(e,t){Va(2048,8,e,t)}function m0(e,t){return Va(4,2,e,t)}function p0(e,t){return Va(4,4,e,t)}function g0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){n=n!=null?n.concat([e]):null,Va(4,4,g0.bind(null,t,e),n)}function Li(){}function v0(e,t){var n=rt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&zi(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function x0(e,t){var n=rt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&zi(t,l[1]))return l[0];if(l=e(),ul){Tt(!0);try{e()}finally{Tt(!1)}}return n.memoizedState=[l,t],l}function ki(e,t,n){return n===void 0||(wn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=_f(),De.lanes|=e,Bn|=e,n)}function b0(e,t,n,l){return Vt(n,t)?n:Gl.current!==null?(e=ki(e,n,l),Vt(e,t)||(st=!0),e):(wn&42)===0?(st=!0,e.memoizedState=n):(e=_f(),De.lanes|=e,Bn|=e,t)}function S0(e,t,n,l,a){var u=$.p;$.p=u!==0&&8>u?u:8;var d=z.T,g={};z.T=g,Pi(e,!1,t,n);try{var _=a(),V=z.S;if(V!==null&&V(g,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Q=Z1(_,l);za(e,t,Q,Ut(e))}else za(e,t,l,Ut(e))}catch(K){za(e,t,{then:function(){},status:"rejected",reason:K},Ut())}finally{$.p=u,z.T=d}}function P1(){}function Qi(e,t,n,l){if(e.tag!==5)throw Error(c(476));var a=C0(e).queue;S0(e,a,t,J,n===null?P1:function(){return _0(e),n(l)})}function C0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:J},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _0(e){var t=C0(e).next.queue;za(e,t,{},Ut())}function Wi(){return St($a)}function T0(){return rt().memoizedState}function R0(){return rt().memoizedState}function K1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ut();e=En(n);var l=Mn(t,e,n);l!==null&&(jt(l,t,n),Ea(l,t,n)),t={cache:_i()},e.payload=t;return}t=t.return}}function J1(e,t,n){var l=Ut();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},kr(e)?E0(t,n):(n=hi(e,t,n,l),n!==null&&(jt(n,e,l),M0(n,t,l)))}function D0(e,t,n){var l=Ut();za(e,t,n,l)}function za(e,t,n,l){var a={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(kr(e))E0(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,g=u(d,n);if(a.hasEagerState=!0,a.eagerState=g,Vt(g,d))return Mr(e,t,a,0),Qe===null&&Er(),!1}catch{}finally{}if(n=hi(e,t,a,l),n!==null)return jt(n,e,l),M0(n,t,l),!0}return!1}function Pi(e,t,n,l){if(l={lane:2,revertLane:Dc(),action:l,hasEagerState:!1,eagerState:null,next:null},kr(e)){if(t)throw Error(c(479))}else t=hi(e,n,l,2),t!==null&&jt(t,e,2)}function kr(e){var t=e.alternate;return e===De||t!==null&&t===De}function E0(e,t){Bl=Nr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function M0(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bo(e,n)}}var Qr={readContext:St,use:Yr,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},w0={readContext:St,use:Yr,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:d0,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Lr(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lr(4194308,4,e,t)},useInsertionEffect:function(e,t){Lr(4,2,e,t)},useMemo:function(e,t){var n=Mt();t=t===void 0?null:t;var l=e();if(ul){Tt(!0);try{e()}finally{Tt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Mt();if(n!==void 0){var a=n(t);if(ul){Tt(!0);try{n(t)}finally{Tt(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=J1.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=qi(e);var t=e.queue,n=D0.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Li,useDeferredValue:function(e,t){var n=Mt();return ki(n,e,t)},useTransition:function(){var e=qi(!1);return e=S0.bind(null,De,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=De,a=Mt();if(Be){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Qe===null)throw Error(c(349));(Ve&124)!==0||Js(l,t,n)}a.memoizedState=n;var u={value:n,getSnapshot:t};return a.queue=u,d0(Fs.bind(null,l,u,e),[e]),l.flags|=2048,jl(9,Zr(),$s.bind(null,l,u,n,t),null),n},useId:function(){var e=Mt(),t=Qe.identifierPrefix;if(Be){var n=cn,l=un;n=(l&~(1<<32-ct(l)-1)).toString(32)+n,t=""+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=L1++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Wi,useFormState:i0,useActionState:i0,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pi.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ni,useCacheRefresh:function(){return Mt().memoizedState=K1.bind(null,De)}},O0={readContext:St,use:Yr,useCallback:v0,useContext:St,useEffect:h0,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:qr,useRef:f0,useState:function(){return qr(fn)},useDebugValue:Li,useDeferredValue:function(e,t){var n=rt();return b0(n,Xe.memoizedState,e,t)},useTransition:function(){var e=qr(fn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:Aa(e),t]},useSyncExternalStore:Ks,useId:T0,useHostTransitionStatus:Wi,useFormState:c0,useActionState:c0,useOptimistic:function(e,t){var n=rt();return t0(n,Xe,e,t)},useMemoCache:Ni,useCacheRefresh:R0},$1={readContext:St,use:Yr,useCallback:v0,useContext:St,useEffect:h0,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:Yi,useRef:f0,useState:function(){return Yi(fn)},useDebugValue:Li,useDeferredValue:function(e,t){var n=rt();return Xe===null?ki(n,e,t):b0(n,Xe.memoizedState,e,t)},useTransition:function(){var e=Yi(fn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:Aa(e),t]},useSyncExternalStore:Ks,useId:T0,useHostTransitionStatus:Wi,useFormState:s0,useActionState:s0,useOptimistic:function(e,t){var n=rt();return Xe!==null?t0(n,Xe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ni,useCacheRefresh:R0},Nl=null,Ha=0;function Wr(e){var t=Ha;return Ha+=1,Nl===null&&(Nl=[]),Ys(Nl,e,t)}function Ga(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pr(e,t){throw t.$$typeof===C?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function A0(e){var t=e._init;return t(e._payload)}function V0(e){function t(E,R){if(e){var A=E.deletions;A===null?(E.deletions=[R],E.flags|=16):A.push(R)}}function n(E,R){if(!e)return null;for(;R!==null;)t(E,R),R=R.sibling;return null}function l(E){for(var R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function a(E,R){return E=rn(E,R),E.index=0,E.sibling=null,E}function u(E,R,A){return E.index=A,e?(A=E.alternate,A!==null?(A=A.index,A<R?(E.flags|=67108866,R):A):(E.flags|=67108866,R)):(E.flags|=1048576,R)}function d(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function g(E,R,A,P){return R===null||R.tag!==6?(R=pi(A,E.mode,P),R.return=E,R):(R=a(R,A),R.return=E,R)}function _(E,R,A,P){var re=A.type;return re===w?Q(E,R,A.props.children,P,A.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&A0(re)===R.type)?(R=a(R,A.props),Ga(R,A),R.return=E,R):(R=Or(A.type,A.key,A.props,null,E.mode,P),Ga(R,A),R.return=E,R)}function V(E,R,A,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==A.containerInfo||R.stateNode.implementation!==A.implementation?(R=gi(A,E.mode,P),R.return=E,R):(R=a(R,A.children||[]),R.return=E,R)}function Q(E,R,A,P,re){return R===null||R.tag!==7?(R=Fn(A,E.mode,P,re),R.return=E,R):(R=a(R,A),R.return=E,R)}function K(E,R,A){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=pi(""+R,E.mode,A),R.return=E,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return A=Or(R.type,R.key,R.props,null,E.mode,A),Ga(A,R),A.return=E,A;case T:return R=gi(R,E.mode,A),R.return=E,R;case le:var P=R._init;return R=P(R._payload),K(E,R,A)}if(oe(R)||ae(R))return R=Fn(R,E.mode,A,null),R.return=E,R;if(typeof R.then=="function")return K(E,Wr(R),A);if(R.$$typeof===X)return K(E,Hr(E,R),A);Pr(E,R)}return null}function G(E,R,A,P){var re=R!==null?R.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return re!==null?null:g(E,R,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return A.key===re?_(E,R,A,P):null;case T:return A.key===re?V(E,R,A,P):null;case le:return re=A._init,A=re(A._payload),G(E,R,A,P)}if(oe(A)||ae(A))return re!==null?null:Q(E,R,A,P,null);if(typeof A.then=="function")return G(E,R,Wr(A),P);if(A.$$typeof===X)return G(E,R,Hr(E,A),P);Pr(E,A)}return null}function B(E,R,A,P,re){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return E=E.get(A)||null,g(R,E,""+P,re);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return E=E.get(P.key===null?A:P.key)||null,_(R,E,P,re);case T:return E=E.get(P.key===null?A:P.key)||null,V(R,E,P,re);case le:var Ee=P._init;return P=Ee(P._payload),B(E,R,A,P,re)}if(oe(P)||ae(P))return E=E.get(A)||null,Q(R,E,P,re,null);if(typeof P.then=="function")return B(E,R,A,Wr(P),re);if(P.$$typeof===X)return B(E,R,A,Hr(R,P),re);Pr(R,P)}return null}function pe(E,R,A,P){for(var re=null,Ee=null,ie=R,me=R=0,dt=null;ie!==null&&me<A.length;me++){ie.index>me?(dt=ie,ie=null):dt=ie.sibling;var Ge=G(E,ie,A[me],P);if(Ge===null){ie===null&&(ie=dt);break}e&&ie&&Ge.alternate===null&&t(E,ie),R=u(Ge,R,me),Ee===null?re=Ge:Ee.sibling=Ge,Ee=Ge,ie=dt}if(me===A.length)return n(E,ie),Be&&el(E,me),re;if(ie===null){for(;me<A.length;me++)ie=K(E,A[me],P),ie!==null&&(R=u(ie,R,me),Ee===null?re=ie:Ee.sibling=ie,Ee=ie);return Be&&el(E,me),re}for(ie=l(ie);me<A.length;me++)dt=B(ie,E,me,A[me],P),dt!==null&&(e&&dt.alternate!==null&&ie.delete(dt.key===null?me:dt.key),R=u(dt,R,me),Ee===null?re=dt:Ee.sibling=dt,Ee=dt);return e&&ie.forEach(function(kn){return t(E,kn)}),Be&&el(E,me),re}function de(E,R,A,P){if(A==null)throw Error(c(151));for(var re=null,Ee=null,ie=R,me=R=0,dt=null,Ge=A.next();ie!==null&&!Ge.done;me++,Ge=A.next()){ie.index>me?(dt=ie,ie=null):dt=ie.sibling;var kn=G(E,ie,Ge.value,P);if(kn===null){ie===null&&(ie=dt);break}e&&ie&&kn.alternate===null&&t(E,ie),R=u(kn,R,me),Ee===null?re=kn:Ee.sibling=kn,Ee=kn,ie=dt}if(Ge.done)return n(E,ie),Be&&el(E,me),re;if(ie===null){for(;!Ge.done;me++,Ge=A.next())Ge=K(E,Ge.value,P),Ge!==null&&(R=u(Ge,R,me),Ee===null?re=Ge:Ee.sibling=Ge,Ee=Ge);return Be&&el(E,me),re}for(ie=l(ie);!Ge.done;me++,Ge=A.next())Ge=B(ie,E,me,Ge.value,P),Ge!==null&&(e&&Ge.alternate!==null&&ie.delete(Ge.key===null?me:Ge.key),R=u(Ge,R,me),Ee===null?re=Ge:Ee.sibling=Ge,Ee=Ge);return e&&ie.forEach(function(F3){return t(E,F3)}),Be&&el(E,me),re}function qe(E,R,A,P){if(typeof A=="object"&&A!==null&&A.type===w&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case b:e:{for(var re=A.key;R!==null;){if(R.key===re){if(re=A.type,re===w){if(R.tag===7){n(E,R.sibling),P=a(R,A.props.children),P.return=E,E=P;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&A0(re)===R.type){n(E,R.sibling),P=a(R,A.props),Ga(P,A),P.return=E,E=P;break e}n(E,R);break}else t(E,R);R=R.sibling}A.type===w?(P=Fn(A.props.children,E.mode,P,A.key),P.return=E,E=P):(P=Or(A.type,A.key,A.props,null,E.mode,P),Ga(P,A),P.return=E,E=P)}return d(E);case T:e:{for(re=A.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===A.containerInfo&&R.stateNode.implementation===A.implementation){n(E,R.sibling),P=a(R,A.children||[]),P.return=E,E=P;break e}else{n(E,R);break}else t(E,R);R=R.sibling}P=gi(A,E.mode,P),P.return=E,E=P}return d(E);case le:return re=A._init,A=re(A._payload),qe(E,R,A,P)}if(oe(A))return pe(E,R,A,P);if(ae(A)){if(re=ae(A),typeof re!="function")throw Error(c(150));return A=re.call(A),de(E,R,A,P)}if(typeof A.then=="function")return qe(E,R,Wr(A),P);if(A.$$typeof===X)return qe(E,R,Hr(E,A),P);Pr(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,R!==null&&R.tag===6?(n(E,R.sibling),P=a(R,A),P.return=E,E=P):(n(E,R),P=pi(A,E.mode,P),P.return=E,E=P),d(E)):n(E,R)}return function(E,R,A,P){try{Ha=0;var re=qe(E,R,A,P);return Nl=null,re}catch(ie){if(ie===Ra||ie===Br)throw ie;var Ee=zt(29,ie,null,E.mode);return Ee.lanes=P,Ee.return=E,Ee}finally{}}}var Xl=V0(!0),z0=V0(!1),kt=O(null),Ft=null;function On(e){var t=e.alternate;q(it,it.current&1),q(kt,e),Ft===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(Ft=e)}function H0(e){if(e.tag===22){if(q(it,it.current),q(kt,e),Ft===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ft=e)}}else An()}function An(){q(it,it.current),q(kt,kt.current)}function dn(e){k(kt),Ft===e&&(Ft=null),k(it)}var it=O(0);function Kr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||jc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ki(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ji={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Ut(),a=En(l);a.payload=t,n!=null&&(a.callback=n),t=Mn(e,a,l),t!==null&&(jt(t,e,l),Ea(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Ut(),a=En(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Mn(e,a,l),t!==null&&(jt(t,e,l),Ea(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),l=En(n);l.tag=2,t!=null&&(l.callback=t),t=Mn(e,l,n),t!==null&&(jt(t,e,n),Ea(t,e,n))}};function G0(e,t,n,l,a,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,d):t.prototype&&t.prototype.isPureReactComponent?!ya(n,l)||!ya(a,u):!0}function B0(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Ji.enqueueReplaceState(t,t.state,null)}function il(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Jr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function U0(e){Jr(e)}function j0(e){console.error(e)}function N0(e){Jr(e)}function $r(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function X0(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function $i(e,t,n){return n=En(n),n.tag=3,n.payload={element:null},n.callback=function(){$r(e,t)},n}function Y0(e){return e=En(e),e.tag=3,e}function q0(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var u=l.value;e.payload=function(){return a(u)},e.callback=function(){X0(t,n,l)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){X0(t,n,l),typeof a!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function F1(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ca(t,n,a,!0),n=kt.current,n!==null){switch(n.tag){case 13:return Ft===null?Sc():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===Di?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),_c(e,l,a)),!1;case 22:return n.flags|=65536,l===Di?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),_c(e,l,a)),!1}throw Error(c(435,n.tag))}return _c(e,l,a),Sc(),!1}if(Be)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==xi&&(e=Error(c(422),{cause:l}),Sa(Yt(e,n)))):(l!==xi&&(t=Error(c(423),{cause:l}),Sa(Yt(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=Yt(l,n),a=$i(e.stateNode,l,a),wi(e,a),Fe!==4&&(Fe=2)),!1;var u=Error(c(520),{cause:l});if(u=Yt(u,n),qa===null?qa=[u]:qa.push(u),Fe!==4&&(Fe=2),t===null)return!0;l=Yt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=$i(n.stateNode,l,e),wi(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Un===null||!Un.has(u))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Y0(a),q0(a,e,n,l),wi(n,a),!1}n=n.return}while(n!==null);return!1}var Z0=Error(c(461)),st=!1;function pt(e,t,n,l){t.child=e===null?z0(t,null,n,l):Xl(t,e.child,n,l)}function L0(e,t,n,l,a){n=n.render;var u=t.ref;if("ref"in l){var d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}else d=l;return al(t),l=Hi(e,t,n,d,u,a),g=Gi(),e!==null&&!st?(Bi(e,t,a),hn(e,t,a)):(Be&&g&&yi(t),t.flags|=1,pt(e,t,l,a),t.child)}function k0(e,t,n,l,a){if(e===null){var u=n.type;return typeof u=="function"&&!mi(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Q0(e,t,u,l,a)):(e=Or(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!rc(e,a)){var d=u.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(d,l)&&e.ref===t.ref)return hn(e,t,a)}return t.flags|=1,e=rn(u,l),e.ref=t.ref,e.return=t,t.child=e}function Q0(e,t,n,l,a){if(e!==null){var u=e.memoizedProps;if(ya(u,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=u,rc(e,a))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,hn(e,t,a)}return Fi(e,t,n,l,a)}function W0(e,t,n){var l=t.pendingProps,a=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|n:n,e!==null){for(a=t.child=e.child,u=0;a!==null;)u=u|a.lanes|a.childLanes,a=a.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return P0(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gr(t,u!==null?u.cachePool:null),u!==null?Qs(t,u):Ai(),H0(t);else return t.lanes=t.childLanes=536870912,P0(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(Gr(t,u.cachePool),Qs(t,u),An(),t.memoizedState=null):(e!==null&&Gr(t,null),Ai(),An());return pt(e,t,a,n),t.child}function P0(e,t,n,l){var a=Ri();return a=a===null?null:{parent:ut._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Gr(t,null),Ai(),H0(t),e!==null&&Ca(e,t,l,!0),null}function Fr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Fi(e,t,n,l,a){return al(t),n=Hi(e,t,n,l,void 0,a),l=Gi(),e!==null&&!st?(Bi(e,t,a),hn(e,t,a)):(Be&&l&&yi(t),t.flags|=1,pt(e,t,n,a),t.child)}function K0(e,t,n,l,a,u){return al(t),t.updateQueue=null,n=Ps(t,l,n,a),Ws(e),l=Gi(),e!==null&&!st?(Bi(e,t,u),hn(e,t,u)):(Be&&l&&yi(t),t.flags|=1,pt(e,t,n,u),t.child)}function J0(e,t,n,l,a){if(al(t),t.stateNode===null){var u=Ol,d=n.contextType;typeof d=="object"&&d!==null&&(u=St(d)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ji,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Ei(t),d=n.contextType,u.context=typeof d=="object"&&d!==null?St(d):Ol,u.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Ki(t,n,d,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&Ji.enqueueReplaceState(u,u.state,null),wa(t,l,u,a),Ma(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,_=il(n,g);u.props=_;var V=u.context,Q=n.contextType;d=Ol,typeof Q=="object"&&Q!==null&&(d=St(Q));var K=n.getDerivedStateFromProps;Q=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,Q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||V!==d)&&B0(t,u,l,d),Dn=!1;var G=t.memoizedState;u.state=G,wa(t,l,u,a),Ma(),V=t.memoizedState,g||G!==V||Dn?(typeof K=="function"&&(Ki(t,n,K,l),V=t.memoizedState),(_=Dn||G0(t,n,_,l,G,V,d))?(Q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=V),u.props=l,u.state=V,u.context=d,l=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Mi(e,t),d=t.memoizedProps,Q=il(n,d),u.props=Q,K=t.pendingProps,G=u.context,V=n.contextType,_=Ol,typeof V=="object"&&V!==null&&(_=St(V)),g=n.getDerivedStateFromProps,(V=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==K||G!==_)&&B0(t,u,l,_),Dn=!1,G=t.memoizedState,u.state=G,wa(t,l,u,a),Ma();var B=t.memoizedState;d!==K||G!==B||Dn||e!==null&&e.dependencies!==null&&zr(e.dependencies)?(typeof g=="function"&&(Ki(t,n,g,l),B=t.memoizedState),(Q=Dn||G0(t,n,Q,l,G,B,_)||e!==null&&e.dependencies!==null&&zr(e.dependencies))?(V||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,B,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,B,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),u.props=l,u.state=B,u.context=_,l=Q):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Fr(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Xl(t,e.child,null,a),t.child=Xl(t,null,n,a)):pt(e,t,n,a),t.memoizedState=u.state,e=t.child):e=hn(e,t,a),e}function $0(e,t,n,l){return ba(),t.flags|=256,pt(e,t,n,l),t.child}var Ii={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(e){return{baseLanes:e,cachePool:js()}}function tc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qt),e}function F0(e,t,n){var l=t.pendingProps,a=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),d&&(a=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(a?On(t):An(),Be){var g=$e,_;if(_=g){e:{for(_=g,g=$t;_.nodeType!==8;){if(!g){g=null;break e}if(_=Jt(_.nextSibling),_===null){g=null;break e}}g=_}g!==null?(t.memoizedState={dehydrated:g,treeContext:In!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},_=zt(18,null,null,0),_.stateNode=g,_.return=t,t.child=_,Rt=t,$e=null,_=!0):_=!1}_||nl(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return jc(g)?t.lanes=32:t.lanes=536870912,null;dn(t)}return g=l.children,l=l.fallback,a?(An(),a=t.mode,g=Ir({mode:"hidden",children:g},a),l=Fn(l,a,n,null),g.return=t,l.return=t,g.sibling=l,t.child=g,a=t.child,a.memoizedState=ec(n),a.childLanes=tc(e,d,n),t.memoizedState=Ii,l):(On(t),nc(t,g))}if(_=e.memoizedState,_!==null&&(g=_.dehydrated,g!==null)){if(u)t.flags&256?(On(t),t.flags&=-257,t=lc(e,t,n)):t.memoizedState!==null?(An(),t.child=e.child,t.flags|=128,t=null):(An(),a=l.fallback,g=t.mode,l=Ir({mode:"visible",children:l.children},g),a=Fn(a,g,n,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,Xl(t,e.child,null,n),l=t.child,l.memoizedState=ec(n),l.childLanes=tc(e,d,n),t.memoizedState=Ii,t=a);else if(On(t),jc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var V=d.dgst;d=V,l=Error(c(419)),l.stack="",l.digest=d,Sa({value:l,source:null,stack:null}),t=lc(e,t,n)}else if(st||Ca(e,t,n,!1),d=(n&e.childLanes)!==0,st||d){if(d=Qe,d!==null&&(l=n&-n,l=(l&42)!==0?1:Nu(l),l=(l&(d.suspendedLanes|n))!==0?0:l,l!==0&&l!==_.retryLane))throw _.retryLane=l,wl(e,l),jt(d,e,l),Z0;g.data==="$?"||Sc(),t=lc(e,t,n)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,$e=Jt(g.nextSibling),Rt=t,Be=!0,tl=null,$t=!1,e!==null&&(Zt[Lt++]=un,Zt[Lt++]=cn,Zt[Lt++]=In,un=e.id,cn=e.overflow,In=t),t=nc(t,l.children),t.flags|=4096);return t}return a?(An(),a=l.fallback,g=t.mode,_=e.child,V=_.sibling,l=rn(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,V!==null?a=rn(V,a):(a=Fn(a,g,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,g=e.child.memoizedState,g===null?g=ec(n):(_=g.cachePool,_!==null?(V=ut._currentValue,_=_.parent!==V?{parent:V,pool:V}:_):_=js(),g={baseLanes:g.baseLanes|n,cachePool:_}),a.memoizedState=g,a.childLanes=tc(e,d,n),t.memoizedState=Ii,l):(On(t),n=e.child,e=n.sibling,n=rn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function nc(e,t){return t=Ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ir(e,t){return e=zt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lc(e,t,n){return Xl(t,e.child,null,n),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I0(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Si(e.return,t,n)}function ac(e,t,n,l,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=a)}function ef(e,t,n){var l=t.pendingProps,a=l.revealOrder,u=l.tail;if(pt(e,t,l.children,n),l=it.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I0(e,n,t);else if(e.tag===19)I0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(q(it,l),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Kr(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ac(t,!1,a,n,u);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Kr(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ac(t,!0,n,null,u);break;case"together":ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ca(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zr(e)))}function I1(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),Rn(t,ut,e.memoizedState.cache),ba();break;case 27:case 5:We(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:Rn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(On(t),t.flags|=128,null):(n&t.child.childLanes)!==0?F0(e,t,n):(On(t),e=hn(e,t,n),e!==null?e.sibling:null);On(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ca(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return ef(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(it,it.current),l)break;return null;case 22:case 23:return t.lanes=0,W0(e,t,n);case 24:Rn(t,ut,e.memoizedState.cache)}return hn(e,t,n)}function tf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!rc(e,n)&&(t.flags&128)===0)return st=!1,I1(e,t,n);st=(e.flags&131072)!==0}else st=!1,Be&&(t.flags&1048576)!==0&&As(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,a=l._init;if(l=a(l._payload),t.type=l,typeof l=="function")mi(l)?(e=il(l,e),t.tag=1,t=J0(null,t,l,e,n)):(t.tag=0,t=Fi(null,t,l,e,n));else{if(l!=null){if(a=l.$$typeof,a===L){t.tag=11,t=L0(null,t,l,e,n);break e}else if(a===Z){t.tag=14,t=k0(null,t,l,e,n);break e}}throw t=Re(l)||l,Error(c(306,t,""))}}return t;case 0:return Fi(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=il(l,t.pendingProps),J0(e,t,l,a,n);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var u=t.memoizedState;a=u.element,Mi(e,t),wa(t,l,null,n);var d=t.memoizedState;if(l=d.cache,Rn(t,ut,l),l!==u.cache&&Ci(t,[ut],n,!0),Ma(),l=d.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=$0(e,t,l,n);break e}else if(l!==a){a=Yt(Error(c(424)),t),Sa(a),t=$0(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Jt(e.firstChild),Rt=t,Be=!0,tl=null,$t=!0,n=z0(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ba(),l===a){t=hn(e,t,n);break e}pt(e,t,l,n)}t=t.child}return t;case 26:return Fr(e,t),e===null?(n=u2(t.type,null,t.pendingProps,null))?t.memoizedState=n:Be||(n=t.type,e=t.pendingProps,l=hu(ee.current).createElement(n),l[bt]=t,l[Dt]=e,yt(l,n,e),ot(l),t.stateNode=l):t.memoizedState=u2(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return We(t),e===null&&Be&&(l=t.stateNode=l2(t.type,t.pendingProps,ee.current),Rt=t,$t=!0,a=$e,Xn(t.type)?(Nc=a,$e=Jt(l.firstChild)):$e=a),pt(e,t,t.pendingProps.children,n),Fr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((a=l=$e)&&(l=E3(l,t.type,t.pendingProps,$t),l!==null?(t.stateNode=l,Rt=t,$e=Jt(l.firstChild),$t=!1,a=!0):a=!1),a||nl(t)),We(t),a=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,l=u.children,Gc(a,u)?l=null:d!==null&&Gc(a,d)&&(t.flags|=32),t.memoizedState!==null&&(a=Hi(e,t,k1,null,null,n),$a._currentValue=a),Fr(e,t),pt(e,t,l,n),t.child;case 6:return e===null&&Be&&((e=n=$e)&&(n=M3(n,t.pendingProps,$t),n!==null?(t.stateNode=n,Rt=t,$e=null,e=!0):e=!1),e||nl(t)),null;case 13:return F0(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Xl(t,null,l,n):pt(e,t,l,n),t.child;case 11:return L0(e,t,t.type,t.pendingProps,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Rn(t,t.type,l.value),pt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,al(t),a=St(a),l=l(a),t.flags|=1,pt(e,t,l,n),t.child;case 14:return k0(e,t,t.type,t.pendingProps,n);case 15:return Q0(e,t,t.type,t.pendingProps,n);case 19:return ef(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=Ir(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=rn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return W0(e,t,n);case 24:return al(t),l=St(ut),e===null?(a=Ri(),a===null&&(a=Qe,u=_i(),a.pooledCache=u,u.refCount++,u!==null&&(a.pooledCacheLanes|=n),a=u),t.memoizedState={parent:l,cache:a},Ei(t),Rn(t,ut,a)):((e.lanes&n)!==0&&(Mi(e,t),wa(t,null,null,n),Ma()),a=e.memoizedState,u=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Rn(t,ut,l)):(l=u.cache,Rn(t,ut,l),l!==a.cache&&Ci(t,[ut],n,!0))),pt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function mn(e){e.flags|=4}function nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f2(t)){if(t=kt.current,t!==null&&((Ve&4194048)===Ve?Ft!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||t!==Ft))throw Da=Di,Ns;e.flags|=8192}}function eu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ho():536870912,e.lanes|=t,Ll|=t)}function Ba(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function e3(e,t,n){var l=t.pendingProps;switch(vi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),sn(ut),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xa(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hs())),Ke(t),null;case 26:return n=t.memoizedState,e===null?(mn(t),n!==null?(Ke(t),nf(t,n)):(Ke(t),t.flags&=-16777217)):n?n!==e.memoizedState?(mn(t),Ke(t),nf(t,n)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&mn(t),Ke(t),t.flags&=-16777217),null;case 27:Je(t),n=ee.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ke(t),null}e=F.current,xa(t)?Vs(t):(e=l2(a,l,n),t.stateNode=e,mn(t))}return Ke(t),null;case 5:if(Je(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ke(t),null}if(e=F.current,xa(t))Vs(t);else{switch(a=hu(ee.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?a.createElement("select",{is:l.is}):a.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?a.createElement(n,{is:l.is}):a.createElement(n)}}e[bt]=t,e[Dt]=l;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(yt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&mn(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=ee.current,xa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=Rt,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[bt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Jf(e.nodeValue,n)),e||nl(t)}else e=hu(e).createTextNode(l),e[bt]=t,t.stateNode=e}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=xa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(c(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));a[bt]=t}else ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),a=!1}else a=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(dn(t),t):(dn(t),null)}if(dn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==a&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),eu(t,t.updateQueue),Ke(t),null;case 4:return Ue(),e===null&&Oc(t.stateNode.containerInfo),Ke(t),null;case 10:return sn(t.type),Ke(t),null;case 19:if(k(it),a=t.memoizedState,a===null)return Ke(t),null;if(l=(t.flags&128)!==0,u=a.rendering,u===null)if(l)Ba(a,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Kr(e),u!==null){for(t.flags|=128,Ba(a,!1),e=u.updateQueue,t.updateQueue=e,eu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Os(n,e),n=n.sibling;return q(it,it.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>lu&&(t.flags|=128,l=!0,Ba(a,!1),t.lanes=4194304)}else{if(!l)if(e=Kr(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,eu(t,e),Ba(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Be)return Ke(t),null}else 2*he()-a.renderingStartTime>lu&&n!==536870912&&(t.flags|=128,l=!0,Ba(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,e=it.current,q(it,l?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return dn(t),Vi(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&eu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&k(rl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sn(ut),Ke(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function t3(e,t){switch(vi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(ut),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Je(t),null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(it),null;case 4:return Ue(),null;case 10:return sn(t.type),null;case 22:case 23:return dn(t),Vi(),e!==null&&k(rl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sn(ut),null;case 25:return null;default:return null}}function lf(e,t){switch(vi(t),t.tag){case 3:sn(ut),Ue();break;case 26:case 27:case 5:Je(t);break;case 4:Ue();break;case 13:dn(t);break;case 19:k(it);break;case 10:sn(t.type);break;case 22:case 23:dn(t),Vi(),e!==null&&k(rl);break;case 24:sn(ut)}}function Ua(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var u=n.create,d=n.inst;l=u(),d.destroy=l}n=n.next}while(n!==a)}}catch(g){ke(t,t.return,g)}}function Vn(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var u=a.next;l=u;do{if((l.tag&e)===e){var d=l.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,a=t;var _=n,V=g;try{V()}catch(Q){ke(a,_,Q)}}}l=l.next}while(l!==u)}}catch(Q){ke(t,t.return,Q)}}function af(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ks(t,n)}catch(l){ke(e,e.return,l)}}}function rf(e,t,n){n.props=il(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ke(e,t,l)}}function ja(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){ke(e,t,a)}}function It(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){ke(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){ke(e,t,a)}else n.current=null}function uf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){ke(e,e.return,a)}}function uc(e,t,n){try{var l=e.stateNode;C3(l,e.type,n,t),l[Dt]=t}catch(a){ke(e,e.return,a)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=du));else if(l!==4&&(l===27&&Xn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function tu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Xn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function of(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);yt(t,l,n),t[bt]=e,t[Dt]=n}catch(u){ke(e,e.return,u)}}var pn=!1,et=!1,oc=!1,sf=typeof WeakSet=="function"?WeakSet:Set,ft=null;function n3(e,t){if(e=e.containerInfo,zc=xu,e=bs(e),ii(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var d=0,g=-1,_=-1,V=0,Q=0,K=e,G=null;t:for(;;){for(var B;K!==n||a!==0&&K.nodeType!==3||(g=d+a),K!==u||l!==0&&K.nodeType!==3||(_=d+l),K.nodeType===3&&(d+=K.nodeValue.length),(B=K.firstChild)!==null;)G=K,K=B;for(;;){if(K===e)break t;if(G===n&&++V===a&&(g=d),G===u&&++Q===l&&(_=d),(B=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=B}n=g===-1||_===-1?null:{start:g,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:e,selectionRange:n},xu=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,a=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var pe=il(n.type,a,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(pe,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(de){ke(n,n.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Uc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function ff(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:zn(e,n),l&4&&Ua(5,n);break;case 1:if(zn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){ke(n,n.return,d)}else{var a=il(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ke(n,n.return,d)}}l&64&&af(n),l&512&&ja(n,n.return);break;case 3:if(zn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ks(e,t)}catch(d){ke(n,n.return,d)}}break;case 27:t===null&&l&4&&of(n);case 26:case 5:zn(e,n),t===null&&l&4&&uf(n),l&512&&ja(n,n.return);break;case 12:zn(e,n);break;case 13:zn(e,n),l&4&&mf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=f3.bind(null,n),w3(e,n))));break;case 22:if(l=n.memoizedState!==null||pn,!l){t=t!==null&&t.memoizedState!==null||et,a=pn;var u=et;pn=l,(et=t)&&!u?Hn(e,n,(n.subtreeFlags&8772)!==0):zn(e,n),pn=a,et=u}break;case 30:break;default:zn(e,n)}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,wt=!1;function gn(e,t,n){for(n=n.child;n!==null;)hf(e,t,n),n=n.sibling}function hf(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Se,n)}catch{}switch(n.tag){case 26:et||It(n,t),gn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||It(n,t);var l=Pe,a=wt;Xn(n.type)&&(Pe=n.stateNode,wt=!1),gn(e,t,n),Wa(n.stateNode),Pe=l,wt=a;break;case 5:et||It(n,t);case 6:if(l=Pe,a=wt,Pe=null,gn(e,t,n),Pe=l,wt=a,Pe!==null)if(wt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(u){ke(n,t,u)}else try{Pe.removeChild(n.stateNode)}catch(u){ke(n,t,u)}break;case 18:Pe!==null&&(wt?(e=Pe,t2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),tr(e)):t2(Pe,n.stateNode));break;case 4:l=Pe,a=wt,Pe=n.stateNode.containerInfo,wt=!0,gn(e,t,n),Pe=l,wt=a;break;case 0:case 11:case 14:case 15:et||Vn(2,n,t),et||Vn(4,n,t),gn(e,t,n);break;case 1:et||(It(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&rf(n,t,l)),gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:et=(l=et)||n.memoizedState!==null,gn(e,t,n),et=l;break;default:gn(e,t,n)}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tr(e)}catch(n){ke(t,t.return,n)}}function l3(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(c(435,e.tag))}}function sc(e,t){var n=l3(e);t.forEach(function(l){var a=d3.bind(null,e,l);n.has(l)||(n.add(l),l.then(a,a))})}function Ht(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],u=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Xn(g.type)){Pe=g.stateNode,wt=!1;break e}break;case 5:Pe=g.stateNode,wt=!1;break e;case 3:case 4:Pe=g.stateNode.containerInfo,wt=!0;break e}g=g.return}if(Pe===null)throw Error(c(160));hf(u,d,a),Pe=null,wt=!1,u=a.alternate,u!==null&&(u.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}var Kt=null;function pf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Gt(e),l&4&&(Vn(3,e,e.return),Ua(3,e),Vn(5,e,e.return));break;case 1:Ht(t,e),Gt(e),l&512&&(et||n===null||It(n,n.return)),l&64&&pn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=Kt;if(Ht(t,e),Gt(e),l&512&&(et||n===null||It(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":u=a.getElementsByTagName("title")[0],(!u||u[ca]||u[bt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=a.createElement(l),a.head.insertBefore(u,a.querySelector("head > title"))),yt(u,l,n),u[bt]=e,ot(u),l=u;break e;case"link":var d=o2("link","href",a).get(l+(n.href||""));if(d){for(var g=0;g<d.length;g++)if(u=d[g],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(g,1);break t}}u=a.createElement(l),yt(u,l,n),a.head.appendChild(u);break;case"meta":if(d=o2("meta","content",a).get(l+(n.content||""))){for(g=0;g<d.length;g++)if(u=d[g],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(g,1);break t}}u=a.createElement(l),yt(u,l,n),a.head.appendChild(u);break;default:throw Error(c(468,l))}u[bt]=e,ot(u),l=u}e.stateNode=l}else s2(a,e.type,e.stateNode);else e.stateNode=c2(a,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?s2(a,e.type,e.stateNode):c2(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ht(t,e),Gt(e),l&512&&(et||n===null||It(n,n.return)),n!==null&&l&4&&uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ht(t,e),Gt(e),l&512&&(et||n===null||It(n,n.return)),e.flags&32){a=e.stateNode;try{Cl(a,"")}catch(B){ke(e,e.return,B)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,uc(e,a,n!==null?n.memoizedProps:a)),l&1024&&(oc=!0);break;case 6:if(Ht(t,e),Gt(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(B){ke(e,e.return,B)}}break;case 3:if(gu=null,a=Kt,Kt=mu(t.containerInfo),Ht(t,e),Kt=a,Gt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{tr(t.containerInfo)}catch(B){ke(e,e.return,B)}oc&&(oc=!1,gf(e));break;case 4:l=Kt,Kt=mu(e.stateNode.containerInfo),Ht(t,e),Gt(e),Kt=l;break;case 12:Ht(t,e),Gt(e);break;case 13:Ht(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gc=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 22:a=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,V=pn,Q=et;if(pn=V||a,et=Q||_,Ht(t,e),et=Q,pn=V,Gt(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||_||pn||et||cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,a)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=_.stateNode;var K=_.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;g.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(B){ke(_,_.return,B)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=a?"":_.memoizedProps}catch(B){ke(_,_.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,sc(e,n))));break;case 19:Ht(t,e),Gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 30:break;case 21:break;default:Ht(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cf(l)){n=l;break}l=l.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var a=n.stateNode,u=ic(e);tu(e,u,a);break;case 5:var d=n.stateNode;n.flags&32&&(Cl(d,""),n.flags&=-33);var g=ic(e);tu(e,g,d);break;case 3:case 4:var _=n.stateNode.containerInfo,V=ic(e);cc(e,V,_);break;default:throw Error(c(161))}}catch(Q){ke(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ff(e,t.alternate,t),t=t.sibling}function cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),cl(t);break;case 1:It(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rf(t,t.return,n),cl(t);break;case 27:Wa(t.stateNode);case 26:case 5:It(t,t.return),cl(t);break;case 22:t.memoizedState===null&&cl(t);break;case 30:cl(t);break;default:cl(t)}e=e.sibling}}function Hn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:Hn(a,u,n),Ua(4,u);break;case 1:if(Hn(a,u,n),l=u,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(V){ke(l,l.return,V)}if(l=u,a=l.updateQueue,a!==null){var g=l.stateNode;try{var _=a.shared.hiddenCallbacks;if(_!==null)for(a.shared.hiddenCallbacks=null,a=0;a<_.length;a++)Ls(_[a],g)}catch(V){ke(l,l.return,V)}}n&&d&64&&af(u),ja(u,u.return);break;case 27:of(u);case 26:case 5:Hn(a,u,n),n&&l===null&&d&4&&uf(u),ja(u,u.return);break;case 12:Hn(a,u,n);break;case 13:Hn(a,u,n),n&&d&4&&mf(a,u);break;case 22:u.memoizedState===null&&Hn(a,u,n),ja(u,u.return);break;case 30:break;default:Hn(a,u,n)}t=t.sibling}}function fc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_a(n))}function dc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e))}function en(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yf(e,t,n,l),t=t.sibling}function yf(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,n,l),a&2048&&Ua(9,t);break;case 1:en(e,t,n,l);break;case 3:en(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e)));break;case 12:if(a&2048){en(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,g=u.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ke(t,t.return,_)}}else en(e,t,n,l);break;case 13:en(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?en(e,t,n,l):Na(e,t):u._visibility&2?en(e,t,n,l):(u._visibility|=2,Yl(e,t,n,l,(t.subtreeFlags&10256)!==0)),a&2048&&fc(d,t);break;case 24:en(e,t,n,l),a&2048&&dc(t.alternate,t);break;default:en(e,t,n,l)}}function Yl(e,t,n,l,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,d=t,g=n,_=l,V=d.flags;switch(d.tag){case 0:case 11:case 15:Yl(u,d,g,_,a),Ua(8,d);break;case 23:break;case 22:var Q=d.stateNode;d.memoizedState!==null?Q._visibility&2?Yl(u,d,g,_,a):Na(u,d):(Q._visibility|=2,Yl(u,d,g,_,a)),a&&V&2048&&fc(d.alternate,d);break;case 24:Yl(u,d,g,_,a),a&&V&2048&&dc(d.alternate,d);break;default:Yl(u,d,g,_,a)}t=t.sibling}}function Na(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Na(n,l),a&2048&&fc(l.alternate,l);break;case 24:Na(n,l),a&2048&&dc(l.alternate,l);break;default:Na(n,l)}t=t.sibling}}var Xa=8192;function ql(e){if(e.subtreeFlags&Xa)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 26:ql(e),e.flags&Xa&&e.memoizedState!==null&&q3(Kt,e.memoizedState,e.memoizedProps);break;case 5:ql(e);break;case 3:case 4:var t=Kt;Kt=mu(e.stateNode.containerInfo),ql(e),Kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Xa,Xa=16777216,ql(e),Xa=t):ql(e));break;default:ql(e)}}function xf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ya(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ft=l,Sf(l,e)}xf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Ya(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:Ya(e);break;case 12:Ya(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nu(e)):Ya(e);break;default:Ya(e)}}function nu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ft=l,Sf(l,e)}xf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),nu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,nu(t));break;default:nu(t)}e=e.sibling}}function Sf(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_a(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,ft=l;else e:for(n=e;ft!==null;){l=ft;var a=l.sibling,u=l.return;if(df(l),l===n){ft=null;break e}if(a!==null){a.return=u,ft=a;break e}ft=u}}}var a3={getCacheForType:function(e){var t=St(ut),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},r3=typeof WeakMap=="function"?WeakMap:Map,je=0,Qe=null,Me=null,Ve=0,Ne=0,Bt=null,Gn=!1,Zl=!1,hc=!1,yn=0,Fe=0,Bn=0,ol=0,mc=0,Qt=0,Ll=0,qa=null,Ot=null,pc=!1,gc=0,lu=1/0,au=null,Un=null,gt=0,jn=null,kl=null,Ql=0,yc=0,vc=null,Cf=null,Za=0,xc=null;function Ut(){if((je&2)!==0&&Ve!==0)return Ve&-Ve;if(z.T!==null){var e=zl;return e!==0?e:Dc()}return Uo()}function _f(){Qt===0&&(Qt=(Ve&536870912)===0||Be?zo():536870912);var e=kt.current;return e!==null&&(e.flags|=32),Qt}function jt(e,t,n){(e===Qe&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Nn(e,Ve,Qt,!1)),ia(e,n),((je&2)===0||e!==Qe)&&(e===Qe&&((je&2)===0&&(ol|=n),Fe===4&&Nn(e,Ve,Qt,!1)),tn(e))}function Tf(e,t,n){if((je&6)!==0)throw Error(c(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ua(e,t),a=l?c3(e,t):Cc(e,t,!0),u=l;do{if(a===0){Zl&&!l&&Nn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!u3(n)){a=Cc(e,t,!1),u=!1;continue}if(a===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;a=qa;var _=g.current.memoizedState.isDehydrated;if(_&&(Wl(g,d).flags|=256),d=Cc(g,d,!1),d!==2){if(hc&&!_){g.errorRecoveryDisabledLanes|=u,ol|=u,a=4;break e}u=Ot,Ot=a,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}a=d}if(u=!1,a!==2)continue}}if(a===1){Wl(e,0),Nn(e,t,0,!0);break}e:{switch(l=e,u=a,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Nn(l,t,Qt,!Gn);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(a=gc+300-he(),10<a)){if(Nn(l,t,Qt,!Gn),pr(l,0,!0)!==0)break e;l.timeoutHandle=If(Rf.bind(null,l,n,Ot,au,pc,t,Qt,ol,Ll,Gn,u,2,-0,0),a);break e}Rf(l,n,Ot,au,pc,t,Qt,ol,Ll,Gn,u,0,-0,0)}}break}while(!0);tn(e)}function Rf(e,t,n,l,a,u,d,g,_,V,Q,K,G,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:Y3},vf(t),K=Z3(),K!==null)){e.cancelPendingCommit=K(Vf.bind(null,e,t,u,n,l,a,d,g,_,Q,1,G,B)),Nn(e,u,d,!V);return}Vf(e,t,u,n,l,a,d,g,_)}function u3(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],u=a.getSnapshot;a=a.value;try{if(!Vt(u(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t,n,l){t&=~mc,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var u=31-ct(a),d=1<<u;l[u]=-1,a&=~d}n!==0&&Go(e,n,t)}function ru(){return(je&6)===0?(La(0),!1):!0}function bc(){if(Me!==null){if(Ne===0)var e=Me.return;else e=Me,on=ll=null,Ui(e),Nl=null,Ha=0,e=Me;for(;e!==null;)lf(e.alternate,e),e=e.return;Me=null}}function Wl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,T3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bc(),Qe=e,Me=n=rn(e.current,null),Ve=t,Ne=0,Bt=null,Gn=!1,Zl=ua(e,t),hc=!1,Ll=Qt=mc=ol=Bn=Fe=0,Ot=qa=null,pc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-ct(l),u=1<<a;t|=e[a],l&=~u}return yn=t,Er(),n}function Df(e,t){De=null,z.H=Qr,t===Ra||t===Br?(t=qs(),Ne=3):t===Ns?(t=qs(),Ne=4):Ne=t===Z0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,Me===null&&(Fe=1,$r(e,Yt(t,e.current)))}function Ef(){var e=z.H;return z.H=Qr,e===null?Qr:e}function Mf(){var e=z.A;return z.A=a3,e}function Sc(){Fe=4,Gn||(Ve&4194048)!==Ve&&kt.current!==null||(Zl=!0),(Bn&134217727)===0&&(ol&134217727)===0||Qe===null||Nn(Qe,Ve,Qt,!1)}function Cc(e,t,n){var l=je;je|=2;var a=Ef(),u=Mf();(Qe!==e||Ve!==t)&&(au=null,Wl(e,t)),t=!1;var d=Fe;e:do try{if(Ne!==0&&Me!==null){var g=Me,_=Bt;switch(Ne){case 8:bc(),d=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var V=Ne;if(Ne=0,Bt=null,Pl(e,g,_,V),n&&Zl){d=0;break e}break;default:V=Ne,Ne=0,Bt=null,Pl(e,g,_,V)}}i3(),d=Fe;break}catch(Q){Df(e,Q)}while(!0);return t&&e.shellSuspendCounter++,on=ll=null,je=l,z.H=a,z.A=u,Me===null&&(Qe=null,Ve=0,Er()),d}function i3(){for(;Me!==null;)wf(Me)}function c3(e,t){var n=je;je|=2;var l=Ef(),a=Mf();Qe!==e||Ve!==t?(au=null,lu=he()+500,Wl(e,t)):Zl=ua(e,t);e:do try{if(Ne!==0&&Me!==null){t=Me;var u=Bt;t:switch(Ne){case 1:Ne=0,Bt=null,Pl(e,t,u,1);break;case 2:case 9:if(Xs(u)){Ne=0,Bt=null,Of(t);break}t=function(){Ne!==2&&Ne!==9||Qe!==e||(Ne=7),tn(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Xs(u)?(Ne=0,Bt=null,Of(t)):(Ne=0,Bt=null,Pl(e,t,u,7));break;case 5:var d=null;switch(Me.tag){case 26:d=Me.memoizedState;case 5:case 27:var g=Me;if(!d||f2(d)){Ne=0,Bt=null;var _=g.sibling;if(_!==null)Me=_;else{var V=g.return;V!==null?(Me=V,uu(V)):Me=null}break t}}Ne=0,Bt=null,Pl(e,t,u,5);break;case 6:Ne=0,Bt=null,Pl(e,t,u,6);break;case 8:bc(),Fe=6;break e;default:throw Error(c(462))}}o3();break}catch(Q){Df(e,Q)}while(!0);return on=ll=null,z.H=l,z.A=a,je=n,Me!==null?0:(Qe=null,Ve=0,Er(),Fe)}function o3(){for(;Me!==null&&!I();)wf(Me)}function wf(e){var t=tf(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?uu(e):Me=t}function Of(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=K0(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=K0(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Ui(t);default:lf(n,t),t=Me=Os(t,yn),t=tf(n,t,yn)}e.memoizedProps=e.pendingProps,t===null?uu(e):Me=t}function Pl(e,t,n,l){on=ll=null,Ui(t),Nl=null,Ha=0;var a=t.return;try{if(F1(e,a,t,n,Ve)){Fe=1,$r(e,Yt(n,e.current)),Me=null;return}}catch(u){if(a!==null)throw Me=a,u;Fe=1,$r(e,Yt(n,e.current)),Me=null;return}t.flags&32768?(Be||l===1?e=!0:Zl||(Ve&536870912)!==0?e=!1:(Gn=e=!0,(l===2||l===9||l===3||l===6)&&(l=kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):uu(t)}function uu(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Gn);return}e=t.return;var n=e3(t.alternate,t,yn);if(n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function Af(e,t){do{var n=t3(e.alternate,e);if(n!==null){n.flags&=32767,Me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=n}while(e!==null);Fe=6,Me=null}function Vf(e,t,n,l,a,u,d,g,_){e.cancelPendingCommit=null;do iu();while(gt!==0);if((je&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=di,Yd(e,n,u,d,g,_),e===Qe&&(Me=Qe=null,Ve=0),kl=t,jn=e,Ql=n,yc=u,vc=a,Cf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,h3(Ae,function(){return Uf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,a=$.p,$.p=2,d=je,je|=4;try{n3(e,t,n)}finally{je=d,$.p=a,z.T=l}}gt=1,zf(),Hf(),Gf()}}function zf(){if(gt===1){gt=0;var e=jn,t=kl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=$.p;$.p=2;var a=je;je|=4;try{pf(t,e);var u=Hc,d=bs(e.containerInfo),g=u.focusedElem,_=u.selectionRange;if(d!==g&&g&&g.ownerDocument&&xs(g.ownerDocument.documentElement,g)){if(_!==null&&ii(g)){var V=_.start,Q=_.end;if(Q===void 0&&(Q=V),"selectionStart"in g)g.selectionStart=V,g.selectionEnd=Math.min(Q,g.value.length);else{var K=g.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var B=G.getSelection(),pe=g.textContent.length,de=Math.min(_.start,pe),qe=_.end===void 0?de:Math.min(_.end,pe);!B.extend&&de>qe&&(d=qe,qe=de,de=d);var E=vs(g,de),R=vs(g,qe);if(E&&R&&(B.rangeCount!==1||B.anchorNode!==E.node||B.anchorOffset!==E.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var A=K.createRange();A.setStart(E.node,E.offset),B.removeAllRanges(),de>qe?(B.addRange(A),B.extend(R.node,R.offset)):(A.setEnd(R.node,R.offset),B.addRange(A))}}}}for(K=[],B=g;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<K.length;g++){var P=K[g];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}xu=!!zc,Hc=zc=null}finally{je=a,$.p=l,z.T=n}}e.current=t,gt=2}}function Hf(){if(gt===2){gt=0;var e=jn,t=kl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=$.p;$.p=2;var a=je;je|=4;try{ff(e,t.alternate,t)}finally{je=a,$.p=l,z.T=n}}gt=3}}function Gf(){if(gt===4||gt===3){gt=0,se();var e=jn,t=kl,n=Ql,l=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,kl=jn=null,Bf(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Un=null),Xu(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Se,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,a=$.p,$.p=2,z.T=null;try{for(var u=e.onRecoverableError,d=0;d<l.length;d++){var g=l[d];u(g.value,{componentStack:g.stack})}}finally{z.T=t,$.p=a}}(Ql&3)!==0&&iu(),tn(e),a=e.pendingLanes,(n&4194090)!==0&&(a&42)!==0?e===xc?Za++:(Za=0,xc=e):Za=0,La(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_a(t)))}function iu(e){return zf(),Hf(),Gf(),Uf()}function Uf(){if(gt!==5)return!1;var e=jn,t=yc;yc=0;var n=Xu(Ql),l=z.T,a=$.p;try{$.p=32>n?32:n,z.T=null,n=vc,vc=null;var u=jn,d=Ql;if(gt=0,kl=jn=null,Ql=0,(je&6)!==0)throw Error(c(331));var g=je;if(je|=4,bf(u.current),yf(u,u.current,d,n),je=g,La(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Se,u)}catch{}return!0}finally{$.p=a,z.T=l,Bf(e,t)}}function jf(e,t,n){t=Yt(n,t),t=$i(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(ia(e,2),tn(e))}function ke(e,t,n){if(e.tag===3)jf(e,e,n);else for(;t!==null;){if(t.tag===3){jf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Un===null||!Un.has(l))){e=Yt(n,e),n=Y0(2),l=Mn(t,n,2),l!==null&&(q0(n,l,t,e),ia(l,2),tn(l));break}}t=t.return}}function _c(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new r3;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||(hc=!0,a.add(n),e=s3.bind(null,e,t,n),t.then(e,e))}function s3(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Qe===e&&(Ve&n)===n&&(Fe===4||Fe===3&&(Ve&62914560)===Ve&&300>he()-gc?(je&2)===0&&Wl(e,0):mc|=n,Ll===Ve&&(Ll=0)),tn(e)}function Nf(e,t){t===0&&(t=Ho()),e=wl(e,t),e!==null&&(ia(e,t),tn(e))}function f3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nf(e,n)}function d3(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),Nf(e,n)}function h3(e,t){return vt(e,t)}var cu=null,Kl=null,Tc=!1,ou=!1,Rc=!1,sl=0;function tn(e){e!==Kl&&e.next===null&&(Kl===null?cu=Kl=e:Kl=Kl.next=e),ou=!0,Tc||(Tc=!0,p3())}function La(e,t){if(!Rc&&ou){Rc=!0;do for(var n=!1,l=cu;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var u=0;else{var d=l.suspendedLanes,g=l.pingedLanes;u=(1<<31-ct(42|e)+1)-1,u&=a&~(d&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Zf(l,u))}else u=Ve,u=pr(l,l===Qe?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||ua(l,u)||(n=!0,Zf(l,u));l=l.next}while(n);Rc=!1}}function m3(){Xf()}function Xf(){ou=Tc=!1;var e=0;sl!==0&&(_3()&&(e=sl),sl=0);for(var t=he(),n=null,l=cu;l!==null;){var a=l.next,u=Yf(l,t);u===0?(l.next=null,n===null?cu=a:n.next=a,a===null&&(Kl=n)):(n=l,(e!==0||(u&3)!==0)&&(ou=!0)),l=a}La(e)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-ct(u),g=1<<d,_=a[d];_===-1?((g&n)===0||(g&l)!==0)&&(a[d]=Xd(g,t)):_<=t&&(e.expiredLanes|=g),u&=~g}if(t=Qe,n=Ve,n=pr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ua(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&xt(l),Xu(n)){case 2:case 8:n=Oe;break;case 32:n=Ae;break;case 268435456:n=fe;break;default:n=Ae}return l=qf.bind(null,e),n=vt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&xt(l),e.callbackPriority=2,e.callbackNode=null,2}function qf(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(iu()&&e.callbackNode!==n)return null;var l=Ve;return l=pr(e,e===Qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tf(e,l,t),Yf(e,he()),e.callbackNode!=null&&e.callbackNode===n?qf.bind(null,e):null)}function Zf(e,t){if(iu())return null;Tf(e,t,!0)}function p3(){R3(function(){(je&6)!==0?vt(Ce,m3):Xf()})}function Dc(){return sl===0&&(sl=zo()),sl}function Lf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function g3(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var u=Lf((a[Dt]||null).action),d=l.submitter;d&&(t=(t=d[Dt]||null)?Lf(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var g=new Tr("action","action",null,l,a);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sl!==0){var _=d?kf(a,d):new FormData(a);Qi(n,{pending:!0,data:_,method:a.method,action:u},null,_)}}else typeof u=="function"&&(g.preventDefault(),_=d?kf(a,d):new FormData(a),Qi(n,{pending:!0,data:_,method:a.method,action:u},u,_))},currentTarget:a}]})}}for(var Ec=0;Ec<fi.length;Ec++){var Mc=fi[Ec],y3=Mc.toLowerCase(),v3=Mc[0].toUpperCase()+Mc.slice(1);Pt(y3,"on"+v3)}Pt(_s,"onAnimationEnd"),Pt(Ts,"onAnimationIteration"),Pt(Rs,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(G1,"onTransitionRun"),Pt(B1,"onTransitionStart"),Pt(U1,"onTransitionCancel"),Pt(Ds,"onTransitionEnd"),xl("onMouseEnter",["mouseout","mouseover"]),xl("onMouseLeave",["mouseout","mouseover"]),xl("onPointerEnter",["pointerout","pointerover"]),xl("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ka));function Qf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var d=l.length-1;0<=d;d--){var g=l[d],_=g.instance,V=g.currentTarget;if(g=g.listener,_!==u&&a.isPropagationStopped())break e;u=g,a.currentTarget=V;try{u(a)}catch(Q){Jr(Q)}a.currentTarget=null,u=_}else for(d=0;d<l.length;d++){if(g=l[d],_=g.instance,V=g.currentTarget,g=g.listener,_!==u&&a.isPropagationStopped())break e;u=g,a.currentTarget=V;try{u(a)}catch(Q){Jr(Q)}a.currentTarget=null,u=_}}}}function we(e,t){var n=t[Yu];n===void 0&&(n=t[Yu]=new Set);var l=e+"__bubble";n.has(l)||(Wf(t,e,2,!1),n.add(l))}function wc(e,t,n){var l=0;t&&(l|=4),Wf(n,e,l,t)}var su="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[su]){e[su]=!0,No.forEach(function(n){n!=="selectionchange"&&(x3.has(n)||wc(n,!1,e),wc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[su]||(t[su]=!0,wc("selectionchange",!1,t))}}function Wf(e,t,n,l){switch(y2(t)){case 2:var a=Q3;break;case 8:a=W3;break;default:a=Lc}n=a.bind(null,t,n,e),a=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ac(e,t,n,l,a){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var g=l.stateNode.containerInfo;if(g===a)break;if(d===4)for(d=l.return;d!==null;){var _=d.tag;if((_===3||_===4)&&d.stateNode.containerInfo===a)return;d=d.return}for(;g!==null;){if(d=gl(g),d===null)return;if(_=d.tag,_===5||_===6||_===26||_===27){l=u=d;continue e}g=g.parentNode}}l=l.return}Io(function(){var V=u,Q=Ju(n),K=[];e:{var G=Es.get(e);if(G!==void 0){var B=Tr,pe=e;switch(e){case"keypress":if(Cr(n)===0)break e;case"keydown":case"keyup":B=h1;break;case"focusin":pe="focus",B=ni;break;case"focusout":pe="blur",B=ni;break;case"beforeblur":case"afterblur":B=ni;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=t1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=g1;break;case _s:case Ts:case Rs:B=a1;break;case Ds:B=v1;break;case"scroll":case"scrollend":B=Id;break;case"wheel":B=b1;break;case"copy":case"cut":case"paste":B=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=as;break;case"toggle":case"beforetoggle":B=C1}var de=(t&4)!==0,qe=!de&&(e==="scroll"||e==="scrollend"),E=de?G!==null?G+"Capture":null:G;de=[];for(var R=V,A;R!==null;){var P=R;if(A=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||A===null||E===null||(P=sa(R,E),P!=null&&de.push(Qa(R,P,A))),qe)break;R=R.return}0<de.length&&(G=new B(G,pe,null,n,Q),K.push({event:G,listeners:de}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",G&&n!==Ku&&(pe=n.relatedTarget||n.fromElement)&&(gl(pe)||pe[pl]))break e;if((B||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,B?(pe=n.relatedTarget||n.toElement,B=V,pe=pe?gl(pe):null,pe!==null&&(qe=o(pe),de=pe.tag,pe!==qe||de!==5&&de!==27&&de!==6)&&(pe=null)):(B=null,pe=V),B!==pe)){if(de=ns,P="onMouseLeave",E="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(de=as,P="onPointerLeave",E="onPointerEnter",R="pointer"),qe=B==null?G:oa(B),A=pe==null?G:oa(pe),G=new de(P,R+"leave",B,n,Q),G.target=qe,G.relatedTarget=A,P=null,gl(Q)===V&&(de=new de(E,R+"enter",pe,n,Q),de.target=A,de.relatedTarget=qe,P=de),qe=P,B&&pe)t:{for(de=B,E=pe,R=0,A=de;A;A=Jl(A))R++;for(A=0,P=E;P;P=Jl(P))A++;for(;0<R-A;)de=Jl(de),R--;for(;0<A-R;)E=Jl(E),A--;for(;R--;){if(de===E||E!==null&&de===E.alternate)break t;de=Jl(de),E=Jl(E)}de=null}else de=null;B!==null&&Pf(K,G,B,de,!1),pe!==null&&qe!==null&&Pf(K,qe,pe,de,!0)}}e:{if(G=V?oa(V):window,B=G.nodeName&&G.nodeName.toLowerCase(),B==="select"||B==="input"&&G.type==="file")var re=ds;else if(ss(G))if(hs)re=V1;else{re=O1;var Ee=w1}else B=G.nodeName,!B||B.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&Pu(V.elementType)&&(re=ds):re=A1;if(re&&(re=re(e,V))){fs(K,re,n,Q);break e}Ee&&Ee(e,G,V),e==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Wu(G,"number",G.value)}switch(Ee=V?oa(V):window,e){case"focusin":(ss(Ee)||Ee.contentEditable==="true")&&(Dl=Ee,ci=V,va=null);break;case"focusout":va=ci=Dl=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,Ss(K,n,Q);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":Ss(K,n,Q)}var ie;if(ai)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Rl?cs(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(rs&&n.locale!=="ko"&&(Rl||me!=="onCompositionStart"?me==="onCompositionEnd"&&Rl&&(ie=es()):(Tn=Q,Iu="value"in Tn?Tn.value:Tn.textContent,Rl=!0)),Ee=fu(V,me),0<Ee.length&&(me=new ls(me,e,null,n,Q),K.push({event:me,listeners:Ee}),ie?me.data=ie:(ie=os(n),ie!==null&&(me.data=ie)))),(ie=T1?R1(e,n):D1(e,n))&&(me=fu(V,"onBeforeInput"),0<me.length&&(Ee=new ls("onBeforeInput","beforeinput",null,n,Q),K.push({event:Ee,listeners:me}),Ee.data=ie)),g3(K,e,V,n,Q)}Qf(K,t)})}function Qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fu(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,u=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||u===null||(a=sa(e,n),a!=null&&l.unshift(Qa(e,a,u)),a=sa(e,t),a!=null&&l.push(Qa(e,a,u))),e.tag===3)return l;e=e.return}return[]}function Jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pf(e,t,n,l,a){for(var u=t._reactName,d=[];n!==null&&n!==l;){var g=n,_=g.alternate,V=g.stateNode;if(g=g.tag,_!==null&&_===l)break;g!==5&&g!==26&&g!==27||V===null||(_=V,a?(V=sa(n,u),V!=null&&d.unshift(Qa(n,V,_))):a||(V=sa(n,u),V!=null&&d.push(Qa(n,V,_)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var b3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(b3,`
`).replace(S3,"")}function Jf(e,t){return t=Kf(t),Kf(e)===t}function du(){}function Ye(e,t,n,l,a,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Cl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Cl(e,""+l);break;case"className":yr(e,"class",l);break;case"tabIndex":yr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(e,n,l);break;case"style":$o(e,l,u);break;case"data":if(t!=="object"){yr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ye(e,t,"name",a.name,a,null),Ye(e,t,"formEncType",a.formEncType,a,null),Ye(e,t,"formMethod",a.formMethod,a,null),Ye(e,t,"formTarget",a.formTarget,a,null)):(Ye(e,t,"encType",a.encType,a,null),Ye(e,t,"method",a.method,a,null),Ye(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=du);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":we("beforetoggle",e),we("toggle",e),gr(e,"popover",l);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$d.get(n)||n,gr(e,n,l))}}function Vc(e,t,n,l,a,u){switch(n){case"style":$o(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Cl(e,l):(typeof l=="number"||typeof l=="bigint")&&Cl(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),u=e[Dt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,a),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):gr(e,n,l)}}}function yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,a=!1,u;for(u in n)if(n.hasOwnProperty(u)){var d=n[u];if(d!=null)switch(u){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ye(e,t,u,d,n,null)}}a&&Ye(e,t,"srcSet",n.srcSet,n,null),l&&Ye(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var g=u=d=a=null,_=null,V=null;for(l in n)if(n.hasOwnProperty(l)){var Q=n[l];if(Q!=null)switch(l){case"name":a=Q;break;case"type":d=Q;break;case"checked":_=Q;break;case"defaultChecked":V=Q;break;case"value":u=Q;break;case"defaultValue":g=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,t));break;default:Ye(e,t,l,Q,n,null)}}Wo(e,u,g,_,V,d,a,!1),vr(e);return;case"select":we("invalid",e),l=d=u=null;for(a in n)if(n.hasOwnProperty(a)&&(g=n[a],g!=null))switch(a){case"value":u=g;break;case"defaultValue":d=g;break;case"multiple":l=g;default:Ye(e,t,a,g,n,null)}t=u,n=d,e.multiple=!!l,t!=null?Sl(e,!!l,t,!1):n!=null&&Sl(e,!!l,n,!0);return;case"textarea":we("invalid",e),u=a=l=null;for(d in n)if(n.hasOwnProperty(d)&&(g=n[d],g!=null))switch(d){case"value":l=g;break;case"defaultValue":a=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:Ye(e,t,d,g,n,null)}Ko(e,l,a,u),vr(e);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(l=n[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(e,t,_,l,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<ka.length;l++)we(ka[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(l=n[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ye(e,t,V,l,n,null)}return;default:if(Pu(t)){for(Q in n)n.hasOwnProperty(Q)&&(l=n[Q],l!==void 0&&Vc(e,t,Q,l,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(l=n[g],l!=null&&Ye(e,t,g,l,n,null))}function C3(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,u=null,d=null,g=null,_=null,V=null,Q=null;for(B in n){var K=n[B];if(n.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":_=K;default:l.hasOwnProperty(B)||Ye(e,t,B,null,l,K)}}for(var G in l){var B=l[G];if(K=n[G],l.hasOwnProperty(G)&&(B!=null||K!=null))switch(G){case"type":u=B;break;case"name":a=B;break;case"checked":V=B;break;case"defaultChecked":Q=B;break;case"value":d=B;break;case"defaultValue":g=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(c(137,t));break;default:B!==K&&Ye(e,t,G,B,l,K)}}Qu(e,d,g,_,V,Q,u,a);return;case"select":B=d=g=G=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":B=_;default:l.hasOwnProperty(u)||Ye(e,t,u,null,l,_)}for(a in l)if(u=l[a],_=n[a],l.hasOwnProperty(a)&&(u!=null||_!=null))switch(a){case"value":G=u;break;case"defaultValue":g=u;break;case"multiple":d=u;default:u!==_&&Ye(e,t,a,u,l,_)}t=g,n=d,l=B,G!=null?Sl(e,!!n,G,!1):!!l!=!!n&&(t!=null?Sl(e,!!n,t,!0):Sl(e,!!n,n?[]:"",!1));return;case"textarea":B=G=null;for(g in n)if(a=n[g],n.hasOwnProperty(g)&&a!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ye(e,t,g,null,l,a)}for(d in l)if(a=l[d],u=n[d],l.hasOwnProperty(d)&&(a!=null||u!=null))switch(d){case"value":G=a;break;case"defaultValue":B=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(c(91));break;default:a!==u&&Ye(e,t,d,a,l,u)}Po(e,G,B);return;case"option":for(var pe in n)if(G=n[pe],n.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Ye(e,t,pe,null,l,G)}for(_ in l)if(G=l[_],B=n[_],l.hasOwnProperty(_)&&G!==B&&(G!=null||B!=null))switch(_){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ye(e,t,_,G,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in n)G=n[de],n.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de)&&Ye(e,t,de,null,l,G);for(V in l)if(G=l[V],B=n[V],l.hasOwnProperty(V)&&G!==B&&(G!=null||B!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:Ye(e,t,V,G,l,B)}return;default:if(Pu(t)){for(var qe in n)G=n[qe],n.hasOwnProperty(qe)&&G!==void 0&&!l.hasOwnProperty(qe)&&Vc(e,t,qe,void 0,l,G);for(Q in l)G=l[Q],B=n[Q],!l.hasOwnProperty(Q)||G===B||G===void 0&&B===void 0||Vc(e,t,Q,G,l,B);return}}for(var E in n)G=n[E],n.hasOwnProperty(E)&&G!=null&&!l.hasOwnProperty(E)&&Ye(e,t,E,null,l,G);for(K in l)G=l[K],B=n[K],!l.hasOwnProperty(K)||G===B||G==null&&B==null||Ye(e,t,K,G,l,B)}var zc=null,Hc=null;function hu(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=null;function _3(){var e=window.event;return e&&e.type==="popstate"?e===Bc?!1:(Bc=e,!0):(Bc=null,!1)}var If=typeof setTimeout=="function"?setTimeout:void 0,T3=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(e){return e2.resolve(null).then(e).catch(D3)}:If;function D3(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function t2(e,t){var n=t,l=0,a=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<l&&8>l){n=l;var d=e.ownerDocument;if(n&1&&Wa(d.documentElement),n&2&&Wa(d.body),n&4)for(n=d.head,Wa(n),d=n.firstChild;d;){var g=d.nextSibling,_=d.nodeName;d[ca]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}if(a===0){e.removeChild(u),tr(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:l=n.charCodeAt(0)-48;else l=0;n=u}while(n);tr(t)}function Uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Uc(n),qu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function E3(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function M3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function w3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Nc=null;function n2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function l2(e,t,n){switch(t=hu(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Wa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qu(e)}var Wt=new Map,a2=new Set;function mu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=$.d;$.d={f:O3,r:A3,D:V3,C:z3,L:H3,m:G3,X:U3,S:B3,M:j3};function O3(){var e=vn.f(),t=ru();return e||t}function A3(e){var t=yl(e);t!==null&&t.tag===5&&t.type==="form"?_0(t):vn.r(e)}var $l=typeof document>"u"?null:document;function r2(e,t,n){var l=$l;if(l&&typeof t=="string"&&t){var a=Xt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),a2.has(a)||(a2.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),yt(t,"link",e),ot(t),l.head.appendChild(t)))}}function V3(e){vn.D(e),r2("dns-prefetch",e,null)}function z3(e,t){vn.C(e,t),r2("preconnect",e,t)}function H3(e,t,n){vn.L(e,t,n);var l=$l;if(l&&e&&t){var a='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Xt(n.imageSizes)+'"]')):a+='[href="'+Xt(e)+'"]';var u=a;switch(t){case"style":u=Fl(e);break;case"script":u=Il(e)}Wt.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(u,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(Pa(u))||t==="script"&&l.querySelector(Ka(u))||(t=l.createElement("link"),yt(t,"link",e),ot(t),l.head.appendChild(t)))}}function G3(e,t){vn.m(e,t);var n=$l;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',u=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Il(e)}if(!Wt.has(u)&&(e=v({rel:"modulepreload",href:e},t),Wt.set(u,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ka(u)))return}l=n.createElement("link"),yt(l,"link",e),ot(l),n.head.appendChild(l)}}}function B3(e,t,n){vn.S(e,t,n);var l=$l;if(l&&e){var a=vl(l).hoistableStyles,u=Fl(e);t=t||"default";var d=a.get(u);if(!d){var g={loading:0,preload:null};if(d=l.querySelector(Pa(u)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(u))&&Xc(e,n);var _=d=l.createElement("link");ot(_),yt(_,"link",e),_._p=new Promise(function(V,Q){_.onload=V,_.onerror=Q}),_.addEventListener("load",function(){g.loading|=1}),_.addEventListener("error",function(){g.loading|=2}),g.loading|=4,pu(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:g},a.set(u,d)}}}function U3(e,t){vn.X(e,t);var n=$l;if(n&&e){var l=vl(n).hoistableScripts,a=Il(e),u=l.get(a);u||(u=n.querySelector(Ka(a)),u||(e=v({src:e,async:!0},t),(t=Wt.get(a))&&Yc(e,t),u=n.createElement("script"),ot(u),yt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(a,u))}}function j3(e,t){vn.M(e,t);var n=$l;if(n&&e){var l=vl(n).hoistableScripts,a=Il(e),u=l.get(a);u||(u=n.querySelector(Ka(a)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Wt.get(a))&&Yc(e,t),u=n.createElement("script"),ot(u),yt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(a,u))}}function u2(e,t,n,l){var a=(a=ee.current)?mu(a):null;if(!a)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fl(n.href),n=vl(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fl(n.href);var u=vl(a).hoistableStyles,d=u.get(e);if(d||(a=a.ownerDocument||a,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=a.querySelector(Pa(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),u||N3(a,e,n,d.state))),t&&l===null)throw Error(c(528,""));return d}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Il(n),n=vl(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Fl(e){return'href="'+Xt(e)+'"'}function Pa(e){return'link[rel="stylesheet"]['+e+"]"}function i2(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function N3(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),yt(t,"link",n),ot(t),e.head.appendChild(t))}function Il(e){return'[src="'+Xt(e)+'"]'}function Ka(e){return"script[async]"+e}function c2(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(n.href)+'"]');if(l)return t.instance=l,ot(l),l;var a=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),yt(l,"style",a),pu(l,n.precedence,e),t.instance=l;case"stylesheet":a=Fl(n.href);var u=e.querySelector(Pa(a));if(u)return t.state.loading|=4,t.instance=u,ot(u),u;l=i2(n),(a=Wt.get(a))&&Xc(l,a),u=(e.ownerDocument||e).createElement("link"),ot(u);var d=u;return d._p=new Promise(function(g,_){d.onload=g,d.onerror=_}),yt(u,"link",l),t.state.loading|=4,pu(u,n.precedence,e),t.instance=u;case"script":return u=Il(n.src),(a=e.querySelector(Ka(u)))?(t.instance=a,ot(a),a):(l=n,(a=Wt.get(u))&&(l=v({},n),Yc(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),ot(a),yt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,pu(l,n.precedence,e));return t.instance}function pu(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,u=a,d=0;d<l.length;d++){var g=l[d];if(g.dataset.precedence===t)u=g;else if(u!==a)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var gu=null;function o2(e,t,n){if(gu===null){var l=new Map,a=gu=new Map;a.set(n,l)}else a=gu,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var u=n[a];if(!(u[ca]||u[bt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var g=l.get(d);g?g.push(u):l.set(d,[u])}}return l}function s2(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function X3(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function f2(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ja=null;function Y3(){}function q3(e,t,n){if(Ja===null)throw Error(c(475));var l=Ja;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var a=Fl(n.href),u=e.querySelector(Pa(a));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=yu.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,ot(u);return}u=e.ownerDocument||e,n=i2(n),(a=Wt.get(a))&&Xc(n,a),u=u.createElement("link"),ot(u);var d=u;d._p=new Promise(function(g,_){d.onload=g,d.onerror=_}),yt(u,"link",n),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=yu.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Z3(){if(Ja===null)throw Error(c(475));var e=Ja;return e.stylesheets&&e.count===0&&qc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function yu(){if(this.count--,this.count===0){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vu=null;function qc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vu=new Map,t.forEach(L3,e),vu=null,yu.call(e))}function L3(e,t){if(!(t.state.loading&4)){var n=vu.get(e);if(n)var l=n.get(null);else{n=new Map,vu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<a.length;u++){var d=a[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),l=d)}l&&n.set(null,l)}a=t.instance,d=a.getAttribute("data-precedence"),u=n.get(d)||l,u===l&&n.set(null,a),n.set(d,a),this.count++,l=yu.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),u?u.parentNode.insertBefore(a,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var $a={$$typeof:X,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function k3(e,t,n,l,a,u,d,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ju(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.hiddenUpdates=ju(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function d2(e,t,n,l,a,u,d,g,_,V,Q,K){return e=new k3(e,t,n,d,g,_,V,K),t=1,u===!0&&(t|=24),u=zt(3,null,null,t),e.current=u,u.stateNode=e,t=_i(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},Ei(u),e}function h2(e){return e?(e=Ol,e):Ol}function m2(e,t,n,l,a,u){a=h2(a),l.context===null?l.context=a:l.pendingContext=a,l=En(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Mn(e,l,t),n!==null&&(jt(n,e,t),Ea(n,e,t))}function p2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zc(e,t){p2(e,t),(e=e.alternate)&&p2(e,t)}function g2(e){if(e.tag===13){var t=wl(e,67108864);t!==null&&jt(t,e,67108864),Zc(e,67108864)}}var xu=!0;function Q3(e,t,n,l){var a=z.T;z.T=null;var u=$.p;try{$.p=2,Lc(e,t,n,l)}finally{$.p=u,z.T=a}}function W3(e,t,n,l){var a=z.T;z.T=null;var u=$.p;try{$.p=8,Lc(e,t,n,l)}finally{$.p=u,z.T=a}}function Lc(e,t,n,l){if(xu){var a=kc(l);if(a===null)Ac(e,t,l,bu,n),v2(e,l);else if(K3(a,e,t,n,l))l.stopPropagation();else if(v2(e,l),t&4&&-1<P3.indexOf(e)){for(;a!==null;){var u=yl(a);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Wn(u.pendingLanes);if(d!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var _=1<<31-ct(d);g.entanglements[1]|=_,d&=~_}tn(u),(je&6)===0&&(lu=he()+500,La(0))}}break;case 13:g=wl(u,2),g!==null&&jt(g,u,2),ru(),Zc(u,2)}if(u=kc(l),u===null&&Ac(e,t,l,bu,n),u===a)break;a=u}a!==null&&l.stopPropagation()}else Ac(e,t,l,null,n)}}function kc(e){return e=Ju(e),Qc(e)}var bu=null;function Qc(e){if(bu=null,e=gl(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bu=e,null}function y2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ce:return 2;case Oe:return 8;case Ae:case mt:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Wc=!1,Yn=null,qn=null,Zn=null,Fa=new Map,Ia=new Map,Ln=[],P3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v2(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function er(e,t,n,l,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[a]},t!==null&&(t=yl(t),t!==null&&g2(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function K3(e,t,n,l,a){switch(t){case"focusin":return Yn=er(Yn,e,t,n,l,a),!0;case"dragenter":return qn=er(qn,e,t,n,l,a),!0;case"mouseover":return Zn=er(Zn,e,t,n,l,a),!0;case"pointerover":var u=a.pointerId;return Fa.set(u,er(Fa.get(u)||null,e,t,n,l,a)),!0;case"gotpointercapture":return u=a.pointerId,Ia.set(u,er(Ia.get(u)||null,e,t,n,l,a)),!0}return!1}function x2(e){var t=gl(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,qd(e.priority,function(){if(n.tag===13){var l=Ut();l=Nu(l);var a=wl(n,l);a!==null&&jt(a,n,l),Zc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Su(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ku=l,n.target.dispatchEvent(l),Ku=null}else return t=yl(n),t!==null&&g2(t),e.blockedOn=n,!1;t.shift()}return!0}function b2(e,t,n){Su(e)&&n.delete(t)}function J3(){Wc=!1,Yn!==null&&Su(Yn)&&(Yn=null),qn!==null&&Su(qn)&&(qn=null),Zn!==null&&Su(Zn)&&(Zn=null),Fa.forEach(b2),Ia.forEach(b2)}function Cu(e,t){e.blockedOn===t&&(e.blockedOn=null,Wc||(Wc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,J3)))}var _u=null;function S2(e){_u!==e&&(_u=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_u===e&&(_u=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(Qc(l||n)===null)continue;break}var u=yl(n);u!==null&&(e.splice(t,3),t-=3,Qi(u,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function tr(e){function t(_){return Cu(_,e)}Yn!==null&&Cu(Yn,e),qn!==null&&Cu(qn,e),Zn!==null&&Cu(Zn,e),Fa.forEach(t),Ia.forEach(t);for(var n=0;n<Ln.length;n++){var l=Ln[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)x2(n),n.blockedOn===null&&Ln.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],u=n[l+1],d=a[Dt]||null;if(typeof u=="function")d||S2(n);else if(d){var g=null;if(u&&u.hasAttribute("formAction")){if(a=u,d=u[Dt]||null)g=d.formAction;else if(Qc(a)!==null)continue}else g=d.action;typeof g=="function"?n[l+1]=g:(n.splice(l,3),l-=3),S2(n)}}}function Pc(e){this._internalRoot=e}Tu.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,l=Ut();m2(n,l,e,t,null,null)},Tu.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;m2(e.current,2,null,e,null,null),ru(),t[pl]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&x2(e)}};var C2=r.version;if(C2!=="19.1.1")throw Error(c(527,C2,"19.1.1"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var $3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Se=Ru.inject($3),Le=Ru}catch{}}return lr.createRoot=function(e,t){if(!f(e))throw Error(c(299));var n=!1,l="",a=U0,u=j0,d=N0,g=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=d2(e,1,!1,null,null,n,l,a,u,d,g,null),e[pl]=t.current,Oc(e),new Pc(t)},lr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(c(299));var l=!1,a="",u=U0,d=j0,g=N0,_=null,V=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks),n.formState!==void 0&&(V=n.formState)),t=d2(e,1,!0,t,n??null,l,a,u,d,g,_,V),t.context=h2(null),n=t.current,l=Ut(),l=Nu(l),a=En(l),a.callback=null,Mn(n,a,l),n=l,t.current.lanes=n,ia(t,n),tn(t),e[pl]=t.current,Oc(e),new Tu(t)},lr.version="19.1.1",lr}var V2;function uh(){if(V2)return $c.exports;V2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),$c.exports=rh(),$c.exports}var ih=uh();const ch=sr(ih);async function oh(){if(window.__wgpuDevice)return window.__wgpuDevice;const i=window.__wgpuAdapter??await navigator.gpu?.requestAdapter({});if(!i)throw new Error("WebGPU adapter not available");window.__wgpuAdapter=i;const r=await i.requestDevice();return r.__id=Math.random().toString(36).slice(2),window.__wgpuDevice=r,r.lost.then(()=>{window.__wgpuDevice===r&&(window.__wgpuDevice=void 0,window.__wgpuAdapter=void 0)}),r}/**
 * @description FastNoise Lite is an extremely portable open source noise generation library with a large selection of noise algorithms
 * @author Jordan Peck, snowfoxsh
 * @version 1.1.0
 * @copyright Copyright(c) 2023 Jordan Peck, Contributors
 * @license MIT
 * @git https://github.com/Auburn/FastNoiseLite
 * @npm https://www.npmjs.com/package/fastnoise-lite
 * @example
// Import from npm (if you used npm)

import FastNoiseLite from "fastnoise-lite";

// Create and configure FastNoiseLite object

let noise = new FastNoiseLite();
noise.SetNoiseType(FastNoiseLite.NoiseType.OpenSimplex2);

// Gather noise data
let noiseData = [];

for (let x = 0; x < 128; x++) {
    noiseData[x] = [];

    for (let y = 0; y < 128; y++) {        
        noiseData[x][y] = noise.GetNoise(x,y);
    }
}

// Do something with this data...
 */class D{static NoiseType=Object.freeze({OpenSimplex2:"OpenSimplex2",OpenSimplex2S:"OpenSimplex2S",Cellular:"Cellular",Perlin:"Perlin",ValueCubic:"ValueCubic",Value:"Value"});static RotationType3D=Object.freeze({None:"None",ImproveXYPlanes:"ImproveXYPlanes",ImproveXZPlanes:"ImproveXZPlanes"});static FractalType=Object.freeze({None:"None",FBm:"FBm",Ridged:"Ridged",PingPong:"PingPong",DomainWarpProgressive:"DomainWarpProgressive",DomainWarpIndependent:"DomainWarpIndependent"});static CellularDistanceFunction=Object.freeze({Euclidean:"Euclidean",EuclideanSq:"EuclideanSq",Manhattan:"Manhattan",Hybrid:"Hybrid"});static CellularReturnType=Object.freeze({CellValue:"CellValue",Distance:"Distance",Distance2:"Distance2",Distance2Add:"Distance2Add",Distance2Sub:"Distance2Sub",Distance2Mul:"Distance2Mul",Distance2Div:"Distance2Div"});static DomainWarpType=Object.freeze({OpenSimplex2:"OpenSimplex2",OpenSimplex2Reduced:"OpenSimplex2Reduced",BasicGrid:"BasicGrid"});static TransformType3D=Object.freeze({None:"None",ImproveXYPlanes:"ImproveXYPlanes",ImproveXZPlanes:"ImproveXZPlanes",DefaultOpenSimplex2:"DefaultOpenSimplex2"});_Seed=1337;_Frequency=.01;_NoiseType=D.NoiseType.OpenSimplex2;_RotationType3D=D.RotationType3D.None;_TransformType3D=D.TransformType3D.DefaultOpenSimplex2;_DomainWarpAmp=1;_FractalType=D.FractalType.None;_Octaves=3;_Lacunarity=2;_Gain=.5;_WeightedStrength=0;_PingPongStrength=2;_FractalBounding=1/1.75;_CellularDistanceFunction=D.CellularDistanceFunction.EuclideanSq;_CellularReturnType=D.CellularReturnType.Distance;_CellularJitterModifier=1;_DomainWarpType=D.DomainWarpType.OpenSimplex2;_WarpTransformType3D=D.TransformType3D.DefaultOpenSimplex2;constructor(r){r!==void 0&&(this._Seed=r)}SetSeed(r){this._Seed=r}SetFrequency(r){this._Frequency=r}SetNoiseType(r){this._NoiseType=r,this._UpdateTransformType3D()}SetRotationType3D(r){this._RotationType3D=r,this._UpdateTransformType3D(),this._UpdateWarpTransformType3D()}SetFractalType(r){this._FractalType=r}SetFractalOctaves(r){this._Octaves=r,this._CalculateFractalBounding()}SetFractalLacunarity(r){this._Lacunarity=r}SetFractalGain(r){this._Gain=r,this._CalculateFractalBounding()}SetFractalWeightedStrength(r){this._WeightedStrength=r}SetFractalPingPongStrength(r){this._PingPongStrength=r}SetCellularDistanceFunction(r){this._CellularDistanceFunction=r}SetCellularReturnType(r){this._CellularReturnType=r}SetCellularJitter(r){this._CellularJitterModifier=r}SetDomainWarpType(r){this._DomainWarpType=r,this._UpdateWarpTransformType3D()}SetDomainWarpAmp(r){this._DomainWarpAmp=r}GetNoise(r,s,c){let f=(h,p)=>{switch(h*=this._Frequency,p*=this._Frequency,this._NoiseType){case D.NoiseType.OpenSimplex2:case D.NoiseType.OpenSimplex2S:const m=.5*(1.7320508075688772-1);let v=(h+p)*m;h+=v,p+=v;break}switch(this._FractalType){default:return this._GenNoiseSingleR2(this._Seed,h,p);case D.FractalType.FBm:return this._GenFractalFBmR2(h,p);case D.FractalType.Ridged:return this._GenFractalRidgedR2(h,p);case D.FractalType.PingPong:return this._GenFractalPingPongR2(h,p)}},o=(h,p,y)=>{switch(h*=this._Frequency,p*=this._Frequency,y*=this._Frequency,this._TransformType3D){case D.TransformType3D.ImproveXYPlanes:{let C=h+p,b=C*-.211324865405187;y*=.577350269189626,h+=b-y,p+=b-y,y+=C*.577350269189626;break}case D.TransformType3D.ImproveXZPlanes:{let C=h+y,b=C*-.211324865405187;p*=.577350269189626,h+=b-p,y+=b-p,p+=C*.577350269189626;break}case D.TransformType3D.DefaultOpenSimplex2:const m=2/3;let v=(h+p+y)*m;h=v-h,p=v-p,y=v-y;break}switch(this._FractalType){default:return this._GenNoiseSingleR3(this._Seed,h,p,y);case D.FractalType.FBm:return this._GenFractalFBmR3(h,p,y);case D.FractalType.Ridged:return this._GenFractalRidgedR3(h,p,y);case D.FractalType.PingPong:return this._GenFractalPingPongR3(h,p,y)}};if(arguments.length===2)return f(r,s);if(arguments.length===3)return o(r,s,c)}DomainWrap(r){switch(this._FractalType){default:this._DomainWarpSingle(r);break;case D.FractalType.DomainWarpProgressive:this._DomainWarpFractalProgressive(r);break;case D.FractalType.DomainWarpIndependent:this._DomainWarpFractalIndependent(r);break}}_Gradients2D=[.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.38268343236509,.923879532511287,.923879532511287,.38268343236509,.923879532511287,-.38268343236509,.38268343236509,-.923879532511287,-.38268343236509,-.923879532511287,-.923879532511287,-.38268343236509,-.923879532511287,.38268343236509,-.38268343236509,.923879532511287];_RandVecs2D=[-.2700222198,-.9628540911,.3863092627,-.9223693152,.04444859006,-.999011673,-.5992523158,-.8005602176,-.7819280288,.6233687174,.9464672271,.3227999196,-.6514146797,-.7587218957,.9378472289,.347048376,-.8497875957,-.5271252623,-.879042592,.4767432447,-.892300288,-.4514423508,-.379844434,-.9250503802,-.9951650832,.0982163789,.7724397808,-.6350880136,.7573283322,-.6530343002,-.9928004525,-.119780055,-.0532665713,.9985803285,.9754253726,-.2203300762,-.7665018163,.6422421394,.991636706,.1290606184,-.994696838,.1028503788,-.5379205513,-.84299554,.5022815471,-.8647041387,.4559821461,-.8899889226,-.8659131224,-.5001944266,.0879458407,-.9961252577,-.5051684983,.8630207346,.7753185226,-.6315704146,-.6921944612,.7217110418,-.5191659449,-.8546734591,.8978622882,-.4402764035,-.1706774107,.9853269617,-.9353430106,-.3537420705,-.9992404798,.03896746794,-.2882064021,-.9575683108,-.9663811329,.2571137995,-.8759714238,-.4823630009,-.8303123018,-.5572983775,.05110133755,-.9986934731,-.8558373281,-.5172450752,.09887025282,.9951003332,.9189016087,.3944867976,-.2439375892,-.9697909324,-.8121409387,-.5834613061,-.9910431363,.1335421355,.8492423985,-.5280031709,-.9717838994,-.2358729591,.9949457207,.1004142068,.6241065508,-.7813392434,.662910307,.7486988212,-.7197418176,.6942418282,-.8143370775,-.5803922158,.104521054,-.9945226741,-.1065926113,-.9943027784,.445799684,-.8951327509,.105547406,.9944142724,-.992790267,.1198644477,-.8334366408,.552615025,.9115561563,-.4111755999,.8285544909,-.5599084351,.7217097654,-.6921957921,.4940492677,-.8694339084,-.3652321272,-.9309164803,-.9696606758,.2444548501,.08925509731,-.996008799,.5354071276,-.8445941083,-.1053576186,.9944343981,-.9890284586,.1477251101,.004856104961,.9999882091,.9885598478,.1508291331,.9286129562,-.3710498316,-.5832393863,-.8123003252,.3015207509,.9534596146,-.9575110528,.2883965738,.9715802154,-.2367105511,.229981792,.9731949318,.955763816,-.2941352207,.740956116,.6715534485,-.9971513787,-.07542630764,.6905710663,-.7232645452,-.290713703,-.9568100872,.5912777791,-.8064679708,-.9454592212,-.325740481,.6664455681,.74555369,.6236134912,.7817328275,.9126993851,-.4086316587,-.8191762011,.5735419353,-.8812745759,-.4726046147,.9953313627,.09651672651,.9855650846,-.1692969699,-.8495980887,.5274306472,.6174853946,-.7865823463,.8508156371,.52546432,.9985032451,-.05469249926,.1971371563,-.9803759185,.6607855748,-.7505747292,-.03097494063,.9995201614,-.6731660801,.739491331,-.7195018362,-.6944905383,.9727511689,.2318515979,.9997059088,-.0242506907,.4421787429,-.8969269532,.9981350961,-.061043673,-.9173660799,-.3980445648,-.8150056635,-.5794529907,-.8789331304,.4769450202,.0158605829,.999874213,-.8095464474,.5870558317,-.9165898907,-.3998286786,-.8023542565,.5968480938,-.5176737917,.8555780767,-.8154407307,-.5788405779,.4022010347,-.9155513791,-.9052556868,-.4248672045,.7317445619,.6815789728,-.5647632201,-.8252529947,-.8403276335,-.5420788397,-.9314281527,.363925262,.5238198472,.8518290719,.7432803869,-.6689800195,-.985371561,-.1704197369,.4601468731,.88784281,.825855404,.5638819483,.6182366099,.7859920446,.8331502863,-.553046653,.1500307506,.9886813308,-.662330369,-.7492119075,-.668598664,.743623444,.7025606278,.7116238924,-.5419389763,-.8404178401,-.3388616456,.9408362159,.8331530315,.5530425174,-.2989720662,-.9542618632,.2638522993,.9645630949,.124108739,-.9922686234,-.7282649308,-.6852956957,.6962500149,.7177993569,-.9183535368,.3957610156,-.6326102274,-.7744703352,-.9331891859,-.359385508,-.1153779357,-.9933216659,.9514974788,-.3076565421,-.08987977445,-.9959526224,.6678496916,.7442961705,.7952400393,-.6062947138,-.6462007402,-.7631674805,-.2733598753,.9619118351,.9669590226,-.254931851,-.9792894595,.2024651934,-.5369502995,-.8436138784,-.270036471,-.9628500944,-.6400277131,.7683518247,-.7854537493,-.6189203566,.06005905383,-.9981948257,-.02455770378,.9996984141,-.65983623,.751409442,-.6253894466,-.7803127835,-.6210408851,-.7837781695,.8348888491,.5504185768,-.1592275245,.9872419133,.8367622488,.5475663786,-.8675753916,-.4973056806,-.2022662628,-.9793305667,.9399189937,.3413975472,.9877404807,-.1561049093,-.9034455656,.4287028224,.1269804218,-.9919052235,-.3819600854,.924178821,.9754625894,.2201652486,-.3204015856,-.9472818081,-.9874760884,.1577687387,.02535348474,-.9996785487,.4835130794,-.8753371362,-.2850799925,-.9585037287,-.06805516006,-.99768156,-.7885244045,-.6150034663,.3185392127,-.9479096845,.8880043089,.4598351306,.6476921488,-.7619021462,.9820241299,.1887554194,.9357275128,-.3527237187,-.8894895414,.4569555293,.7922791302,.6101588153,.7483818261,.6632681526,-.7288929755,-.6846276581,.8729032783,-.4878932944,.8288345784,.5594937369,.08074567077,.9967347374,.9799148216,-.1994165048,-.580730673,-.8140957471,-.4700049791,-.8826637636,.2409492979,.9705377045,.9437816757,-.3305694308,-.8927998638,-.4504535528,-.8069622304,.5906030467,.06258973166,.9980393407,-.9312597469,.3643559849,.5777449785,.8162173362,-.3360095855,-.941858566,.697932075,-.7161639607,-.002008157227,-.9999979837,-.1827294312,-.9831632392,-.6523911722,.7578824173,-.4302626911,-.9027037258,-.9985126289,-.05452091251,-.01028102172,-.9999471489,-.4946071129,.8691166802,-.2999350194,.9539596344,.8165471961,.5772786819,.2697460475,.962931498,-.7306287391,-.6827749597,-.7590952064,-.6509796216,-.907053853,.4210146171,-.5104861064,-.8598860013,.8613350597,.5080373165,.5007881595,-.8655698812,-.654158152,.7563577938,-.8382755311,-.545246856,.6940070834,.7199681717,.06950936031,.9975812994,.1702942185,-.9853932612,.2695973274,.9629731466,.5519612192,-.8338697815,.225657487,-.9742067022,.4215262855,-.9068161835,.4881873305,-.8727388672,-.3683854996,-.9296731273,-.9825390578,.1860564427,.81256471,.5828709909,.3196460933,-.9475370046,.9570913859,.2897862643,-.6876655497,-.7260276109,-.9988770922,-.047376731,-.1250179027,.992154486,-.8280133617,.560708367,.9324863769,-.3612051451,.6394653183,.7688199442,-.01623847064,-.9998681473,-.9955014666,-.09474613458,-.81453315,.580117012,.4037327978,-.9148769469,.9944263371,.1054336766,-.1624711654,.9867132919,-.9949487814,-.100383875,-.6995302564,.7146029809,.5263414922,-.85027327,-.5395221479,.841971408,.6579370318,.7530729462,.01426758847,-.9998982128,-.6734383991,.7392433447,.639412098,-.7688642071,.9211571421,.3891908523,-.146637214,-.9891903394,-.782318098,.6228791163,-.5039610839,-.8637263605,-.7743120191,-.6328039957];_Gradients3D=[0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,1,1,0,0,0,-1,1,0,-1,1,0,0,0,-1,-1,0];_RandVecs3D=[-.7292736885,-.6618439697,.1735581948,0,.790292081,-.5480887466,-.2739291014,0,.7217578935,.6226212466,-.3023380997,0,.565683137,-.8208298145,-.0790000257,0,.760049034,-.5555979497,-.3370999617,0,.3713945616,.5011264475,.7816254623,0,-.1277062463,-.4254438999,-.8959289049,0,-.2881560924,-.5815838982,.7607405838,0,.5849561111,-.662820239,-.4674352136,0,.3307171178,.0391653737,.94291689,0,.8712121778,-.4113374369,-.2679381538,0,.580981015,.7021915846,.4115677815,0,.503756873,.6330056931,-.5878203852,0,.4493712205,.601390195,.6606022552,0,-.6878403724,.09018890807,-.7202371714,0,-.5958956522,-.6469350577,.475797649,0,-.5127052122,.1946921978,-.8361987284,0,-.9911507142,-.05410276466,-.1212153153,0,-.2149721042,.9720882117,-.09397607749,0,-.7518650936,-.5428057603,.3742469607,0,.5237068895,.8516377189,-.02107817834,0,.6333504779,.1926167129,-.7495104896,0,-.06788241606,.3998305789,.9140719259,0,-.5538628599,-.4729896695,-.6852128902,0,-.7261455366,-.5911990757,.3509933228,0,-.9229274737,-.1782808786,.3412049336,0,-.6968815002,.6511274338,.3006480328,0,.9608044783,-.2098363234,-.1811724921,0,.06817146062,-.9743405129,.2145069156,0,-.3577285196,-.6697087264,-.6507845481,0,-.1868621131,.7648617052,-.6164974636,0,-.6541697588,.3967914832,.6439087246,0,.6993340405,-.6164538506,.3618239211,0,-.1546665739,.6291283928,.7617583057,0,-.6841612949,-.2580482182,-.6821542638,0,.5383980957,.4258654885,.7271630328,0,-.5026987823,-.7939832935,-.3418836993,0,.3202971715,.2834415347,.9039195862,0,.8683227101,-.0003762656404,-.4959995258,0,.791120031,-.08511045745,.6057105799,0,-.04011016052,-.4397248749,.8972364289,0,.9145119872,.3579346169,-.1885487608,0,-.9612039066,-.2756484276,.01024666929,0,.6510361721,-.2877799159,-.7023778346,0,-.2041786351,.7365237271,.644859585,0,-.7718263711,.3790626912,.5104855816,0,-.3060082741,-.7692987727,.5608371729,0,.454007341,-.5024843065,.7357899537,0,.4816795475,.6021208291,-.6367380315,0,.6961980369,-.3222197429,.641469197,0,-.6532160499,-.6781148932,.3368515753,0,.5089301236,-.6154662304,-.6018234363,0,-.1635919754,-.9133604627,-.372840892,0,.52408019,-.8437664109,.1157505864,0,.5902587356,.4983817807,-.6349883666,0,.5863227872,.494764745,.6414307729,0,.6779335087,.2341345225,.6968408593,0,.7177054546,-.6858979348,.120178631,0,-.5328819713,-.5205125012,.6671608058,0,-.8654874251,-.0700727088,-.4960053754,0,-.2861810166,.7952089234,.5345495242,0,-.04849529634,.9810836427,-.1874115585,0,-.6358521667,.6058348682,.4781800233,0,.6254794696,-.2861619734,.7258696564,0,-.2585259868,.5061949264,-.8227581726,0,.02136306781,.5064016808,-.8620330371,0,.200111773,.8599263484,.4695550591,0,.4743561372,.6014985084,-.6427953014,0,.6622993731,-.5202474575,-.5391679918,0,.08084972818,-.6532720452,.7527940996,0,-.6893687501,.0592860349,.7219805347,0,-.1121887082,-.9673185067,.2273952515,0,.7344116094,.5979668656,-.3210532909,0,.5789393465,-.2488849713,.7764570201,0,.6988182827,.3557169806,-.6205791146,0,-.8636845529,-.2748771249,-.4224826141,0,-.4247027957,-.4640880967,.777335046,0,.5257722489,-.8427017621,.1158329937,0,.9343830603,.316302472,-.1639543925,0,-.1016836419,-.8057303073,-.5834887393,0,-.6529238969,.50602126,-.5635892736,0,-.2465286165,-.9668205684,-.06694497494,0,-.9776897119,-.2099250524,-.007368825344,0,.7736893337,.5734244712,.2694238123,0,-.6095087895,.4995678998,.6155736747,0,.5794535482,.7434546771,.3339292269,0,-.8226211154,.08142581855,.5627293636,0,-.510385483,.4703667658,.7199039967,0,-.5764971849,-.07231656274,-.8138926898,0,.7250628871,.3949971505,-.5641463116,0,-.1525424005,.4860840828,-.8604958341,0,-.5550976208,-.4957820792,.667882296,0,-.1883614327,.9145869398,.357841725,0,.7625556724,-.5414408243,-.3540489801,0,-.5870231946,-.3226498013,-.7424963803,0,.3051124198,.2262544068,-.9250488391,0,.6379576059,.577242424,-.5097070502,0,-.5966775796,.1454852398,-.7891830656,0,-.658330573,.6555487542,-.3699414651,0,.7434892426,.2351084581,.6260573129,0,.5562114096,.8264360377,-.0873632843,0,-.3028940016,-.8251527185,.4768419182,0,.1129343818,-.985888439,-.1235710781,0,.5937652891,-.5896813806,.5474656618,0,.6757964092,-.5835758614,-.4502648413,0,.7242302609,-.1152719764,.6798550586,0,-.9511914166,.0753623979,-.2992580792,0,.2539470961,-.1886339355,.9486454084,0,.571433621,-.1679450851,-.8032795685,0,-.06778234979,.3978269256,.9149531629,0,.6074972649,.733060024,-.3058922593,0,-.5435478392,.1675822484,.8224791405,0,-.5876678086,-.3380045064,-.7351186982,0,-.7967562402,.04097822706,-.6029098428,0,-.1996350917,.8706294745,.4496111079,0,-.02787660336,-.9106232682,-.4122962022,0,-.7797625996,-.6257634692,.01975775581,0,-.5211232846,.7401644346,-.4249554471,0,.8575424857,.4053272873,-.3167501783,0,.1045223322,.8390195772,-.5339674439,0,.3501822831,.9242524096,-.1520850155,0,.1987849858,.07647613266,.9770547224,0,.7845996363,.6066256811,-.1280964233,0,.09006737436,-.9750989929,-.2026569073,0,-.8274343547,-.542299559,.1458203587,0,-.3485797732,-.415802277,.840000362,0,-.2471778936,-.7304819962,-.6366310879,0,-.3700154943,.8577948156,.3567584454,0,.5913394901,-.548311967,-.5913303597,0,.1204873514,-.7626472379,-.6354935001,0,.616959265,.03079647928,.7863922953,0,.1258156836,-.6640829889,-.7369967419,0,-.6477565124,-.1740147258,-.7417077429,0,.6217889313,-.7804430448,-.06547655076,0,.6589943422,-.6096987708,.4404473475,0,-.2689837504,-.6732403169,-.6887635427,0,-.3849775103,.5676542638,.7277093879,0,.5754444408,.8110471154,-.1051963504,0,.9141593684,.3832947817,.131900567,0,-.107925319,.9245493968,.3654593525,0,.377977089,.3043148782,.8743716458,0,-.2142885215,-.8259286236,.5214617324,0,.5802544474,.4148098596,-.7008834116,0,-.1982660881,.8567161266,-.4761596756,0,-.03381553704,.3773180787,-.9254661404,0,-.6867922841,-.6656597827,.2919133642,0,.7731742607,-.2875793547,-.5652430251,0,-.09655941928,.9193708367,-.3813575004,0,.2715702457,-.9577909544,-.09426605581,0,.2451015704,-.6917998565,-.6792188003,0,.977700782,-.1753855374,.1155036542,0,-.5224739938,.8521606816,.02903615945,0,-.7734880599,-.5261292347,.3534179531,0,-.7134492443,-.269547243,.6467878011,0,.1644037271,.5105846203,-.8439637196,0,.6494635788,.05585611296,.7583384168,0,-.4711970882,.5017280509,-.7254255765,0,-.6335764307,-.2381686273,-.7361091029,0,-.9021533097,-.270947803,-.3357181763,0,-.3793711033,.872258117,.3086152025,0,-.6855598966,-.3250143309,.6514394162,0,.2900942212,-.7799057743,-.5546100667,0,-.2098319339,.85037073,.4825351604,0,-.4592603758,.6598504336,-.5947077538,0,.8715945488,.09616365406,-.4807031248,0,-.6776666319,.7118504878,-.1844907016,0,.7044377633,.312427597,.637304036,0,-.7052318886,-.2401093292,-.6670798253,0,.081921007,-.7207336136,-.6883545647,0,-.6993680906,-.5875763221,-.4069869034,0,-.1281454481,.6419895885,.7559286424,0,-.6337388239,-.6785471501,-.3714146849,0,.5565051903,-.2168887573,-.8020356851,0,-.5791554484,.7244372011,-.3738578718,0,.1175779076,-.7096451073,.6946792478,0,-.6134619607,.1323631078,.7785527795,0,.6984635305,-.02980516237,-.715024719,0,.8318082963,-.3930171956,.3919597455,0,.1469576422,.05541651717,-.9875892167,0,.708868575,-.2690503865,.6520101478,0,.2726053183,.67369766,-.68688995,0,-.6591295371,.3035458599,-.6880466294,0,.4815131379,-.7528270071,.4487723203,0,.9430009463,.1675647412,-.2875261255,0,.434802957,.7695304522,-.4677277752,0,.3931996188,.594473625,.7014236729,0,.7254336655,-.603925654,.3301814672,0,.7590235227,-.6506083235,.02433313207,0,-.8552768592,-.3430042733,.3883935666,0,-.6139746835,.6981725247,.3682257648,0,-.7465905486,-.5752009504,.3342849376,0,.5730065677,.810555537,-.1210916791,0,-.9225877367,-.3475211012,-.167514036,0,-.7105816789,-.4719692027,-.5218416899,0,-.08564609717,.3583001386,.929669703,0,-.8279697606,-.2043157126,.5222271202,0,.427944023,.278165994,.8599346446,0,.5399079671,-.7857120652,-.3019204161,0,.5678404253,-.5495413974,-.6128307303,0,-.9896071041,.1365639107,-.04503418428,0,-.6154342638,-.6440875597,.4543037336,0,.1074204368,-.7946340692,.5975094525,0,-.3595449969,-.8885529948,.28495784,0,-.2180405296,.1529888965,.9638738118,0,-.7277432317,-.6164050508,-.3007234646,0,.7249729114,-.00669719484,.6887448187,0,-.5553659455,-.5336586252,.6377908264,0,.5137558015,.7976208196,-.3160000073,0,-.3794024848,.9245608561,-.03522751494,0,.8229248658,.2745365933,-.4974176556,0,-.5404114394,.6091141441,.5804613989,0,.8036581901,-.2703029469,.5301601931,0,.6044318879,.6832968393,.4095943388,0,.06389988817,.9658208605,-.2512108074,0,.1087113286,.7402471173,-.6634877936,0,-.713427712,-.6926784018,.1059128479,0,.6458897819,-.5724548511,-.5050958653,0,-.6553931414,.7381471625,.159995615,0,.3910961323,.9188871375,-.05186755998,0,-.4879022471,-.5904376907,.6429111375,0,.6014790094,.7707441366,-.2101820095,0,-.5677173047,.7511360995,.3368851762,0,.7858573506,.226674665,.5753666838,0,-.4520345543,-.604222686,-.6561857263,0,.002272116345,.4132844051,-.9105991643,0,-.5815751419,-.5162925989,.6286591339,0,-.03703704785,.8273785755,.5604221175,0,-.5119692504,.7953543429,-.3244980058,0,-.2682417366,-.9572290247,-.1084387619,0,-.2322482736,-.9679131102,-.09594243324,0,.3554328906,-.8881505545,.2913006227,0,.7346520519,-.4371373164,.5188422971,0,.9985120116,.04659011161,-.02833944577,0,-.3727687496,-.9082481361,.1900757285,0,.91737377,-.3483642108,.1925298489,0,.2714911074,.4147529736,-.8684886582,0,.5131763485,-.7116334161,.4798207128,0,-.8737353606,.18886992,-.4482350644,0,.8460043821,-.3725217914,.3814499973,0,.8978727456,-.1780209141,-.4026575304,0,.2178065647,-.9698322841,-.1094789531,0,-.1518031304,-.7788918132,-.6085091231,0,-.2600384876,-.4755398075,-.8403819825,0,.572313509,-.7474340931,-.3373418503,0,-.7174141009,.1699017182,-.6756111411,0,-.684180784,.02145707593,-.7289967412,0,-.2007447902,.06555605789,-.9774476623,0,-.1148803697,-.8044887315,.5827524187,0,-.7870349638,.03447489231,.6159443543,0,-.2015596421,.6859872284,.6991389226,0,-.08581082512,-.10920836,-.9903080513,0,.5532693395,.7325250401,-.396610771,0,-.1842489331,-.9777375055,-.1004076743,0,.0775473789,-.9111505856,.4047110257,0,.1399838409,.7601631212,-.6344734459,0,.4484419361,-.845289248,.2904925424,0];_PrimeX=501125321;_PrimeY=1136930381;_PrimeZ=1720413743;static _Lerp(r,s,c){return r+c*(s-r)}static _InterpHermite(r){return r*r*(3-2*r)}static _InterpQuintic(r){return r*r*r*(r*(r*6-15)+10)}static _CubicLerp(r,s,c,f,o){let h=f-c-(r-s);return o*o*o*h+o*o*(r-s-h)+o*(c-r)+s}static _PingPong(r){return r-=Math.trunc(r*.5)*2,r<1?r:2-r}_CalculateFractalBounding(){let r=Math.abs(this._Gain),s=r,c=1;for(let f=1;f<this._Octaves;f++)c+=s,s*=r;this._FractalBounding=1/c}_HashR2(r,s,c){let f=r^s^c;return f=Math.imul(f,668265261),f}_HashR3(r,s,c,f){let o=r^s^c^f;return o=Math.imul(o,668265261),o}_ValCoordR2(r,s,c){let f=this._HashR2(r,s,c);return f=Math.imul(f,f),f^=f<<19,f*(1/2147483648)}_ValCoordR3(r,s,c,f){let o=this._HashR3(r,s,c,f);return o=Math.imul(o,o),o^=o<<19,o*(1/2147483648)}_GradCoordR2(r,s,c,f,o){let h=this._HashR2(r,s,c);h^=h>>15,h&=254;let p=this._Gradients2D[h],y=this._Gradients2D[h|1];return f*p+o*y}_GradCoordR3(r,s,c,f,o,h,p){let y=this._HashR3(r,s,c,f);y^=y>>15,y&=252;let m=this._Gradients3D[y],v=this._Gradients3D[y|1],C=this._Gradients3D[y|2];return o*m+h*v+p*C}_GenNoiseSingleR2(r,s,c){switch(this._NoiseType){case D.NoiseType.OpenSimplex2:return this._SingleOpenSimplex2R2(r,s,c);case D.NoiseType.OpenSimplex2S:return this._SingleOpenSimplex2SR2(r,s,c);case D.NoiseType.Cellular:return this._SingleCellularR2(r,s,c);case D.NoiseType.Perlin:return this._SinglePerlinR2(r,s,c);case D.NoiseType.ValueCubic:return this._SingleValueCubicR2(r,s,c);case D.NoiseType.Value:return this._SingleValueR2(r,s,c);default:return 0}}_GenNoiseSingleR3(r,s,c,f){switch(this._NoiseType){case D.NoiseType.OpenSimplex2:return this._SingleOpenSimplex2R3(r,s,c,f);case D.NoiseType.OpenSimplex2S:return this._SingleOpenSimplex2SR3(r,s,c,f);case D.NoiseType.Cellular:return this._SingleCellularR3(r,s,c,f);case D.NoiseType.Perlin:return this._SinglePerlinR3(r,s,c,f);case D.NoiseType.ValueCubic:return this._SingleValueCubicR3(r,s,c,f);case D.NoiseType.Value:return this._SingleValueR3(r,s,c,f);default:return 0}}_UpdateTransformType3D(){switch(this._RotationType3D){case D.RotationType3D.ImproveXYPlanes:this._TransformType3D=D.TransformType3D.ImproveXYPlanes;break;case D.RotationType3D.ImproveXZPlanes:this._TransformType3D=D.TransformType3D.ImproveXZPlanes;break;default:switch(this._NoiseType){case D.NoiseType.OpenSimplex2:case D.NoiseType.OpenSimplex2S:this._TransformType3D=D.TransformType3D.DefaultOpenSimplex2;break;default:this._TransformType3D=D.TransformType3D.None;break}break}}_UpdateWarpTransformType3D(){switch(this._RotationType3D){case D.RotationType3D.ImproveXYPlanes:this._WarpTransformType3D=D.TransformType3D.ImproveXYPlanes;break;case D.RotationType3D.ImproveXZPlanes:this._WarpTransformType3D=D.TransformType3D.ImproveXZPlanes;break;default:switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:case D.DomainWarpType.OpenSimplex2Reduced:this._WarpTransformType3D=D.TransformType3D.DefaultOpenSimplex2;break;default:this._WarpTransformType3D=D.TransformType3D.None;break}break}}_GenFractalFBmR2(r,s){let c=this._Seed,f=0,o=this._FractalBounding;for(let h=0;h<this._Octaves;h++){let p=this._GenNoiseSingleR2(c++,r,s);f+=p*o,o*=D._Lerp(1,Math.min(p+1,2)*.5,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,o*=this._Gain}return f}_GenFractalFBmR3(r,s,c){let f=this._Seed,o=0,h=this._FractalBounding;for(let p=0;p<this._Octaves;p++){let y=this._GenNoiseSingleR3(f++,r,s,c);o+=y*h,h*=D._Lerp(1,(y+1)*.5,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,c*=this._Lacunarity,h*=this._Gain}return o}_GenFractalRidgedR2(r,s){let c=this._Seed,f=0,o=this._FractalBounding;for(let h=0;h<this._Octaves;h++){let p=Math.abs(this._GenNoiseSingleR2(c++,r,s));f+=(p*-2+1)*o,o*=D._Lerp(1,1-p,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,o*=this._Gain}return f}_GenFractalRidgedR3(r,s,c){let f=this._Seed,o=0,h=this._FractalBounding;for(let p=0;p<this._Octaves;p++){let y=Math.abs(this._GenNoiseSingleR3(f++,r,s,c));o+=(y*-2+1)*h,h*=D._Lerp(1,1-y,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,c*=this._Lacunarity,h*=this._Gain}return o}_GenFractalPingPongR2(r,s){let c=this._Seed,f=0,o=this._FractalBounding;for(let h=0;h<this._Octaves;h++){let p=D._PingPong((this._GenNoiseSingleR2(c++,r,s)+1)*this._PingPongStrength);f+=(p-.5)*2*o,o*=D._Lerp(1,p,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,o*=this._Gain}return f}_GenFractalPingPongR3(r,s,c){let f=this._Seed,o=0,h=this._FractalBounding;for(let p=0;p<this._Octaves;p++){let y=D._PingPong((this._GenNoiseSingleR3(f++,r,s,c)+1)*this._PingPongStrength);o+=(y-.5)*2*h,h*=D._Lerp(1,y,this._WeightedStrength),r*=this._Lacunarity,s*=this._Lacunarity,c*=this._Lacunarity,h*=this._Gain}return o}_SingleOpenSimplex2R2(r,s,c){const o=(3-1.7320508075688772)/6;let h=Math.floor(s),p=Math.floor(c),y=s-h,m=c-p,v=(y+m)*o,C=y-v,b=m-v;h=Math.imul(h,this._PrimeX),p=Math.imul(p,this._PrimeY);let T,w,N,U=.5-C*C-b*b;U<=0?T=0:T=U*U*(U*U)*this._GradCoordR2(r,h,p,C,b);let j=2*(1-2*o)*(1/o-2)*v+(-2*(1-2*o)*(1-2*o)+U);if(j<=0)N=0;else{let H=C+(2*o-1),X=b+(2*o-1);N=j*j*(j*j)*this._GradCoordR2(r,h+this._PrimeX,p+this._PrimeY,H,X)}if(b>C){let H=C+o,X=b+(o-1),L=.5-H*H-X*X;L<=0?w=0:w=L*L*(L*L)*this._GradCoordR2(r,h,p+this._PrimeY,H,X)}else{let H=C+(o-1),X=b+o,L=.5-H*H-X*X;L<=0?w=0:w=L*L*(L*L)*this._GradCoordR2(r,h+this._PrimeX,p,H,X)}return(T+w+N)*99.83685446303647}_SingleOpenSimplex2R3(r,s,c,f){let o=Math.round(s),h=Math.round(c),p=Math.round(f),y=s-o,m=c-h,v=f-p,C=Math.trunc(-1-m|1),b=Math.trunc(-1-y|1),T=Math.trunc(-1-v|1),w=b*-y,N=C*-m,U=T*-v;o=Math.imul(o,this._PrimeX),h=Math.imul(h,this._PrimeY),p=Math.imul(p,this._PrimeZ);let j=0,H=.6-y*y-(m*m+v*v);for(let X=0;;X++){if(H>0&&(j+=H*H*(H*H)*this._GradCoordR3(r,o,h,p,y,m,v)),w>=N&&w>=U){let L=H+w+w;L>1&&(L-=1,j+=L*L*(L*L)*this._GradCoordR3(r,o-b*this._PrimeX,h,p,y+b,m,v))}else if(N>w&&N>=U){let L=H+N+N;L>1&&(L-=1,j+=L*L*(L*L)*this._GradCoordR3(r,o,h-C*this._PrimeY,p,y,m+C,v))}else{let L=H+U+U;L>1&&(L-=1,j+=L*L*(L*L)*this._GradCoordR3(r,o,h,p-T*this._PrimeZ,y,m,v+T))}if(X===1)break;w=.5-w,N=.5-N,U=.5-U,y=b*w,m=C*N,v=T*U,H+=.75-w-(N+U),o+=b>>1&this._PrimeX,h+=C>>1&this._PrimeY,p+=T>>1&this._PrimeZ,b=-b,C=-C,T=-T,r=~r}return j*32.69428253173828}_SingleOpenSimplex2SR2(r,s,c){const o=(3-1.7320508075688772)/6;let h=Math.floor(s),p=Math.floor(c),y=s-h,m=c-p;h=Math.imul(h,this._PrimeX),p=Math.imul(p,this._PrimeY);let v=h+this._PrimeX,C=p+this._PrimeY,b=(y+m)*o,T=y-b,w=m-b,N=2/3-T*T-w*w,U=N*N*(N*N)*this._GradCoordR2(r,h,p,T,w),j=2*(1-2*o)*(1/o-2)*b+(-2*(1-2*o)*(1-2*o)+N),H=T-(1-2*o),X=w-(1-2*o);U+=j*j*(j*j)*this._GradCoordR2(r,v,C,H,X);let L=y-m;if(b>o){if(y+L>1){let Y=T+(3*o-2),W=w+(3*o-1),Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h+(this._PrimeX<<1),p+this._PrimeY,Y,W))}else{let Y=T+o,W=w+(o-1),Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h,p+this._PrimeY,Y,W))}if(m-L>1){let Y=T+(3*o-1),W=w+(3*o-2),Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h+this._PrimeX,p+(this._PrimeY<<1),Y,W))}else{let Y=T+(o-1),W=w+o,Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h+this._PrimeX,p,Y,W))}}else{if(y+L<0){let Y=T+(1-o),W=w-o,Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h-this._PrimeX,p,Y,W))}else{let Y=T+(o-1),W=w+o,Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h+this._PrimeX,p,Y,W))}if(m<L){let Y=T-o,W=w-(o-1),Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h,p-this._PrimeY,Y,W))}else{let Y=T+o,W=w+(o-1),Z=2/3-Y*Y-W*W;Z>0&&(U+=Z*Z*(Z*Z)*this._GradCoordR2(r,h,p+this._PrimeY,Y,W))}}return U*18.24196194486065}_SingleOpenSimplex2SR3(r,s,c,f){let o=Math.floor(s),h=Math.floor(c),p=Math.floor(f),y=s-o,m=c-h,v=f-p;o=Math.imul(o,this._PrimeX),h=Math.imul(h,this._PrimeY),p=Math.imul(p,this._PrimeZ);let C=r+1293373,b=Math.trunc(-.5-y),T=Math.trunc(-.5-m),w=Math.trunc(-.5-v),N=y+b,U=m+T,j=v+w,H=.75-N*N-U*U-j*j,X=H*H*(H*H)*this._GradCoordR3(r,o+(b&this._PrimeX),h+(T&this._PrimeY),p+(w&this._PrimeZ),N,U,j),L=y-.5,Y=m-.5,W=v-.5,Z=.75-L*L-Y*Y-W*W;X+=Z*Z*(Z*Z)*this._GradCoordR3(C,o+this._PrimeX,h+this._PrimeY,p+this._PrimeZ,L,Y,W);let le=((b|1)<<1)*L,ne=((T|1)<<1)*Y,ce=((w|1)<<1)*W,ye=(-2-(b<<2))*L-1,ae=(-2-(T<<2))*Y-1,ve=(-2-(w<<2))*W-1,Re=!1,oe=le+H;if(oe>0){let x=N-(b|1);X+=oe*oe*(oe*oe)*this._GradCoordR3(r,o+(~b&this._PrimeX),h+(T&this._PrimeY),p+(w&this._PrimeZ),x,U,j)}else{let x=ne+ce+H;if(x>0){let k=N,q=U-(T|1),F=j-(w|1);X+=x*x*(x*x)*this._GradCoordR3(r,o+(b&this._PrimeX),h+(~T&this._PrimeY),p+(~w&this._PrimeZ),k,q,F)}let O=ye+Z;if(O>0){let k=(b|1)+L;X+=O*O*(O*O)*this._GradCoordR3(C,o+(b&this._PrimeX*2),h+this._PrimeY,p+this._PrimeZ,k,Y,W),Re=!0}}let z=!1,$=ne+H;if($>0){let x=N,O=U-(T|1);X+=$*$*($*$)*this._GradCoordR3(r,o+(b&this._PrimeX),h+(~T&this._PrimeY),p+(w&this._PrimeZ),x,O,j)}else{let x=le+ce+H;if(x>0){let k=N-(b|1),q=U,F=j-(w|1);X+=x*x*(x*x)*this._GradCoordR3(r,o+(~b&this._PrimeX),h+(T&this._PrimeY),p+(~w&this._PrimeZ),k,q,F)}let O=ae+Z;if(O>0){let k=L,q=(T|1)+Y;X+=O*O*(O*O)*this._GradCoordR3(C,o+this._PrimeX,h+(T&this._PrimeY<<1),p+this._PrimeZ,k,q,W),z=!0}}let J=!1,te=ce+H;if(te>0){let x=N,O=U,k=j-(w|1);X+=te*te*(te*te)*this._GradCoordR3(r,o+(b&this._PrimeX),h+(T&this._PrimeY),p+(~w&this._PrimeZ),x,O,k)}else{let x=le+ne+H;if(x>0){let k=N-(b|1),q=U-(T|1);X+=x*x*(x*x)*this._GradCoordR3(r,o+(~b&this._PrimeX),h+(~T&this._PrimeY),p+(w&this._PrimeZ),k,q,j)}let O=ve+Z;if(O>0){let k=L,q=Y,F=(w|1)+W;X+=O*O*(O*O)*this._GradCoordR3(C,o+this._PrimeX,h+this._PrimeY,p+(w&this._PrimeZ<<1),k,q,F),J=!0}}if(!Re){let x=ae+ve+Z;if(x>0){let O=L,k=(T|1)+Y,q=(w|1)+W;X+=x*x*(x*x)*this._GradCoordR3(C,o+this._PrimeX,h+(T&this._PrimeY<<1),p+(w&this._PrimeZ<<1),O,k,q)}}if(!z){let x=ye+ve+Z;if(x>0){let O=(b|1)+L,k=Y,q=(w|1)+W;X+=x*x*(x*x)*this._GradCoordR3(C,o+(b&this._PrimeX*2),h+this._PrimeY,p+(w&this._PrimeZ<<1),O,k,q)}}if(!J){let x=ye+ae+Z;if(x>0){let O=(b|1)+L,k=(T|1)+Y;X+=x*x*(x*x)*this._GradCoordR3(C,o+(b&this._PrimeX<<1),h+(T&this._PrimeY<<1),p+this._PrimeZ,O,k,W)}}return X*9.046026385208288}_SingleCellularR2(r,s,c){let f=Math.round(s),o=Math.round(c),h=Number.MAX_VALUE,p=Number.MAX_VALUE,y=0,m=.43701595*this._CellularJitterModifier,v=(f-1)*this._PrimeX,C=(o-1)*this._PrimeY;switch(this._CellularDistanceFunction){default:case D.CellularDistanceFunction.Euclidean:case D.CellularDistanceFunction.EuclideanSq:for(let b=f-1;b<=f+1;b++){let T=C;for(let w=o-1;w<=o+1;w++){let N=this._HashR2(r,v,T),U=N&510,j=b-s+this._RandVecs2D[U]*m,H=w-c+this._RandVecs2D[U|1]*m,X=j*j+H*H;p=Math.max(Math.min(p,X),h),X<h&&(h=X,y=N),T+=this._PrimeY}v+=this._PrimeX}break;case D.CellularDistanceFunction.Manhattan:for(let b=f-1;b<=f+1;b++){let T=C;for(let w=o-1;w<=o+1;w++){let N=this._HashR2(r,v,T),U=N&510,j=b-s+this._RandVecs2D[U]*m,H=w-c+this._RandVecs2D[U|1]*m,X=Math.abs(j)+Math.abs(H);p=Math.max(Math.min(p,X),h),X<h&&(h=X,y=N),T+=this._PrimeY}v+=this._PrimeX}break;case D.CellularDistanceFunction.Hybrid:for(let b=f-1;b<=f+1;b++){let T=C;for(let w=o-1;w<=o+1;w++){let N=this._HashR2(r,v,T),U=N&510,j=b-s+this._RandVecs2D[U]*m,H=w-c+this._RandVecs2D[U|1]*m,X=Math.abs(j)+Math.abs(H)+(j*j+H*H);p=Math.max(Math.min(p,X),h),X<h&&(h=X,y=N),T+=this._PrimeY}v+=this._PrimeX}break}switch(this._CellularDistanceFunction===D.CellularDistanceFunction.Euclidean&&this._CellularReturnType!==D.CellularReturnType.CellValue&&(h=Math.sqrt(h),this._CellularReturnType!==D.CellularReturnType.CellValue&&(p=Math.sqrt(p))),this._CellularReturnType){case D.CellularReturnType.CellValue:return y*(1/2147483648);case D.CellularReturnType.Distance:return h-1;case D.CellularReturnType.Distance2:return p-1;case D.CellularReturnType.Distance2Add:return(p+h)*.5-1;case D.CellularReturnType.Distance2Sub:return p-h-1;case D.CellularReturnType.Distance2Mul:return p*h*.5-1;case D.CellularReturnType.Distance2Div:return h/p-1;default:return 0}}_SingleCellularR3(r,s,c,f){let o=Math.round(s),h=Math.round(c),p=Math.round(f),y=Number.MAX_VALUE,m=Number.MAX_VALUE,v=0,C=.39614353*this._CellularJitterModifier,b=(o-1)*this._PrimeX,T=(h-1)*this._PrimeY,w=(p-1)*this._PrimeZ;switch(this._CellularDistanceFunction){case D.CellularDistanceFunction.Euclidean:case D.CellularDistanceFunction.EuclideanSq:for(let N=o-1;N<=o+1;N++){let U=T;for(let j=h-1;j<=h+1;j++){let H=w;for(let X=p-1;X<=p+1;X++){let L=this._HashR3(r,b,U,H),Y=L&1020,W=N-s+this._RandVecs3D[Y]*C,Z=j-c+this._RandVecs3D[Y|1]*C,le=X-f+this._RandVecs3D[Y|2]*C,ne=W*W+Z*Z+le*le;m=Math.max(Math.min(m,ne),y),ne<y&&(y=ne,v=L),H+=this._PrimeZ}U+=this._PrimeY}b+=this._PrimeX}break;case D.CellularDistanceFunction.Manhattan:for(let N=o-1;N<=o+1;N++){let U=T;for(let j=h-1;j<=h+1;j++){let H=w;for(let X=p-1;X<=p+1;X++){let L=this._HashR3(r,b,U,H),Y=L&1020,W=N-s+this._RandVecs3D[Y]*C,Z=j-c+this._RandVecs3D[Y|1]*C,le=X-f+this._RandVecs3D[Y|2]*C,ne=Math.abs(W)+Math.abs(Z)+Math.abs(le);m=Math.max(Math.min(m,ne),y),ne<y&&(y=ne,v=L),H+=this._PrimeZ}U+=this._PrimeY}b+=this._PrimeX}break;case D.CellularDistanceFunction.Hybrid:for(let N=o-1;N<=o+1;N++){let U=T;for(let j=h-1;j<=h+1;j++){let H=w;for(let X=p-1;X<=p+1;X++){let L=this._HashR3(r,b,U,H),Y=L&1020,W=N-s+this._RandVecs3D[Y]*C,Z=j-c+this._RandVecs3D[Y|1]*C,le=X-f+this._RandVecs3D[Y|2]*C,ne=Math.abs(W)+Math.abs(Z)+Math.abs(le)+(W*W+Z*Z+le*le);m=Math.max(Math.min(m,ne),y),ne<y&&(y=ne,v=L),H+=this._PrimeZ}U+=this._PrimeY}b+=this._PrimeX}break}switch(this._CellularDistanceFunction===D.CellularDistanceFunction.Euclidean&&this._CellularReturnType!==D.CellularReturnType.CellValue&&(y=Math.sqrt(y),this._CellularReturnType!==D.CellularReturnType.CellValue&&(m=Math.sqrt(m))),this._CellularReturnType){case D.CellularReturnType.CellValue:return v*(1/2147483648);case D.CellularReturnType.Distance:return y-1;case D.CellularReturnType.Distance2:return m-1;case D.CellularReturnType.Distance2Add:return(m+y)*.5-1;case D.CellularReturnType.Distance2Sub:return m-y-1;case D.CellularReturnType.Distance2Mul:return m*y*.5-1;case D.CellularReturnType.Distance2Div:return y/m-1;default:return 0}}_SinglePerlinR2(r,s,c){let f=Math.floor(s),o=Math.floor(c),h=s-f,p=c-o,y=h-1,m=p-1,v=D._InterpQuintic(h),C=D._InterpQuintic(p);f=Math.imul(f,this._PrimeX),o=Math.imul(o,this._PrimeY);let b=f+this._PrimeX,T=o+this._PrimeY,w=D._Lerp(this._GradCoordR2(r,f,o,h,p),this._GradCoordR2(r,b,o,y,p),v),N=D._Lerp(this._GradCoordR2(r,f,T,h,m),this._GradCoordR2(r,b,T,y,m),v);return D._Lerp(w,N,C)*1.4247691104677813}_SinglePerlinR3(r,s,c,f){let o=Math.floor(s),h=Math.floor(c),p=Math.floor(f),y=s-o,m=c-h,v=f-p,C=y-1,b=m-1,T=v-1,w=D._InterpQuintic(y),N=D._InterpQuintic(m),U=D._InterpQuintic(v);o=Math.imul(o,this._PrimeX),h=Math.imul(h,this._PrimeY),p=Math.imul(p,this._PrimeZ);let j=o+this._PrimeX,H=h+this._PrimeY,X=p+this._PrimeZ,L=D._Lerp(this._GradCoordR3(r,o,h,p,y,m,v),this._GradCoordR3(r,j,h,p,C,m,v),w),Y=D._Lerp(this._GradCoordR3(r,o,H,p,y,b,v),this._GradCoordR3(r,j,H,p,C,b,v),w),W=D._Lerp(this._GradCoordR3(r,o,h,X,y,m,T),this._GradCoordR3(r,j,h,X,C,m,T),w),Z=D._Lerp(this._GradCoordR3(r,o,H,X,y,b,T),this._GradCoordR3(r,j,H,X,C,b,T),w),le=D._Lerp(L,Y,N),ne=D._Lerp(W,Z,N);return D._Lerp(le,ne,U)*.9649214148521423}_SingleValueCubicR2(r,s,c){let f=Math.floor(s),o=Math.floor(c),h=s-f,p=c-o;f=Math.imul(f,this._PrimeX),o=Math.imul(o,this._PrimeY);let y=f-this._PrimeX,m=o-this._PrimeY,v=f+this._PrimeX,C=o+this._PrimeY,b=f+(this._PrimeX<<1),T=o+(this._PrimeY<<1);return D._CubicLerp(D._CubicLerp(this._ValCoordR2(r,y,m),this._ValCoordR2(r,f,m),this._ValCoordR2(r,v,m),this._ValCoordR2(r,b,m),h),D._CubicLerp(this._ValCoordR2(r,y,o),this._ValCoordR2(r,f,o),this._ValCoordR2(r,v,o),this._ValCoordR2(r,b,o),h),D._CubicLerp(this._ValCoordR2(r,y,C),this._ValCoordR2(r,f,C),this._ValCoordR2(r,v,C),this._ValCoordR2(r,b,C),h),D._CubicLerp(this._ValCoordR2(r,y,T),this._ValCoordR2(r,f,T),this._ValCoordR2(r,v,T),this._ValCoordR2(r,b,T),h),p)*(1/(1.5*1.5))}_SingleValueCubicR3(r,s,c,f){let o=Math.floor(s),h=Math.floor(c),p=Math.floor(f),y=s-o,m=c-h,v=f-p;o=Math.imul(o,this._PrimeX),h=Math.imul(h,this._PrimeY),p=Math.imul(p,this._PrimeZ);let C=o-this._PrimeX,b=h-this._PrimeY,T=p-this._PrimeZ,w=o+this._PrimeX,N=h+this._PrimeY,U=p+this._PrimeZ,j=o+(this._PrimeX<<1),H=h+(this._PrimeY<<1),X=p+(this._PrimeZ<<1);return D._CubicLerp(D._CubicLerp(D._CubicLerp(this._ValCoordR3(r,C,b,T),this._ValCoordR3(r,o,b,T),this._ValCoordR3(r,w,b,T),this._ValCoordR3(r,j,b,T),y),D._CubicLerp(this._ValCoordR3(r,C,h,T),this._ValCoordR3(r,o,h,T),this._ValCoordR3(r,w,h,T),this._ValCoordR3(r,j,h,T),y),D._CubicLerp(this._ValCoordR3(r,C,N,T),this._ValCoordR3(r,o,N,T),this._ValCoordR3(r,w,N,T),this._ValCoordR3(r,j,N,T),y),D._CubicLerp(this._ValCoordR3(r,C,H,T),this._ValCoordR3(r,o,H,T),this._ValCoordR3(r,w,H,T),this._ValCoordR3(r,j,H,T),y),m),D._CubicLerp(D._CubicLerp(this._ValCoordR3(r,C,b,p),this._ValCoordR3(r,o,b,p),this._ValCoordR3(r,w,b,p),this._ValCoordR3(r,j,b,p),y),D._CubicLerp(this._ValCoordR3(r,C,h,p),this._ValCoordR3(r,o,h,p),this._ValCoordR3(r,w,h,p),this._ValCoordR3(r,j,h,p),y),D._CubicLerp(this._ValCoordR3(r,C,N,p),this._ValCoordR3(r,o,N,p),this._ValCoordR3(r,w,N,p),this._ValCoordR3(r,j,N,p),y),D._CubicLerp(this._ValCoordR3(r,C,H,p),this._ValCoordR3(r,o,H,p),this._ValCoordR3(r,w,H,p),this._ValCoordR3(r,j,H,p),y),m),D._CubicLerp(D._CubicLerp(this._ValCoordR3(r,C,b,U),this._ValCoordR3(r,o,b,U),this._ValCoordR3(r,w,b,U),this._ValCoordR3(r,j,b,U),y),D._CubicLerp(this._ValCoordR3(r,C,h,U),this._ValCoordR3(r,o,h,U),this._ValCoordR3(r,w,h,U),this._ValCoordR3(r,j,h,U),y),D._CubicLerp(this._ValCoordR3(r,C,N,U),this._ValCoordR3(r,o,N,U),this._ValCoordR3(r,w,N,U),this._ValCoordR3(r,j,N,U),y),D._CubicLerp(this._ValCoordR3(r,C,H,U),this._ValCoordR3(r,o,H,U),this._ValCoordR3(r,w,H,U),this._ValCoordR3(r,j,H,U),y),m),D._CubicLerp(D._CubicLerp(this._ValCoordR3(r,C,b,X),this._ValCoordR3(r,o,b,X),this._ValCoordR3(r,w,b,X),this._ValCoordR3(r,j,b,X),y),D._CubicLerp(this._ValCoordR3(r,C,h,X),this._ValCoordR3(r,o,h,X),this._ValCoordR3(r,w,h,X),this._ValCoordR3(r,j,h,X),y),D._CubicLerp(this._ValCoordR3(r,C,N,X),this._ValCoordR3(r,o,N,X),this._ValCoordR3(r,w,N,X),this._ValCoordR3(r,j,N,X),y),D._CubicLerp(this._ValCoordR3(r,C,H,X),this._ValCoordR3(r,o,H,X),this._ValCoordR3(r,w,H,X),this._ValCoordR3(r,j,H,X),y),m),v)*(1/(1.5*1.5*1.5))}_SingleValueR2(r,s,c){let f=Math.floor(s),o=Math.floor(c),h=D._InterpHermite(s-f),p=D._InterpHermite(c-o);f=Math.imul(f,this._PrimeX),o=Math.imul(o,this._PrimeY);let y=f+this._PrimeX,m=o+this._PrimeY,v=D._Lerp(this._ValCoordR2(r,f,o),this._ValCoordR2(r,y,o),h),C=D._Lerp(this._ValCoordR2(r,f,m),this._ValCoordR2(r,y,m),h);return D._Lerp(v,C,p)}_SingleValueR3(r,s,c,f){let o=Math.floor(s),h=Math.floor(c),p=Math.floor(f),y=D._InterpHermite(s-o),m=D._InterpHermite(c-h),v=D._InterpHermite(f-p);o=Math.imul(o,this._PrimeX),h=Math.imul(h,this._PrimeY),p=Math.imul(p,this._PrimeZ);let C=o+this._PrimeX,b=h+this._PrimeY,T=p+this._PrimeZ,w=D._Lerp(this._ValCoordR3(r,o,h,p),this._ValCoordR3(r,C,h,p),y),N=D._Lerp(this._ValCoordR3(r,o,b,p),this._ValCoordR3(r,C,b,p),y),U=D._Lerp(this._ValCoordR3(r,o,h,T),this._ValCoordR3(r,C,h,T),y),j=D._Lerp(this._ValCoordR3(r,o,b,T),this._ValCoordR3(r,C,b,T),y),H=D._Lerp(w,N,m),X=D._Lerp(U,j,m);return D._Lerp(H,X,v)}_DoSingleDomainWarp(){let r=(c,f,o,h,p,y)=>{switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:this._SingleDomainWarpOpenSimplex2Gradient(c,f*38.283687591552734,o,h,!1,p,y);break;case D.DomainWarpType.OpenSimplex2Reduced:this._SingleDomainWarpOpenSimplex2Gradient(c,f*16,o,h,!0,p,y);break;case D.DomainWarpType.BasicGrid:this._SingleDomainWarpBasicGrid(c,f,o,h,p,y);break}},s=(c,f,o,h,p,y,m)=>{switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:this._SingleDomainWarpOpenSimplex2Gradient(c,f*32.69428253173828,o,h,!1,p,y,m);break;case D.DomainWarpType.OpenSimplex2Reduced:this._SingleDomainWarpOpenSimplex2Gradient(c,f*7.71604938271605,o,h,!0,p,y,m);break;case D.DomainWarpType.BasicGrid:this._SingleDomainWarpBasicGrid(c,f,o,h,p,y,m);break}};if(arguments.length===6&&arguments[3]instanceof ar)return r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);if(arguments.length===7&&arguments[3]instanceof rr)return s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}_DomainWarpSingle(){let r=c=>{let f=this._Seed,o=this._DomainWarpAmp*this._FractalBounding,h=this._Frequency,p=c.x,y=c.y;switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:case D.DomainWarpType.OpenSimplex2Reduced:const v=.5*(1.7320508075688772-1);let C=(p+y)*v;p+=C,y+=C;break}this._DoSingleDomainWarp(f,o,h,c,p,y)},s=c=>{let f=this._Seed,o=this._DomainWarpAmp*this._FractalBounding,h=this._Frequency,p=c.x,y=c.y,m=c.z;switch(this._WarpTransformType3D){case D.TransformType3D.ImproveXYPlanes:{let b=p+y,T=b*-.211324865405187;m*=.577350269189626,p+=T-m,y=y+T-m,m+=b*.577350269189626}break;case D.TransformType3D.ImproveXZPlanes:{let b=p+m,T=b*-.211324865405187;y*=.577350269189626,p+=T-y,m+=T-y,y+=b*.577350269189626}break;case D.TransformType3D.DefaultOpenSimplex2:const v=2/3;let C=(p+y+m)*v;p=C-p,y=C-y,m=C-m;break}this._DoSingleDomainWarp(f,o,h,c,p,y,m)};if(arguments.length===1&&arguments[0]instanceof ar)return r(arguments[0]);if(arguments.length===1&&arguments[0]instanceof rr)return s(arguments[0])}_DomainWarpFractalProgressive(){let r=c=>{let f=this._Seed,o=this._DomainWarpAmp*this._FractalBounding,h=this._Frequency;for(let p=0;p<this._Octaves;p++){let y=c.x,m=c.y;switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:case D.DomainWarpType.OpenSimplex2Reduced:const C=.5*(1.7320508075688772-1);let b=(y+m)*C;y+=b,m+=b;break}this._DoSingleDomainWarp(f,o,h,c,y,m),f++,o*=this._Gain,h*=this._Lacunarity}},s=c=>{let f=this._Seed,o=this._DomainWarpAmp*this._FractalBounding,h=this._Frequency;for(let p=0;p<this._Octaves;p++){let y=c.x,m=c.y,v=c.z;switch(this._WarpTransformType3D){case D.TransformType3D.ImproveXYPlanes:{let C=y+m,b=C*-.211324865405187;v*=.577350269189626,y+=b-v,m=m+b-v,v+=C*.577350269189626}break;case D.TransformType3D.ImproveXZPlanes:{let C=y+v,b=C*-.211324865405187;m*=.577350269189626,y+=b-m,v+=b-m,m+=C*.577350269189626}break;case D.TransformType3D.DefaultOpenSimplex2:{let b=(y+m+v)*.6666666666666666;y=b-y,m=b-m,v=b-v}break}this._DoSingleDomainWarp(f,o,h,c,y,m,v),f++,o*=this._Gain,h*=this._Lacunarity}};if(arguments.length===1&&arguments[0]instanceof ar)return r(arguments[0]);if(arguments.length===1&&arguments[0]instanceof rr)return s(arguments[0])}_DomainWarpFractalIndependent(){let r=c=>{let f=c.x,o=c.y;switch(this._DomainWarpType){case D.DomainWarpType.OpenSimplex2:case D.DomainWarpType.OpenSimplex2Reduced:const v=.5*(1.7320508075688772-1);let C=(f+o)*v;f+=C,o+=C;break}let h=this._Seed,p=this._DomainWarpAmp*this._FractalBounding,y=this._Frequency;for(let m=0;m<this._Octaves;m++)this._DoSingleDomainWarp(h,p,y,c,f,o),h++,p*=this._Gain,y*=this._Lacunarity},s=c=>{let f=c.x,o=c.y,h=c.z;switch(this._WarpTransformType3D){case D.TransformType3D.ImproveXYPlanes:{let v=f+o,C=v*-.211324865405187;h*=.577350269189626,f+=C-h,o=o+C-h,h+=v*.577350269189626}break;case D.TransformType3D.ImproveXZPlanes:{let v=f+h,C=v*-.211324865405187;o*=.577350269189626,f+=C-o,h+=C-o,o+=v*.577350269189626}break;case D.TransformType3D.DefaultOpenSimplex2:{let C=(f+o+h)*.6666666666666666;f=C-f,o=C-o,h=C-h}break}let p=this._Seed,y=this._DomainWarpAmp*this._FractalBounding,m=this._Frequency;for(let v=0;v<this._Octaves;v++)this._DoSingleDomainWarp(p,y,m,c,f,o,h),p++,y*=this._Gain,m*=this._Lacunarity};if(arguments.length===1&&arguments[0]instanceof ar)return r(arguments[0]);if(arguments.length===1&&arguments[0]instanceof rr)return s(arguments[0])}_SingleDomainWarpBasicGrid(){let r=(c,f,o,h,p,y)=>{let m=p*o,v=y*o,C=Math.floor(m),b=Math.floor(v),T=D._InterpHermite(m-C),w=D._InterpHermite(v-b);C=Math.imul(C,this._PrimeX),b=Math.imul(b,this._PrimeY);let N=C+this._PrimeX,U=b+this._PrimeY,j=this._HashR2(c,C,b)&510,H=this._HashR2(c,N,b)&510,X=D._Lerp(this._RandVecs2D[j],this._RandVecs2D[H],T),L=D._Lerp(this._RandVecs2D[j|1],this._RandVecs2D[H|1],T);j=this._HashR2(c,C,U)&510,H=this._HashR2(c,N,U)&510;let Y=D._Lerp(this._RandVecs2D[j],this._RandVecs2D[H],T),W=D._Lerp(this._RandVecs2D[j|1],this._RandVecs2D[H|1],T);h.x+=D._Lerp(X,Y,w)*f,h.y+=D._Lerp(L,W,w)*f},s=(c,f,o,h,p,y,m)=>{let v=p*o,C=y*o,b=m*o,T=Math.floor(v),w=Math.floor(C),N=Math.floor(b),U=D._InterpHermite(v-T),j=D._InterpHermite(C-w),H=D._InterpHermite(b-N);T=Math.imul(T,this._PrimeX),w=Math.imul(w,this._PrimeY),N=Math.imul(N,this._PrimeZ);let X=T+this._PrimeX,L=w+this._PrimeY,Y=N+this._PrimeZ,W=this._HashR3(c,T,w,N)&1020,Z=this._HashR3(c,X,w,N)&1020,le=D._Lerp(this._RandVecs3D[W],this._RandVecs3D[Z],U),ne=D._Lerp(this._RandVecs3D[W|1],this._RandVecs3D[Z|1],U),ce=D._Lerp(this._RandVecs3D[W|2],this._RandVecs3D[Z|2],U);W=this._HashR3(c,T,L,N)&1020,Z=this._HashR3(c,X,L,N)&1020;let ye=D._Lerp(this._RandVecs3D[W],this._RandVecs3D[Z],U),ae=D._Lerp(this._RandVecs3D[W|1],this._RandVecs3D[Z|1],U),ve=D._Lerp(this._RandVecs3D[W|2],this._RandVecs3D[Z|2],U),Re=D._Lerp(le,ye,j),oe=D._Lerp(ne,ae,j),z=D._Lerp(ce,ve,j);W=this._HashR3(c,T,w,Y)&1020,Z=this._HashR3(c,X,w,Y)&1020,le=D._Lerp(this._RandVecs3D[W],this._RandVecs3D[Z],U),ne=D._Lerp(this._RandVecs3D[W|1],this._RandVecs3D[Z|1],U),ce=D._Lerp(this._RandVecs3D[W|2],this._RandVecs3D[Z|2],U),W=this._HashR3(c,T,L,Y)&1020,Z=this._HashR3(c,X,L,Y)&1020,ye=D._Lerp(this._RandVecs3D[W],this._RandVecs3D[Z],U),ae=D._Lerp(this._RandVecs3D[W|1],this._RandVecs3D[Z|1],U),ve=D._Lerp(this._RandVecs3D[W|2],this._RandVecs3D[Z|2],U),h.x+=D._Lerp(Re,D._Lerp(le,ye,j),H)*f,h.y+=D._Lerp(oe,D._Lerp(ne,ae,j),H)*f,h.z+=D._Lerp(z,D._Lerp(ce,ve,j),H)*f};arguments.length===6&&arguments[3]instanceof ar&&r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),arguments.length===7&&arguments[3]instanceof rr&&s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}_SingleDomainWarpOpenSimplex2Gradient(){let r=(c,f,o,h,p,y,m)=>{const C=(3-1.7320508075688772)/6;y*=o,m*=o;let b=Math.floor(y),T=Math.floor(m),w=y-b,N=m-T,U=(w+N)*C,j=w-U,H=N-U;b=Math.imul(b,this._PrimeX),T=Math.imul(T,this._PrimeY);let X,L;X=L=0;let Y=.5-j*j-H*H;if(Y>0){let Z=Y*Y*(Y*Y),le,ne;if(p){let ce=this._HashR2(c,b,T)&510;le=this._RandVecs2D[ce],ne=this._RandVecs2D[ce|1]}else{let ce=this._HashR2(c,b,T),ye=ce&254,ae=ce>>7&510,ve=this._Gradients2D[ye],Re=this._Gradients2D[ye|1],oe=j*ve+H*Re,z=this._RandVecs2D[ae],$=this._RandVecs2D[ae|1];le=oe*z,ne=oe*$}X+=Z*le,L+=Z*ne}let W=2*(1-2*C)*(1/C-2)*U+(-2*(1-2*C)*(1-2*C)+Y);if(W>0){let Z=j+(2*C-1),le=H+(2*C-1),ne=W*W*(W*W),ce,ye;if(p){let ae=this._HashR2(c,b+this._PrimeX,T+this._PrimeY)&510;ce=this._RandVecs2D[ae],ye=this._RandVecs2D[ae|1]}else{let ae=this._HashR2(c,b+this._PrimeX,T+this._PrimeY),ve=ae&254,Re=ae>>7&510,oe=this._Gradients2D[ve],z=this._Gradients2D[ve|1],$=Z*oe+le*z,J=this._RandVecs2D[Re],te=this._RandVecs2D[Re|1];ce=$*J,ye=$*te}X+=ne*ce,L+=ne*ye}if(H>j){let Z=j+C,le=H+(C-1),ne=.5-Z*Z-le*le;if(ne>0){let ce=ne*ne*(ne*ne),ye,ae;if(p){let ve=this._HashR2(c,b,T+this._PrimeY)&510;ye=this._RandVecs2D[ve],ae=this._RandVecs2D[ve|1]}else{let ve=this._HashR2(c,b,T+this._PrimeY),Re=ve&254,oe=ve>>7&510,z=this._Gradients2D[Re],$=this._Gradients2D[Re|1],J=Z*z+le*$,te=this._RandVecs2D[oe],x=this._RandVecs2D[oe|1];ye=J*te,ae=J*x}X+=ce*ye,L+=ce*ae}}else{let Z=j+(C-1),le=H+C,ne=.5-Z*Z-le*le;if(ne>0){let ce=ne*ne*(ne*ne),ye,ae;if(p){let ve=this._HashR2(c,b+this._PrimeX,T)&510;ye=this._RandVecs2D[ve],ae=this._RandVecs2D[ve|1]}else{let ve=this._HashR2(c,b+this._PrimeX,T),Re=ve&254,oe=ve>>7&510,z=this._Gradients2D[Re],$=this._Gradients2D[Re|1],J=Z*z+le*$,te=this._RandVecs2D[oe],x=this._RandVecs2D[oe|1];ye=J*te,ae=J*x}X+=ce*ye,L+=ce*ae}}h.x+=X*f,h.y+=L*f},s=(c,f,o,h,p,y,m,v)=>{y*=o,m*=o,v*=o;let C=Math.round(y),b=Math.round(m),T=Math.round(v),w=y-C,N=m-b,U=v-T,j=-w-1|1,H=-N-1|1,X=-U-1|1,L=j*-w,Y=H*-N,W=X*-U;C=Math.imul(C,this._PrimeX),b=Math.imul(b,this._PrimeY),T=Math.imul(T,this._PrimeZ);let Z,le,ne;Z=le=ne=0;let ce=.6-w*w-(N*N+U*U);for(let ye=0;;ye++){if(ce>0){let te=ce*ce*(ce*ce),x,O,k;if(p){let q=this._HashR3(c,C,b,T)&1020;x=this._RandVecs3D[q],O=this._RandVecs3D[q|1],k=this._RandVecs3D[q|2]}else{let q=this._HashR3(c,C,b,T),F=q&252,ue=q>>6&1020,ee=this._Gradients3D[F],ze=this._Gradients3D[F|1],xe=this._Gradients3D[F|2],Ue=w*ee+N*ze+U*xe,We=this._RandVecs3D[ue],Je=this._RandVecs3D[ue|1],Ze=this._RandVecs3D[ue|2];x=Ue*We,O=Ue*Je,k=Ue*Ze}Z+=te*x,le+=te*O,ne+=te*k}let ae=ce,ve=C,Re=b,oe=T,z=w,$=N,J=U;if(L>=Y&&L>=W?(z+=j,ae=ae+L+L,ve-=j*this._PrimeX):Y>L&&Y>=W?($+=H,ae=ae+Y+Y,Re-=H*this._PrimeY):(J+=X,ae=ae+W+W,oe-=X*this._PrimeZ),ae>1){ae-=1;let te=ae*ae*(ae*ae),x,O,k;if(p){let q=this._HashR3(c,ve,Re,oe)&1020;x=this._RandVecs3D[q],O=this._RandVecs3D[q|1],k=this._RandVecs3D[q|2]}else{let q=this._HashR3(c,ve,Re,oe),F=q&252,ue=q>>6&1020,ee=this._Gradients3D[F],ze=this._Gradients3D[F|1],xe=this._Gradients3D[F|2],Ue=z*ee+$*ze+J*xe,We=this._RandVecs3D[ue],Je=this._RandVecs3D[ue|1],Ze=this._RandVecs3D[ue|2];x=Ue*We,O=Ue*Je,k=Ue*Ze}Z+=te*x,le+=te*O,ne+=te*k}if(ye===1)break;L=.5-L,Y=.5-Y,W=.5-W,w=j*L,N=H*Y,U=X*W,ce+=.75-L-(Y+W),C+=j>>1&this._PrimeX,b+=H>>1&this._PrimeY,T+=X>>1&this._PrimeZ,j=-j,H=-H,X=-X,c+=1293373}h.x+=Z*f,h.y+=le*f,h.z+=ne*f};arguments.length===7&&r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),arguments.length===8&&s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7])}}class ar{constructor(r,s){this.x=r,this.y=s}}class rr{constructor(r,s,c){this.x=r,this.y=s,this.z=c}}function sh(i=42,r=1920,s=1080,c=D.NoiseType.Perlin,f=6,o=1.7,h=.5,p=D.FractalType.FBm,y=.003){const m=new D;m.SetNoiseType(c),m.SetSeed(i),m.SetFractalOctaves(f),m.SetFractalLacunarity(o),m.SetFractalGain(h),m.SetFractalType(p),m.SetFrequency(y);const v=[];for(let T=0;T<s;T++)for(let w=0;w<r;w++){const U=(m.GetNoise(w,T)+1)/2;v.push(U)}var C=0,b=0;for(let T=0;T<v.length;T++)(v[T]<C||T==0)&&(C=v[T]),(v[T]>b||T==0)&&(b=v[T]);for(let T=0;T<v.length;T++)v[T]=(v[T]-C)/(b-C);return v}const fh=`struct View {\r
    size      : vec2<u32>, // width, height (pixels)\r
    time      : f32,       // seconds\r
    simIndex  : u32,       // [0-inf] simulation passes\r
};\r
\r
struct Input {\r
  mousePos     : vec2<u32>, // 0..1: u32 pixels\r
  mouse0Held   : f32,       // 2: 0/1\r
  mouse1Held   : f32,       // 3: 0/1\r
  mouseRadius  : f32,       // 4\r
  // (12 bytes implicit padding here to align next member to 16B)\r
  visibleRect  : vec4<u32>, //  (x0, y0, x1, y1) in canvas coords\r
};                          // total size = 48 bytes\r
\r
struct CellData {\r
    height       : f32,       // 0..3\r
    heightNormal : vec3<f32>, // starts at 16, uses 16 bytes\r
    fAmount      : f32,       // at 28\r
    _pad0        : vec3<f32>, // starts at 32, uses 16 bytes\r
};\r
// total size = 48 bytes, 12 floats\r
\r
struct StepData\r
{\r
  height       : f32,\r
  fAmount      : f32,\r
}\r
\r
// Terrain params you had in HLSL: maxCellValue, terrainHeightMultiplier, colorSteps, numberOfTerrainColors\r
struct TerrainParams {\r
  maxCellValue            : f32,   // e.g., 100.0\r
  terrainHeightMultiplier : f32,   // scales max height\r
  colorSteps              : u32,   // number of discrete steps used for t\r
  numberOfTerrainColors   : u32,   // gradient array length\r
  _padT0                  : vec2<f32>,\r
};\r
\r
struct CursorQuery\r
{\r
    // Current cell under the cursor\r
    cell           : CellData, // size 48, align 16\r
    // Total fluid on the entire map\r
    fluidTotal     : f32,      // starts as 48\r
    // Total antiFluid on the entire map\r
    anitFluidTotal : f32,      // starts as 52\r
};\r
// total size = 56 -> rounded to 64 bytes\r
\r
struct ChunkData // total of 16 bytes\r
{\r
  fluidTotal          : f32,      // The total fluid in this chunk @ 0\r
  anitFluidTotal      : f32,      // The total anti fluid in this chunk @ 4\r
  deepestFluid        : u32,      // The index of the deepest fluid in this chunk @ 8\r
  deepestAntiFluid    : u32,      // The index of the deepest anti fluid in this chunk @ 12\r
};`,dh=`// ---------- Helpers ----------\r
fn idx(x : u32, y : u32) -> u32 {\r
    return y * uView.size.x + x;\r
}\r
\r
fn distanceSqrd(p: vec2<u32>, c: vec2<u32>) -> f32\r
{\r
  let d = vec2<f32>(f32(i32(p.x) - i32(c.x)), f32(i32(p.y) - i32(c.y)));\r
  return dot(d, d);\r
}\r
\r
fn inside_circle(p: vec2<u32>, c: vec2<u32>, radius: f32) -> bool {\r
    return distanceSqrd(p, c) <= radius * radius;\r
}\r
\r
fn lerp4(a: vec4f, b: vec4f, t: f32) -> vec4f {\r
    return a * (1.0 - t) + b * t;\r
}\r
\r
fn roundToStep(value: f32, step: f32) -> f32 {\r
    // Divide by step, round to nearest integer, multiply back\r
    return round(value / step) * step;\r
}\r
\r
fn inBounds(x:u32, y:u32) -> bool \r
{\r
  return (x < uView.size.x) && (y < uView.size.y);\r
}\r
\r
fn inBoundsV2U(coord: vec2<u32>) -> bool \r
{\r
  return (coord.x < uView.size.x) && (coord.y < uView.size.y);\r
}\r
\r
fn inBoundsV2I(coord: vec2<i32>) -> bool \r
{\r
  return (coord.x < i32(uView.size.x)) && (coord.y < i32(uView.size.y)) && (coord.x >= 0i) && (coord.y >= 0i);\r
}\r
\r
fn clampCoord(coord: vec2<u32>) -> vec2<u32> {\r
  let cx = clamp(coord.x, 0u, u32(uView.size.x) - 1u);\r
  let cy = clamp(coord.y, 0u, u32(uView.size.y) - 1u);\r
  return vec2<u32>(u32(cx), u32(cy));\r
}\r
\r
// visibleRect = (x0, y0, x1, y1) in canvas coords; x1,y1 are EXCLUSIVE\r
fn isVisible(coord: vec2<u32>, expand: i32) -> bool {\r
  let w: u32 = uView.size.x;\r
  let h: u32 = uView.size.y;\r
\r
  let vr = uInput.visibleRect; // vec4<u32> (x0,y0,x1,y1)\r
\r
  // expand/shrink in signed space, then clamp to [0, size]\r
  let x0: u32 = u32(clamp(i32(vr.x) - expand, 0, i32(w)));\r
  let y0: u32 = u32(clamp(i32(vr.y) - expand, 0, i32(h)));\r
  let x1: u32 = u32(clamp(i32(vr.z) + expand, 0, i32(w)));\r
  let y1: u32 = u32(clamp(i32(vr.w) + expand, 0, i32(h)));\r
\r
  return (coord.x >= x0 && coord.x < x1) &&\r
         (coord.y >= y0 && coord.y < y1);\r
}\r
\r
fn roundToColorSteps(value: f32) -> f32\r
{\r
  if(uTerrain.colorSteps <= 0u) { return value; }\r
\r
  let maxHeight = i32(round(uTerrain.maxCellValue * uTerrain.terrainHeightMultiplier));\r
  let steps = max(1, i32(uTerrain.colorSteps)); // avoid div by zero\r
  return roundToStep(value, f32(maxHeight) / f32(steps));\r
}\r
\r
fn cellHeight(coord: vec2<u32>) -> f32 {\r
  let cCoord = clampCoord(coord);\r
  return currentCells[idx(cCoord.x, cCoord.y)].height;\r
}\r
\r
fn roundedCellHeight(coord: vec2<u32>) -> f32 {\r
  return roundToColorSteps(cellHeight(coord));\r
}\r
\r
fn cellFAmount(coord: vec2<u32>) -> f32 {\r
  let cCoord = clampCoord(coord);\r
  return currentCells[idx(cCoord.x, cCoord.y)].fAmount;\r
}\r
\r
fn roundedCellFAmount(coord: vec2<u32>) -> f32 {\r
  return roundToColorSteps(cellFAmount(coord));\r
}\r
\r
fn roundedCombinedCellHeight(coord: vec2<u32>) -> f32 {\r
  return roundToColorSteps(cellHeight(coord)) + abs(cellFAmount(coord));\r
}\r
\r
fn fHeight(coord: vec2<u32>) -> f32 {\r
  return abs(roundedCellFAmount(coord)) + roundedCellHeight(coord);\r
}\r
\r
fn avgFHeight(coord: vec2<u32>) -> f32 {\r
  let x = coord.x;\r
  let y = coord.y;\r
\r
  let currentHeight = abs(roundedCellFAmount(coord)) + roundedCellHeight(coord);\r
\r
  if(!(currentHeight < 0 || currentHeight > 0)) { return 0.0; }\r
\r
  // get surrounding heights\r
  let nVal0 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal1 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal2 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 0)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal3 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) + 1), u32(i32(y) - 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal4 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) + 0), u32(i32(y) - 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal5 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) - 1), u32(i32(y) - 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal6 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 0)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal7 = abs(roundedCellFAmount(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 1)))) + roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
\r
  var count : f32 = 1.0;\r
  if(nVal0 > 0 || nVal0 < 0) { count += 1.0; }\r
  if(nVal1 > 0 || nVal1 < 0) { count += 1.0; }\r
  if(nVal2 > 0 || nVal2 < 0) { count += 1.0; }\r
  if(nVal3 > 0 || nVal3 < 0) { count += 1.0; }\r
  if(nVal4 > 0 || nVal4 < 0) { count += 1.0; }\r
  if(nVal5 > 0 || nVal5 < 0) { count += 1.0; }\r
  if(nVal6 > 0 || nVal6 < 0) { count += 1.0; }\r
  if(nVal7 > 0 || nVal7 < 0) { count += 1.0; }\r
\r
  return (nVal0 + nVal1 + nVal2 + nVal3 + nVal4 + nVal5 + nVal6 + nVal7 + currentHeight) / count;\r
}\r
\r
fn colorLerp(a: vec4f, b: vec4f, t: f32) -> vec4f \r
{\r
  return mix(a, b, clamp(t, 0.0, 1.0));\r
}\r
\r
fn move_towards3(a: vec3<f32>, b: vec3<f32>, step: f32) -> vec3<f32> {\r
    let delta = b - a;\r
    let d = length(delta);\r
    if (d < 1e-6) { return b; }\r
    let t = clamp(step / d, 0.0, 1.0);\r
    return mix(a, b, t);\r
}\r
\r
// ----------- Sobel normal (8 taps, smoother) -----------\r
fn surfaceNormalSobel(coord: vec2<u32>) -> vec3<f32> {\r
  let x = u32(coord.x);\r
  let y = u32(coord.y);\r
\r
  let hL  = roundedCellHeight(vec2<u32>(x - 1, y));\r
  let hR  = roundedCellHeight(vec2<u32>(x + 1, y));\r
  let hD  = roundedCellHeight(vec2<u32>(x, y - 1));\r
  let hU  = roundedCellHeight(vec2<u32>(x, y + 1));\r
  let hLU = roundedCellHeight(vec2<u32>(x - 1, y + 1));\r
  let hLD = roundedCellHeight(vec2<u32>(x - 1, y - 1));\r
  let hRU = roundedCellHeight(vec2<u32>(x + 1, y + 1));\r
  let hRD = roundedCellHeight(vec2<u32>(x + 1, y - 1));\r
\r
  // Sobel kernels\r
  let gx = (hLD + 2.0 * hL + hLU) - (hRD + 2.0 * hR + hRU);\r
  let gz = (hRU + 2.0 * hU + hLU) - (hRD + 2.0 * hD + hLD);\r
\r
  // Scale to world units (kernel sum factor = 8)\r
  let inv8dx = uTerrain.maxCellValue / (8.0 * 1.0);\r
  let inv8dz = inv8dx;\r
\r
  let dHx = gx * inv8dx;\r
  let dHz = gz * inv8dz;\r
\r
  return normalize(vec3(-dHx, 1.0, -dHz));\r
}\r
\r
// Sample gradient array (terrainColorsBuf.items[0..N-1]) at t[0,1]\r
fn terrainColorLerp(t: f32) -> vec4f {\r
  let n = uTerrain.numberOfTerrainColors;\r
  if (n == 0u) { return vec4f(0.0, 0.0, 0.0, 1.0); }\r
  if (n == 1u) { return terrainColors[0u]; }\r
\r
  // map t to [0, n-1]\r
  let pos   = clamp(t, 0.0, 1.0) * f32(n - 1u);\r
  let i0    = u32(floor(pos));\r
  let i1    = u32(min(i0 + 1u, n - 1u));\r
  let local = fract(pos);\r
\r
  return mix(terrainColors[i0], terrainColors[i1], local);\r
}\r
\r
// ---------- Port of getTerrainColor ----------\r
fn getTerrainColor(coord: vec2<u32>) -> vec4f {\r
  var color = vec4f(0.0, 0.0, 0.0, 0.0); // CLEAR\r
\r
  let h = roundedCellHeight(coord);\r
  if (h >= 0.0) {\r
    let maxHeight = i32(round(uTerrain.maxCellValue * uTerrain.terrainHeightMultiplier));\r
    color = terrainColorLerp(h / f32(maxHeight));\r
  }\r
\r
  return color;\r
}\r
\r
fn distToGround(pos : vec3<f32>) -> f32\r
{\r
  let x = u32(round(pos.x));\r
  let y = u32(round(pos.z));\r
  let height = roundedCellHeight(vec2<u32>(x,y));\r
  let dist = f32(pos.y - height);\r
\r
  return dist;\r
}\r
\r
fn over_rgba(base: vec4<f32>, top: vec4<f32>) -> vec4<f32> {\r
  let a  = clamp(top.a, 0.0, 1.0);\r
  let oa = a + base.a * (1.0 - a);\r
  let rgb = (top.rgb * a + base.rgb * base.a * (1.0 - a)) / max(oa, 1e-6);\r
  return vec4<f32>(rgb, oa);\r
}\r
\r
fn inShadow(coord : vec2<u32>, sunPosition : vec3<f32>) -> bool\r
{\r
  // let rayTarget = vec3<f32>(f32(coord.x), roundedCellHeight(coord), f32(coord.y));\r
  // var currentPos = sunPosition;\r
\r
  // let accuracy = f32(10.0);\r
\r
  // var passes = 0;\r
  // while (passes < 1000)\r
  // {\r
  //   passes++;\r
\r
  //   if(distance(currentPos, rayTarget) < 1e-6)\r
  //   {\r
  //     return false;\r
  //   }\r
    \r
  //   let distG = distToGround(currentPos);\r
  //   if(distG <= -1e-3) \r
  //   { \r
  //     return true;\r
  //   }\r
\r
  //   let nextPosition = move_towards3(currentPos, rayTarget, f32(max(0.5, distG / accuracy)));\r
  //   currentPos = nextPosition;    \r
  // }\r
\r
  var targetHeight = roundedCellHeight(coord);\r
  targetHeight = max(50.0, targetHeight);\r
\r
  let rayTarget = vec3<f32>(f32(coord.x), targetHeight, f32(coord.y));\r
  var currentPos = sunPosition;\r
\r
  // accuracy stays high, but steps adapt to distance-to-ground\r
  let accuracy = f32(1.0);\r
\r
  var passes = 0;\r
  while (passes < 1000) {\r
    passes++;\r
\r
    // squared distance check (avoid sqrt each loop)\r
    let toT = currentPos - rayTarget;\r
    let toT2 = dot(toT, toT);\r
    if (toT2 < 1e-8) {        // (~1e-4^2); tune as needed\r
      return false;\r
    }\r
\r
    let distG = distToGround(currentPos);\r
    if (distG <= -1e-3) {\r
      return true;\r
    }\r
\r
\r
    // --- Adaptive step: coarse when far from ground, fine near ground ---\r
    // Coarse branch: larger/faster steps when well above ground\r
    let coarse = clamp(distG * 0.8, 0.5, uTerrain.maxCellValue * 0.2);\r
    // Fine branch: smaller/safer steps near ground to prevent gaps\r
    let fine = clamp(distG / accuracy, 0.5, 2.0);\r
    var moveAmount = select(coarse, fine, distG > uTerrain.maxCellValue * 0.02);\r
\r
    // Never overshoot the target\r
    let toTargetLen = sqrt(toT2);        // one sqrt only when needed\r
    moveAmount = min(moveAmount, toTargetLen);\r
\r
    let nextPosition = move_towards3(currentPos, rayTarget, moveAmount);\r
    currentPos = nextPosition;\r
  }\r
  return false;\r
\r
\r
  // return false;\r
}\r
\r
// Build one "shadow layer" that combines tinting + shading.\r
// Inputs:\r
//   shadowRgb  - the shadow/tint color (e.g., black or bluish tint)\r
//   s          - shadow strength in [0,1] (0 if not in shadow, else e.g. 0.5)\r
//   shade      - lambert-ish term in [0,1] (1=no darkening, 0=black)\r
// Output: straight-alpha color to place OVER the base with normal alpha.\r
fn makeCombinedShadowLayer(shadowRgb: vec3<f32>, s: f32, shade: f32) -> vec4<f32> \r
{\r
  let bs = clamp(s, 0.0, 1.0);\r
  let bm = clamp(shade, 0.0, 1.0);\r
\r
  // Combined alpha that reproduces: shade * mix(base, shadowRgb, S)\r
  let a = 1.0 - bm * (1.0 - bs);\r
\r
  if (a <= 1e-6) {\r
    return vec4<f32>(0.0, 0.0, 0.0, 0.0); // no effect\r
  }\r
\r
  // Top RGB so that mix(base, topRgb, a) == shade * mix(base, shadowRgb, S)\r
  let topRgb = (bm * bs / a) * shadowRgb;\r
  return vec4<f32>(topRgb, a);\r
}\r
\r
// Gets a highlight or shade color based on terrain height\r
fn getTerrainOutlineColor(coord : vec2<u32>, lightDir: vec3<f32>, shadeColor: vec4<f32>, highlightColor: vec4<f32>, inShadow: bool) -> vec4<f32> \r
{\r
  \r
  let x = coord.x;\r
  let y = coord.y;\r
\r
  let currentHeight = roundedCellHeight(coord);\r
\r
  // get surrounding heights\r
  let nVal0 = roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal1 = roundedCellHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 1)));\r
  let nVal2 = roundedCellHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 0)));\r
  let nVal3 = roundedCellHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) - 1)));\r
  let nVal4 = roundedCellHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) - 1)));\r
  let nVal5 = roundedCellHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) - 1)));\r
  let nVal6 = roundedCellHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 0)));\r
  let nVal7 = roundedCellHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 1)));\r
\r
  var normalOutline = vec4f(0.0, 0.0, 0.0, 0.0);\r
\r
  // axis feather width in direction space (tweak 0.08..0.2)\r
  let k = 30.0;\r
\r
  // weights that go to 1 near the seam (x0 or z0)\r
  let sx = 1.0 - smoothstep(k, 2.0*k, abs(lightDir.x));\r
  let sz = 1.0 - smoothstep(k, 2.0*k, abs(lightDir.z));\r
\r
  // --- compute your four triplet results exactly as before ---\r
  let maxXp = max(max(nVal2, nVal1), nVal3);\r
  let minXp = min(min(nVal2, nVal1), nVal3);\r
  let maxXn = max(max(nVal6, nVal7), nVal5);\r
  let minXn = min(min(nVal6, nVal7), nVal5);\r
  let maxZp = max(max(nVal0, nVal7), nVal1);\r
  let minZp = min(min(nVal0, nVal7), nVal1);\r
  let maxZn = max(max(nVal4, nVal5), nVal3);\r
  let minZn = min(min(nVal4, nVal5), nVal3);\r
\r
  // base directional weights (no branching)\r
  var wxp = max(lightDir.x, 0.0);\r
  var wxn = max(-lightDir.x, 0.0);\r
  var wzp = max(lightDir.z, 0.0);\r
  var wzn = max(-lightDir.z, 0.0);\r
\r
  // add a tiny floor so weights never hit exact 0 at the seam\r
  let epsW = 1e-3;\r
  wxp += epsW; wxn += epsW; wzp += epsW; wzn += epsW;\r
\r
  // normalize\r
  let wsum = wxp + wxn + wzp + wzn;\r
  let WXp = wxp / wsum;\r
  let WXn = wxn / wsum;\r
  let WZp = wzp / wsum;\r
  let WZn = wzn / wsum;\r
\r
  // pre-blend (no seam)\r
  var blendedMax = WXp*maxXp + WXn*maxXn + WZp*maxZp + WZn*maxZn;\r
  var blendedMin = WXp*minXp + WXn*minXn + WZp*minZp + WZn*minZn;\r
\r
  // axis cross-fade: when near x=0, mix X+ and X; when near z=0, mix Z+ and Z\r
  let maxX_axis = mix(maxXp, maxXn, 0.5 + 0.5*sign(-lightDir.x)); // equal when |x| small\r
  let minX_axis = mix(minXp, minXn, 0.5 + 0.5*sign(-lightDir.x));\r
  let maxZ_axis = mix(maxZp, maxZn, 0.5 + 0.5*sign(-lightDir.z));\r
  let minZ_axis = mix(minZp, minZn, 0.5 + 0.5*sign(-lightDir.z));\r
\r
  // stronger replacement only *near* axes\r
  blendedMax = mix(blendedMax, 0.5*(maxX_axis + maxZ_axis), max(sx, sz));\r
  blendedMin = mix(blendedMin, 0.5*(minX_axis + minZ_axis), max(sx, sz));\r
\r
  let E = 1e-4;  // tiny dead zone to avoid flicker on flats\r
  if (blendedMax > currentHeight + E) \r
  {\r
      normalOutline = shadeColor;\r
  } \r
  // Only apply highlight when not in shadow\r
  else if (!inShadow && blendedMin < currentHeight - E) \r
  {\r
      normalOutline = highlightColor;\r
  }\r
\r
  return normalOutline;\r
}\r
\r
// Gets a highlight or shade color based on terrain height\r
fn getFluidOutlineColor(coord : vec2<u32>, lightDir: vec3<f32>, shadeColor: vec4<f32>, highlightColor: vec4<f32>, inShadow: bool) -> vec4<f32> \r
{\r
  \r
  let x = coord.x;\r
  let y = coord.y;\r
\r
  var normalOutline = vec4f(0.0, 0.0, 0.0, 0.0);\r
\r
  let currentHeight = fHeight(coord);\r
\r
  // get surrounding heights\r
  let nVal0 = fHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  let nVal1 = fHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 1)));\r
  let nVal2 = fHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 0)));\r
  let nVal3 = fHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) - 1)));\r
  let nVal4 = fHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) - 1)));\r
  let nVal5 = fHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) - 1)));\r
  let nVal6 = fHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 0)));\r
  let nVal7 = fHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 1)));\r
\r
  // let nVal0 = avgFHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) + 1)));\r
  // let nVal1 = avgFHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 1)));\r
  // let nVal2 = avgFHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) + 0)));\r
  // let nVal3 = avgFHeight(vec2<u32>(u32(i32(x) + 1), u32(i32(y) - 1)));\r
  // let nVal4 = avgFHeight(vec2<u32>(u32(i32(x) + 0), u32(i32(y) - 1)));\r
  // let nVal5 = avgFHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) - 1)));\r
  // let nVal6 = avgFHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 0)));\r
  // let nVal7 = avgFHeight(vec2<u32>(u32(i32(x) - 1), u32(i32(y) + 1)));\r
\r
  // let diffThreshold : f32 = 1.5;\r
  // if(\r
  //     (abs(nVal0 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal1 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal2 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal3 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal4 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal5 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal6 - currentHeight) < diffThreshold) &&\r
  //     (abs(nVal7 - currentHeight) < diffThreshold)\r
  //   )\r
  //   {\r
  //     return normalOutline;\r
  //   }\r
\r
  \r
\r
  // axis feather width in direction space (tweak 0.08..0.2)\r
  let k = 30.0;\r
\r
  // weights that go to 1 near the seam (x0 or z0)\r
  let sx = 1.0 - smoothstep(k, 2.0*k, abs(lightDir.x));\r
  let sz = 1.0 - smoothstep(k, 2.0*k, abs(lightDir.z));\r
\r
  // --- compute your four triplet results exactly as before ---\r
  let maxXp = max(max(nVal2, nVal1), nVal3);\r
  let minXp = min(min(nVal2, nVal1), nVal3);\r
  let maxXn = max(max(nVal6, nVal7), nVal5);\r
  let minXn = min(min(nVal6, nVal7), nVal5);\r
  let maxZp = max(max(nVal0, nVal7), nVal1);\r
  let minZp = min(min(nVal0, nVal7), nVal1);\r
  let maxZn = max(max(nVal4, nVal5), nVal3);\r
  let minZn = min(min(nVal4, nVal5), nVal3);\r
\r
  // base directional weights (no branching)\r
  var wxp = max(lightDir.x, 0.0);\r
  var wxn = max(-lightDir.x, 0.0);\r
  var wzp = max(lightDir.z, 0.0);\r
  var wzn = max(-lightDir.z, 0.0);\r
\r
  // add a tiny floor so weights never hit exact 0 at the seam\r
  let epsW = 1e-3;\r
  wxp += epsW; wxn += epsW; wzp += epsW; wzn += epsW;\r
\r
  // normalize\r
  let wsum = wxp + wxn + wzp + wzn;\r
  let WXp = wxp / wsum;\r
  let WXn = wxn / wsum;\r
  let WZp = wzp / wsum;\r
  let WZn = wzn / wsum;\r
\r
  // pre-blend (no seam)\r
  var blendedMax = WXp*maxXp + WXn*maxXn + WZp*maxZp + WZn*maxZn;\r
  var blendedMin = WXp*minXp + WXn*minXn + WZp*minZp + WZn*minZn;\r
\r
  // axis cross-fade: when near x=0, mix X+ and X; when near z=0, mix Z+ and Z\r
  let maxX_axis = mix(maxXp, maxXn, 0.5 + 0.5*sign(-lightDir.x)); // equal when |x| small\r
  let minX_axis = mix(minXp, minXn, 0.5 + 0.5*sign(-lightDir.x));\r
  let maxZ_axis = mix(maxZp, maxZn, 0.5 + 0.5*sign(-lightDir.z));\r
  let minZ_axis = mix(minZp, minZn, 0.5 + 0.5*sign(-lightDir.z));\r
\r
  // stronger replacement only *near* axes\r
  blendedMax = mix(blendedMax, 0.5*(maxX_axis + maxZ_axis), max(sx, sz));\r
  blendedMin = mix(blendedMin, 0.5*(minX_axis + minZ_axis), max(sx, sz));\r
\r
  let E = 1e-4;  // tiny dead zone to avoid flicker on flats\r
  if (blendedMax > currentHeight + E) \r
  {\r
      normalOutline = shadeColor;\r
  } \r
  // Only apply highlight when not in shadow\r
  else if (!inShadow && blendedMin < currentHeight - E) \r
  {\r
      normalOutline = highlightColor;\r
  }\r
\r
  return normalOutline;\r
}`,hh=`// 8-neighborhood offsets (Up, Up-Right, Right, Right-Down, Down, Down-Left, Left, Left-Up)\r
const OFFSETS : array<vec2<i32>, 8> = array<vec2<i32>, 8>(\r
  vec2<i32>(0,  1),  // 0: Up\r
  vec2<i32>(1,  1),  // 1: Up-Right\r
  vec2<i32>(1,  0),  // 2: Right\r
  vec2<i32>(1, -1),  // 3: Right-Down\r
  vec2<i32>(0, -1),  // 4: Down\r
  vec2<i32>(-1,-1),  // 5: Down-Left\r
  vec2<i32>(-1, 0),  // 6: Left\r
  vec2<i32>(-1, 1)   // 7: Left-Up\r
);\r
\r
// Basic neighbor (signed coords). The caller should handle bounds.\r
// Safe neighbor coord: clamps into [0, size-1]\r
fn neighborCoord(coord: vec2<i32>, index: u32) -> vec2<i32> {\r
  let idx = ((index % 8) + 8) % 8;  // normalize to 0..7\r
  let c   = vec2<i32>(coord);\r
  let n   = c + OFFSETS[idx];\r
  return n;\r
}\r
\r
fn getFurtureCellFAmount(coord: vec2<u32>) -> f32\r
{\r
	let cellValue = cellFAmount(coord);\r
	let cellH = cellHeight(coord);\r
	var futureCellValue = cellValue;\r
	let maxCellValue : f32 = f32(uTerrain.maxCellValue) * 2.0;\r
	\r
	futureCellValue += getFlowChange(coord);\r
	//futureCellValue += GetInteractionChange(coord.xy);\r
	//futureCellValue += GetEmissionChange(coord.xy);\r
	\r
    \r
	// futureCellValue = clamp(futureCellValue, 0, uTerrain.maxCellValue - cellH);\r
	futureCellValue = clamp(futureCellValue, -maxCellValue + cellH, maxCellValue - cellH);\r
	\r
	return futureCellValue;\r
\r
}\r
\r
fn highestNeighborIndex(coord: vec2<i32>) -> u32\r
{\r
	var index : u32 = 0;\r
	var nCoord = vec2<i32>(0, 0);\r
	var nValue : f32 = -1.0;\r
	var maxValue : f32 = -1.0;\r
	var j : u32 = 0;\r
	\r
    // cycle index? this steps index [0-8]\r
    //var cycleIndex : u32 = uView.simIndex % 8;\r
\r
    // get random starting index based on randomDirectionsBuffer values\r
	//var cIndex : u32 = (cycleIndex + u32(randomDirectionsBuffer[idx(u32(coord.x), u32(coord.y))])) % 8;\r
\r
	// using an odd multiplier (3, 5, or 7 all work). 3 is a good default.\r
	let cycleIndex : u32 = (uView.simIndex * 3u) % 8u;\r
\r
	// keep your existing per-cell offset (randomDirectionsBuffer), but mod 8 explicitly\r
	let baseOffset : u32 = u32(randomDirectionsBuffer[idx(u32(coord.x), u32(coord.y))]) % 8u;\r
\r
	// final start index\r
	let cIndex     : u32 = (cycleIndex + baseOffset) % 8u;\r
	\r
	for (var i : u32 = 0; i < 8; i += 1)\r
	{\r
		j = (i + cIndex) % 8;\r
		nCoord = neighborCoord(coord, j);\r
		\r
		if (!inBoundsV2I(nCoord)) { continue; }\r
		\r
		nValue = roundedCombinedCellHeight(vec2<u32>(nCoord)); //CellValue(nCoord);\r
		\r
		if (index < 0 || nValue > maxValue || i == 0)\r
		{\r
			index = j;\r
			maxValue = nValue;\r
		}\r
	}\r
	\r
	return index;\r
}\r
\r
fn lowestNeighborIndex(coord: vec2<i32>) -> u32\r
{\r
	var index : u32 = 0;\r
	var nCoord = vec2<i32>(0, 0);\r
	var nValue : f32 = -1.0;\r
	var minValue : f32 = -1.0;\r
	var j : u32 = 0;\r
	\r
    // cycle index? this steps index [0-8]\r
    // var cycleIndex : u32 = uView.simIndex % 8;\r
\r
    // get random starting index based on randomDirectionsBuffer values\r
	// var cIndex : u32 = (cycleIndex + u32(randomDirectionsBuffer[idx(u32(coord.x), u32(coord.y))])) % 8;\r
\r
	// using an odd multiplier (3, 5, or 7 all work). 3 is a good default.\r
	let cycleIndex : u32 = (uView.simIndex * 3u) % 8u;\r
\r
	// keep your existing per-cell offset (randomDirectionsBuffer), but mod 8 explicitly\r
	let baseOffset : u32 = u32(randomDirectionsBuffer[idx(u32(coord.x), u32(coord.y))]) % 8u;\r
\r
	// final start index\r
	let cIndex     : u32 = (cycleIndex + baseOffset) % 8u;\r
	\r
	for (var i : u32 = 0; i < 8; i += 1)\r
	{\r
		j = (i + cIndex) % 8;\r
		nCoord = neighborCoord(coord, j);\r
		\r
		if (!inBoundsV2I(nCoord)) { continue; }\r
		\r
		nValue = roundedCombinedCellHeight(vec2<u32>(nCoord)); //CellValue(nCoord);\r
		\r
		if (index < 0 || nValue < minValue || i == 0)\r
		{\r
			index = j;\r
			minValue = nValue;\r
		}\r
	}\r
	\r
	return index;\r
}\r
\r
fn directNeighorCount(coord : vec2<i32>) -> u32\r
{\r
	var count : u32 = 0;\r
	var cellValue = cellFAmount(vec2<u32>(coord));\r
	var isAnti : bool = cellValue < 0;\r
	var nCoord : vec2<i32> = vec2<i32>(0, 0);\r
	var nValue : f32 = 0.0;\r
	\r
	for (var i : u32 = 0; i < 8; i += 1)\r
	{\r
		nCoord = neighborCoord(coord, i);\r
		\r
		if (!inBoundsV2I(nCoord)) { continue; }\r
				\r
		nValue = cellFAmount(vec2<u32>(nCoord));\r
		\r
		if(nValue == 0) { continue; }\r
		\r
		if ((cellValue != 0) && (isAnti != (nValue < 0))) { continue; }\r
		\r
		count++;\r
	}\r
	\r
	return count;\r
}\r
\r
fn getFlowChange(coord: vec2<u32>) -> f32\r
{\r
	// if (cellMovementMultiplier <= 0)\r
	// {\r
	// 	return 0;\r
	// }\r
	\r
	var currentCoord = vec2<i32>(coord);\r
    let cellValue = cellFAmount(coord);\r
	let cellH = roundedCellHeight(coord);\r
	let combinedCellValue = roundedCombinedCellHeight(coord);\r
	var futureCellValue = cellValue;\r
	\r
	var nCoord = vec2<i32>(0, 0);\r
	var nValue : f32 = 0.0;\r
    var nCombinedValue : f32 = 0.0;\r
    var nHeight : f32 = 0.0;\r
	var oppositeIndex : u32 = 0;\r
	var lowestIndex: u32 = 0;\r
    var highestIndex: u32 = 0;\r
		\r
	var change : f32 = 0.0;\r
	\r
	var checkNeighors : bool = false;	\r
	var requiredNeighbors : u32 = 0;\r
	var requiredRadius :u32 = 1;\r
	\r
	var isAnti : bool = cellValue < 0;\r
	var nIsAnti : bool = false;\r
	\r
	var clampToOne : bool = false;\r
	var movementDivsor : f32 = 2.0;\r
	\r
	var minSpreadAmount : f32 = 1.0;\r
	var minMoveAmount : f32 = 0.1;\r
	var cellMovementMultiplier : f32 = 1.0;\r
\r
    var maxCellValue = uTerrain.maxCellValue * 2;\r
	\r
	//Should this cell increase due to flow from a neighbor\r
	if (combinedCellValue < maxCellValue)\r
	{\r
		//Get this cells highest neighbor\r
		highestIndex = highestNeighborIndex(currentCoord);\r
		nCoord = neighborCoord(currentCoord, highestIndex);\r
		\r
		//If neighbor is in bounds\r
		if (inBoundsV2I(nCoord) && ((requiredNeighbors <= 0) || (directNeighorCount(nCoord) >= requiredNeighbors)))\r
		{\r
			nValue = cellFAmount(vec2<u32>(nCoord));\r
			nCombinedValue = roundedCombinedCellHeight(vec2<u32>(nCoord));\r
			nIsAnti = nValue < 0;						\r
			\r
			//If the neigbor has more than the min amount and the combined height of the neighbor cell is higher\r
			if (((cellValue != 0) || (abs(nValue) > minSpreadAmount)) && (abs(nValue) > minMoveAmount) && (nCombinedValue >= combinedCellValue))\r
			{\r
				//Get the lowest index of the neighbor\r
				oppositeIndex = (highestIndex + 4) % 8;\r
				lowestIndex = lowestNeighborIndex(nCoord);\r
				\r
				//if the lowestIndex equals the opposite, meaning that the two cells are paired\r
				if (lowestIndex == oppositeIndex)\r
				{\r
					let m = maxCellValue - combinedCellValue;\r
					var n = ((nCombinedValue - combinedCellValue) / movementDivsor * cellMovementMultiplier);\r
					n = min(abs(nValue), n);\r
					//increase cell by up to half of the difference in amounts\r
					let lower = f32(select(0, 1, clampToOne));\r
					let sign  = f32(select(1, -1, nIsAnti));\r
					change += clamp(n, lower, m) * sign;\r
				}\r
\r
			}\r
\r
		}\r
\r
	}\r
\r
	//Should this cell decrease due to flow to a neighbor\r
	if (abs(cellValue) > minMoveAmount && (requiredNeighbors <= 0 || directNeighorCount(currentCoord) >= requiredNeighbors))\r
	{\r
		//Get this cells lowest neighbor\r
		lowestIndex = lowestNeighborIndex(currentCoord);\r
		nCoord = neighborCoord(currentCoord, lowestIndex);\r
		\r
		//If neighbor is in bounds\r
		if (inBoundsV2I(nCoord))\r
		{\r
			nValue = cellFAmount(vec2<u32>(nCoord));\r
			nCombinedValue = roundedCombinedCellHeight(vec2<u32>(nCoord));\r
			\r
			//If the neigbor has less than the max amount and the combined height of the neighbor cell is lower\r
			if ((nValue != 0 || abs(cellValue) > minSpreadAmount) && nCombinedValue < maxCellValue && nCombinedValue <= combinedCellValue)\r
			{\r
				//Get the highest index of the neighbor\r
				oppositeIndex = (lowestIndex + 4) % 8;\r
				highestIndex = highestNeighborIndex(nCoord);\r
				nHeight = cellHeight(vec2<u32>(nCoord));\r
				\r
				//if the highestIndex equals the opposite, meaning that the two cells are paired\r
				if (highestIndex == oppositeIndex)\r
				{\r
					//Get the remaining space in the cell\r
					let m = maxCellValue - nCombinedValue;\r
					//Get half of the difference in the cells\r
					var n = ((combinedCellValue - nCombinedValue) / movementDivsor * cellMovementMultiplier);\r
					//If the half is bigger than the value clamp\r
					n = min(abs(cellValue), n);\r
					\r
					//decrease cell by up to half of the difference in amounts\r
					let lower = f32(select(0, 1, clampToOne));\r
					let sign  = f32(select(1, -1, isAnti));\r
					change -= clamp(n, lower, m) * sign;\r
					//change--;\r
				}\r
\r
			}\r
\r
		}\r
\r
	}\r
	\r
	return change;\r
}`,mh=`// Fullscreen triangle VS\r
struct VSOut {\r
  @builtin(position) pos : vec4f\r
};\r
\r
@vertex\r
fn vs(@builtin(vertex_index) vid : u32) -> VSOut {\r
  var xy = array<vec2f, 3>(\r
    vec2f(-1.0, -3.0),\r
    vec2f( 3.0,  1.0),\r
    vec2f(-1.0,  1.0)\r
  );\r
  var out : VSOut;\r
  out.pos = vec4f(xy[vid], 0.0, 1.0);\r
  return out;\r
}`,ph=`@fragment\r
fn fs(@builtin(position) frag_pos: vec4f) -> @location(0) vec4f {\r
    // 1 cell per pixel (nearest)\r
    let w = uView.size.x;\r
    let h = uView.size.y;\r
\r
    let x = u32(clamp(floor(frag_pos.x), 0.0, f32(w - 1u)));\r
    let y = u32(clamp(floor(frag_pos.y), 0.0, f32(h - 1u)));\r
    let coord = vec2(x,y);\r
    let black = vec4f(0.0, 0.0, 0.0, 1.0);\r
\r
    if(!inBounds(x,y)) { return black; }\r
\r
    let terrainColor = outputTex[idx(x,y)];\r
    let shadowColor = outputTex[idx(x,y) + uView.size.x * uView.size.y];\r
\r
    let mouseWidth  = 2.0;\r
    let inOuter = inside_circle(vec2<u32>(x,y), uInput.mousePos, uInput.mouseRadius);\r
    let inInner = inside_circle(vec2<u32>(x,y), uInput.mousePos, uInput.mouseRadius - mouseWidth);\r
    \r
    let isCursorSpot = \r
        (x == uInput.mousePos.x && y == uInput.mousePos.y)     ||   // center\r
        (x == uInput.mousePos.x - 1 && y == uInput.mousePos.y) ||   // left\r
        (x == uInput.mousePos.x  + 1&& y == uInput.mousePos.y) ||   // right\r
        (x == uInput.mousePos.x && y == uInput.mousePos.y + 1) ||   // up\r
        (x == uInput.mousePos.x && y == uInput.mousePos.y - 1);     // down\r
    \r
    var cursorOutline = vec4f(0.0, 0.0, 0.0, 0.0);\r
    if ((inOuter && !inInner) || isCursorSpot) \r
    {\r
        cursorOutline = vec4f(0.0, 0.0, 0.0, 0.5);\r
    }\r
\r
    var combinedColor = over_rgba(terrainColor, shadowColor);\r
    combinedColor = over_rgba(combinedColor, cursorOutline);\r
\r
    return combinedColor;\r
}`,gh=`@compute @workgroup_size(16, 16, 1)\r
fn calc_normals(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    let x = gid.x;\r
    let y = gid.y;\r
    let coord = vec2(x,y);\r
    if (x >= uView.size.x || y >= uView.size.y) { return; }\r
\r
    let i = idx(x, y);\r
    var out = currentCells[i];\r
\r
    let sNorm = surfaceNormalSobel(coord);\r
    out.heightNormal = sNorm;\r
\r
    currentCells[i] = out;\r
}\r
`,yh=`@compute @workgroup_size(16, 16, 1)\r
fn terrain_render(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    let x = gid.x;\r
    let y = gid.y;\r
    let coord = vec2(x,y);\r
    if (x >= uView.size.x || y >= uView.size.y) { return; }\r
\r
    outputTex[idx(x,y)] = getTerrainColor(coord);\r
\r
    // updated\r
    // let w = uView.size.x;\r
    // let h = uView.size.y;\r
    // let pos = vec2<u32>(x, y);\r
\r
    // // Get height from height map\r
    // let hgt: f32 = cellHeight(pos);\r
\r
    // // Starting point for ray cast\r
    // var px = f32(clamp(f32(x), 0.0, f32(w - 1u)));\r
    // var py = f32(clamp(f32(y), 0.0, f32(h - 1u)));\r
    // var p: vec3f = vec3<f32>(px, py, cellHeight(pos));\r
\r
    // // Minimum step size based on pixel size\r
    // let minStepSize: f32 = 0.5;\r
\r
    // // Direction of raycast is towards the sun from centre of screen\r
    // let sunPos  = vec3<f32>(f32(uInput.mousePos.x), f32(uInput.mousePos.y), 300);\r
    // // let terrainPos   = vec3<f32>(f32(x), hgt, f32(y));\r
    // // let lightDir     = normalize(sunPos - terrainPos);\r
    // let sunDir: vec3f = sunPos - vec3f(f32(w / 2), f32(h / 2), 300);\r
    // let stepDir: vec3f = normalize(sunDir);\r
\r
    // // Ray-march to check shadow\r
    // var inShadow: f32 = 0.0;\r
    // var n: i32 = 0;\r
\r
    // let MAX_STEPS = 64;\r
\r
    // for (var i: i32 = 1; i <= MAX_STEPS; i = i + 1) {\r
    // n = n + 1;\r
\r
    // let px = u32(clamp(floor(p.x), 0.0, f32(w - 1u)));\r
    // let py = u32(clamp(floor(p.y), 0.0, f32(h - 1u)));\r
\r
    // // Sample height at current ray location\r
    // let h: f32 = cellHeight(vec2<u32>(px, py));\r
\r
    // if (h > p.z) {\r
    //     // Ray is inside terrain => in shadow\r
    //     inShadow = 1.0;\r
    //     break;\r
    // }\r
    // if (p.z > 1.0) {\r
    //     // Above highest terrain level => not in shadow\r
    //     break;\r
    // }\r
\r
    // // Step towards the sun; ensure a minimum step\r
    // let dz: f32 = p.z - h;\r
    // let stepLen: f32 = max(minStepSize, dz * 0.05);\r
    // p = p + stepDir * stepLen;\r
    // }\r
\r
    // if (n == MAX_STEPS) \r
    // {\r
    //     inShadow = 1.0;\r
    // }\r
\r
    // // Normal-based shading term (faces away from sun get darker)\r
    // let normal: vec3f = surfaceNormalSobel(pos);\r
    // let normalShadow: f32 = (dot(normal, -stepDir) + 1.0) * 0.5;\r
\r
    // // Base terrain color\r
    // var col: vec4f = getTerrainColor(coord);//getTerrainColour(hgt, normal);\r
\r
    // // // Water logic\r
    // // // let waterDepth: f32 = uParams.waterLevel - hgt;\r
\r
    // // // // isWater = step(0., waterDepth)\r
    // // // let isWater: f32 = select(0.0, 1.0, waterDepth >= 0.0);\r
\r
    // // // // Shallow-water waves factor\r
    // // // var isWave: f32 = isWater * (1.0 - smoothstep(0.0, 0.05, waterDepth));\r
    // // // isWave = isWave * ( (sin(cos(uParams.millis / 500.0) * 2.0 + waterDepth * 500.0) + 1.0) * 0.5 );\r
\r
    // // // let waterLerp: f32 = easeOut(waterDepth / uParams.waterLevel);\r
\r
    // // // // Simulate see-through water by depth-based lerp\r
    // // // col = mix(col, uParams.colourWater, waterLerp);\r
\r
    // // // // Add waves\r
    // // // col = col + vec4f(isWave / 8.0);\r
\r
    // // Combine ray shadow and normal-based shadow\r
    // inShadow = clamp(inShadow + normalShadow, 0.0, 1.0);\r
\r
    // let shadowBrightness = 0.2;\r
\r
    // // Slight blue shift in shadow based on inShadow\r
    // let shadowCol: vec4f = col * shadowBrightness * vec4f(1.0, 1.0, 1.0 + inShadow * 0.2, 1.0);\r
\r
    // // Final color\r
    // // let outCol: vec4f = mix(col, shadowCol, inShadow);\r
    // let outCol: vec4f = mix(col, shadowCol, inShadow);\r
    // // return outCol;\r
\r
    // outputTex[idx(x,y)] = outCol;// vec4(1.0, 0.0, 0.0, 1.0);\r
}\r
`,vh=`@compute @workgroup_size(16, 16, 1)\r
fn shadow_render(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    let x = gid.x;\r
    let y = gid.y;\r
    let coord = vec2(x,y);\r
    if (x >= uView.size.x || y >= uView.size.y) { return; }\r
\r
    if(!isVisible(coord, 16)) \r
    { \r
        //outputTex[idx(x,y) + uView.size.x * uView.size.y] = vec4(1.0, 0.0, 0.0, 0.5);\r
        return; \r
    }\r
\r
    let clear = vec4f(0.0, 0.0, 0.0, 0.0);\r
    let black = vec4f(0.0, 0.0, 0.0, 1.0);\r
    let white = vec4f(1.0, 1.0, 1.0, 1.0);\r
\r
    let cell = currentCells[idx(x,y)];\r
    let currentHeight = roundedCellHeight(coord);\r
\r
    let sunHeight       = uTerrain.maxCellValue * 2.5;\r
    let center          = vec3<f32>(f32(uView.size.x / 2), sunHeight, f32(uView.size.y / 2));\r
    // let sunPosition     = vec3<f32>(f32(uInput.mousePos.x), sunHeight, f32(uInput.mousePos.y));\r
    let sunPosition     = vec3<f32>(f32(uView.size.x), sunHeight, center.y);\r
    let terrainInShadow = inShadow(coord, sunPosition);\r
    let shadowColor     = vec4<f32>(0.0, 0.0, 0.0, 1.0);          // or your tint\r
    let highlightColor  = vec4f(1.0, 1.0, 1.0, 0.05);\r
    let shadeColor      = vec4f(0.0, 0.0, 0.0, 0.25);\r
    let lightDir        = normalize(sunPosition - center);//normalize(sunPosition - terrainPos);\r
\r
    var shade = 1.0;\r
    if(uTerrain.colorSteps >= 100 && distance(vec3(0.0, 1.0, 0.0), cell.heightNormal) > 1e-3)\r
    {\r
        shade = clamp(max(dot(cell.heightNormal, lightDir), 0.0) + 0.95, 0.0, 1.0);   // tweak as desired\r
    }\r
\r
    // Shadow strength s: 0 if not in shadow, else e.g. 0.5 (you can multiply by shadowColor.a if you want)\r
    var shadowStrength : f32 = 0.5;\r
    // Build one layer that encodes both effects, then OVER it\r
    var castedShadowColor = makeCombinedShadowLayer(shadowColor.rgb, select(0.0, shadowStrength, terrainInShadow), shade);\r
    // Apply outline to terrain based on sun position\r
    var normalOutline = getTerrainOutlineColor(coord, lightDir, shadeColor, highlightColor, castedShadowColor.a < 1e-4);\r
\r
\r
    // Compute the final shadow color\r
    var finalColor = clear;\r
    if(uTerrain.colorSteps < 100)\r
    {\r
        finalColor = over_rgba(finalColor, normalOutline);\r
    }\r
\r
    let waterLevel = 50.0;\r
    let waterAMax = 0.75;\r
    let waterAMin = 0.3;\r
    let waterRgb = vec3(0.059, 0.145, 0.478);//0.384, 0.651, 0.663\r
    let waterHeight = cellFAmount(coord);//waterLevel - currentHeight;\r
    let waterA = clamp(waterHeight / 50.0 * waterAMax, waterAMin, waterAMax);\r
\r
    let antiWaterRgb = vec3(1.0, 1.0, 1.0);//0.384, 0.651, 0.663\r
    let antiWaterA = clamp(waterHeight / -50.0 * waterAMax, waterAMin, waterAMax);\r
\r
    var waterColor = select(vec4(waterRgb, waterA), vec4(antiWaterRgb, antiWaterA), waterHeight < 0);\r
    if(abs(waterHeight) > 0.0)\r
    {\r
        var waterOutline = getFluidOutlineColor(coord, lightDir, shadeColor, highlightColor, castedShadowColor.a < 1e-4);\r
        waterColor = over_rgba(waterColor, waterOutline);\r
        finalColor = over_rgba(finalColor, waterColor);\r
        //castedShadowColor = vec4f(castedShadowColor.rgb, castedShadowColor.a * 0.1);\r
    }\r
    finalColor = over_rgba(finalColor, castedShadowColor);\r
\r
    let showChunkDebug = false;\r
    let chunkSize = 16u;\r
    var chunkDebugColor = vec4f(0.0, 0.0, 0.0, 0.0);\r
    if(showChunkDebug)\r
    {\r
        let chunkPos = getChunkPos(coord, chunkSize);\r
        let numChunks = getNumChunks(uView.size.x, uView.size.y, chunkSize);\r
        let chunkIdx = chunkPos.x + chunkPos.y * numChunks.x;\r
\r
        if(chunkIdx < numChunks.x * numChunks.y)\r
        {\r
            let chunk = chunkData[chunkIdx];\r
\r
            var isBoundary = (x % chunkSize == 1 || x % chunkSize == chunkSize - 1u) || (y % chunkSize == 1 || y % chunkSize == chunkSize - 1u);\r
            //isBoundary = chunkPos.y == 0u;//numChunks.y - 1u;\r
            \r
            if(isBoundary)\r
            {\r
                if(chunk.fluidTotal > 0.0 && chunk.anitFluidTotal > 0.0)\r
                {\r
                    chunkDebugColor = vec4f(1.0, 1.0, 0.0, 0.5);\r
                }\r
                else if(chunk.fluidTotal > 0.0)\r
                {\r
                    chunkDebugColor = vec4f(1.0, 0.0, 0.0, 0.5);\r
                }\r
                else if(chunk.anitFluidTotal > 0.0)\r
                {\r
                    chunkDebugColor = vec4f(0.0, 1.0, 0.0, 0.5);\r
                }\r
            }\r
        }\r
        \r
        if(x % chunkSize == 0 || y % chunkSize == 0)\r
        {\r
            chunkDebugColor = vec4f(0.0, 0.0, 0.0, 0.5);\r
        }\r
        \r
    }\r
\r
    finalColor = over_rgba(finalColor, chunkDebugColor);\r
\r
\r
    let idOffset = uView.size.x * uView.size.y;\r
    outputTex[idx(x,y) + idOffset] = finalColor;\r
}\r
`,xh=`@compute @workgroup_size(16, 16, 1)\r
fn step(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    let x = gid.x;\r
    let y = gid.y;\r
    let coord = vec2<u32>(x, y);\r
    if (x >= uView.size.x || y >= uView.size.y) { return; }\r
\r
    let i = idx(x, y);\r
    var prev = currentCells[i];\r
    var out  = prev; // start from previous state\r
\r
    // Mouse "paint" demo (writes to next)\r
    let mouse0Held = uInput.mouse0Held > 0.5;\r
    let mouse1Held = uInput.mouse1Held > 0.5;\r
\r
    let dSqrd = distanceSqrd(vec2<u32>(x,y), uInput.mousePos);\r
    let radiusSqrd = uInput.mouseRadius * uInput.mouseRadius;\r
    var radiusT = clamp((radiusSqrd - dSqrd) / radiusSqrd, 0.0, 1.0);\r
    radiusT = radiusT * radiusT;\r
    let inside = dSqrd <= radiusSqrd;\r
\r
    var futureCellValue = getFurtureCellFAmount(coord);\r
    out.fAmount = futureCellValue;\r
\r
    // height editing\r
    // if(mouse0Held || mouse1Held)\r
    // {\r
    //     let inside = inside_circle(vec2<u32>(x,y), uInput.mousePos, uInput.mouseRadius);\r
    //     if (mouse0Held && inside) {\r
    //         out.height = out.height + 1.0;\r
    //     }\r
    //     else if (mouse1Held && inside) {\r
    //         out.height = out.height - 1.0;\r
    //     }\r
    // }\r
    // Clamp\r
    out.height = clamp(out.height, 0.0, uTerrain.maxCellValue);\r
\r
    // Fluid editing\r
    let fStrength = 3.0;\r
    if(mouse0Held || mouse1Held)\r
    {\r
        //let inside = inside_circle(vec2<u32>(x,y), uInput.mousePos, uInput.mouseRadius);\r
        if (mouse0Held && inside) {\r
            out.fAmount = out.fAmount + fStrength * radiusT;\r
        }\r
        else if (mouse1Held && inside) {\r
            out.fAmount = out.fAmount - fStrength * radiusT;\r
        }\r
    }\r
\r
    let simPerSec = 60.0;\r
    let ePerSec = 3.0;\r
\r
    var eD = distanceSqrd(vec2<u32>(x, y), vec2<u32>(270, 350));\r
    if(eD < 5)\r
    {\r
      out.fAmount += ePerSec;\r
    }\r
\r
    eD = distanceSqrd(vec2<u32>(x, y), vec2<u32>(720, 120));\r
    if(eD < 5)\r
    {\r
      out.fAmount -= ePerSec;\r
    }\r
\r
\r
    // Apply evaporation\r
    let ns = directNeighorCount(vec2<i32>(coord));\r
    let aAmount = abs(out.fAmount);\r
    if((ns <= 3 && aAmount < 10.0) || (aAmount <= 2.0 && ns < 8))\r
    {\r
      let evapAmount = 0.01;\r
      out.fAmount -= clamp(out.fAmount * evapAmount, -evapAmount, evapAmount);\r
      if (abs(out.fAmount) < 0.1) { out.fAmount = 0.0;}\r
    }\r
\r
    // Clamp\r
    let cellmax : f32 = uTerrain.maxCellValue * 2 - out.height;\r
    out.fAmount = clamp(out.fAmount, -cellmax, cellmax);\r
\r
    nextCells[i] = out;\r
}\r
\r
// Core tile (WG  WG), plus halo for multi-step evolution\r
const WG        : u32 = 16u;\r
const HALO      : u32 = 8u;                           // supports up to 4 sub-steps\r
const EXTW      : u32 = WG + 2u*HALO;             // shared width\r
const EXTH      : u32 = WG + 2u*HALO;             // shared height\r
const EXTN      : u32 = EXTW * EXTH;\r
const STRIDE    : u32 = EXTW;\r
\r
var<workgroup> prevH : array<f32, EXTN>;  // read-only across substeps\r
var<workgroup> prevF : array<f32, EXTN>;  // read in, updated each substep\r
var<workgroup> nextF : array<f32, EXTN>;  // scratch per substep\r
\r
fn sidx(x:u32, y:u32) -> u32 { return y * EXTW + x; }\r
\r
// Row-major index into a 1D buffer using an explicit width.\r
fn gidx(x: u32, y: u32, width: u32) -> u32 {\r
  return y * width + x;\r
}\r
\r
// ---- Shared/tile bounds helpers ----\r
fn sInBounds(sx:u32, sy:u32) -> bool {\r
  return (sx < EXTW) && (sy < EXTH);\r
}\r
fn sInBoundsI(c: vec2<i32>) -> bool {\r
  return c.x >= 0 && c.y >= 0 && u32(c.x) < EXTW && u32(c.y) < EXTH;\r
}\r
\r
fn sNeighborCoord(scoord: vec2<i32>, index: u32) -> vec2<i32> {\r
  let k = ((index % 8u) + 8u) % 8u;\r
  return scoord + OFFSETS[k];\r
}\r
\r
fn sH(sx:u32, sy:u32) -> f32 { return prevH[sidx(sx,sy)]; }\r
fn sF(sx:u32, sy:u32) -> f32 { return prevF[sidx(sx,sy)]; }\r
\r
// ---- prevTile readers (shared coords) ----\r
fn sCellHeight(sx:u32, sy:u32) -> f32 {\r
  return sH(sx, sy);\r
}\r
fn sCellFAmount(sx:u32, sy:u32) -> f32 {\r
  return sF(sx, sy);\r
}\r
\r
// ---- rounding / coloring based on uniforms ----\r
\r
fn sRoundedCellHeight(sx:u32, sy:u32) -> f32 {\r
  return roundToColorSteps(sCellHeight(sx, sy));\r
}\r
fn sRoundedCellFAmount(sx:u32, sy:u32) -> f32 {\r
  return roundToColorSteps(sCellFAmount(sx, sy));\r
}\r
fn sRoundedCombinedHeight(sx:u32, sy:u32) -> f32 {\r
  return roundToColorSteps(sCellHeight(sx, sy)) + sCellFAmount(sx, sy);\r
}\r
\r
// ---- neighbor index search (shared coords) ----\r
// Pass (gx,gy) so we can still index your randomDirectionsBuffer[idx(gx,gy)]\r
fn sHighestNeighborIndex(scoord: vec2<i32>, gx:u32, gy:u32) -> u32 {\r
  var bestIdx : u32 = 0u;\r
  var bestVal : f32 = -1.0;\r
  let cycleIndex  : u32 = (uView.simIndex * 3u) % 8u;\r
  let baseOffset  : u32 = u32(randomDirectionsBuffer[idx(gx, gy)]) % 8u;\r
  let start       : u32 = (cycleIndex + baseOffset) % 8u;\r
\r
  for (var i: u32 = 0u; i < 8u; i++) {\r
    let j = (i + start) % 8u;\r
    let nC = sNeighborCoord(scoord, j);\r
    if (!sInBoundsI(nC)) { continue; }\r
    let v = sRoundedCombinedHeight(u32(nC.x), u32(nC.y));\r
    if (i == 0u || v > bestVal) {\r
      bestVal = v;\r
      bestIdx = j;\r
    }\r
  }\r
  return bestIdx;\r
}\r
\r
fn sLowestNeighborIndex(scoord: vec2<i32>, gx:u32, gy:u32) -> u32 {\r
  var bestIdx : u32 = 0u;\r
  var bestVal : f32 =  1e30; // large\r
  let cycleIndex  : u32 = (uView.simIndex * 3u) % 8u;\r
  let baseOffset  : u32 = u32(randomDirectionsBuffer[idx(gx, gy)]) % 8u;\r
  let start       : u32 = (cycleIndex + baseOffset) % 8u;\r
\r
  for (var i: u32 = 0u; i < 8u; i++) {\r
    let j = (i + start) % 8u;\r
    let nC = sNeighborCoord(scoord, j);\r
    if (!sInBoundsI(nC)) { continue; }\r
    let v = sRoundedCombinedHeight(u32(nC.x), u32(nC.y));\r
    if (i == 0u || v < bestVal) {\r
      bestVal = v;\r
      bestIdx = j;\r
    }\r
  }\r
  return bestIdx;\r
}\r
\r
// Direct neighbor count with sign filtering, from prevTile\r
fn sDirectNeighborCount(scoord: vec2<i32>) -> u32 {\r
  var count : u32 = 0u;\r
  let selfVal = sCellFAmount(u32(scoord.x), u32(scoord.y));\r
  let isAnti  = selfVal < 0.0;\r
\r
  for (var i: u32 = 0u; i < 8u; i++) {\r
    let nC = sNeighborCoord(scoord, i);\r
    if (!sInBoundsI(nC)) { continue; }\r
    let nVal = sCellFAmount(u32(nC.x), u32(nC.y));\r
    if (nVal == 0.0) { continue; }\r
    if ((selfVal != 0.0) && (isAnti != (nVal < 0.0))) { continue; }\r
    count++;\r
  }\r
  return count;\r
}\r
\r
// ---- flow change computed entirely from prevTile (shared coords) ----\r
fn sGetFlowChange(sx:u32, sy:u32, gx:u32, gy:u32) -> f32 {\r
  let scoord = vec2<i32>(i32(sx), i32(sy));\r
  let cellVal  = sCellFAmount(sx, sy);\r
  let cellH    = sRoundedCellHeight(sx, sy);\r
  let combined = cellVal + cellH;\r
\r
  var change : f32 = 0.0;\r
  let maxCellValue : f32 = uTerrain.maxCellValue;\r
\r
  var nC : vec2<i32>;\r
  var nVal : f32;\r
  var nComb : f32;\r
  var nH : f32;\r
  var highestIdx : u32;\r
  var lowestIdx  : u32;\r
  var opposite   : u32;\r
\r
  // tunables (copied from your func)\r
  let movementDivisor        : f32 = 2.0;\r
  let minSpreadAmount        : f32 = 1.0;\r
  let minMoveAmount          : f32 = 0.1;\r
  let cellMovementMultiplier : f32 = 1.0;\r
  let clampToOne             : bool = true;\r
\r
  // Increase due to higher neighbor flowing in\r
  if (combined < maxCellValue) {\r
    highestIdx = sHighestNeighborIndex(scoord, gx, gy);\r
    nC = sNeighborCoord(scoord, highestIdx);\r
\r
    if (sInBoundsI(nC)) {\r
      nVal  = sCellFAmount(u32(nC.x), u32(nC.y));\r
      nComb = sRoundedCombinedHeight(u32(nC.x), u32(nC.y));\r
      let nIsAnti = nVal < 0.0;\r
\r
      if (((cellVal != 0.0) || (abs(nVal) > minSpreadAmount))\r
           && (abs(nVal) > minMoveAmount)\r
           && (nComb >= combined))\r
      {\r
        opposite  = (highestIdx + 4u) % 8u;\r
        lowestIdx = sLowestNeighborIndex(nC, u32(i32(gx) + OFFSETS[highestIdx].x), \r
                                             u32(i32(gy) + OFFSETS[highestIdx].y));\r
\r
        if (lowestIdx == opposite) {\r
          let m = maxCellValue - combined;\r
          var n = floor((nComb - combined) / movementDivisor * cellMovementMultiplier);\r
          n = min(abs(nVal), n);\r
          let lower = f32(select(0, 1, clampToOne));\r
          let sign  = f32(select(1, -1, nIsAnti));\r
          change += clamp(n, lower, m) * sign;\r
        }\r
      }\r
    }\r
  }\r
\r
  // Decrease due to flowing out to lower neighbor\r
  if (abs(cellVal) > minMoveAmount) {\r
    lowestIdx = sLowestNeighborIndex(scoord, gx, gy);\r
    nC = sNeighborCoord(scoord, lowestIdx);\r
\r
    if (sInBoundsI(nC)) {\r
      nVal  = sCellFAmount(u32(nC.x), u32(nC.y));\r
      nComb = sRoundedCombinedHeight(u32(nC.x), u32(nC.y));\r
      if ((nVal != 0.0 || abs(cellVal) > minSpreadAmount)\r
           && nComb < maxCellValue && nComb <= combined)\r
      {\r
        opposite   = (lowestIdx + 4u) % 8u;\r
        highestIdx = sHighestNeighborIndex(nC, u32(i32(gx) + OFFSETS[lowestIdx].x),\r
                                               u32(i32(gy) + OFFSETS[lowestIdx].y));\r
        nH = sCellHeight(u32(nC.x), u32(nC.y));\r
\r
        if (highestIdx == opposite) {\r
          let m = maxCellValue - nComb;\r
          var n = floor((combined - nComb) / movementDivisor * cellMovementMultiplier);\r
          n = min(abs(cellVal), n);\r
          let lower = f32(select(0, 1, clampToOne));\r
          let sign  = f32(select(1, -1, (nVal < 0.0)));\r
          change -= clamp(n, lower, m) * sign;\r
        }\r
      }\r
    }\r
  }\r
\r
  return change;\r
}\r
\r
fn sGetFutureF(sx:u32, sy:u32, gx:u32, gy:u32) -> f32 {\r
    let f = sF(sx, sy);\r
    let h = sH(sx, sy);\r
    var out = f;\r
    out += sGetFlowChange(sx, sy, gx, gy);\r
\r
    let mouse0Held = uInput.mouse0Held > 0.5;\r
    let mouse1Held = uInput.mouse1Held > 0.5;\r
\r
    let dSqrd = distanceSqrd(vec2<u32>(gx,gy), uInput.mousePos);\r
    let radiusSqrd = uInput.mouseRadius * uInput.mouseRadius;\r
    var radiusT = clamp((radiusSqrd - dSqrd) / radiusSqrd, 0.0, 1.0);\r
    radiusT = radiusT * radiusT;\r
    let inside = dSqrd <= radiusSqrd;\r
\r
\r
\r
    // Fluid editing\r
    let fStrength = 3.0;\r
    if(mouse0Held || mouse1Held)\r
    {\r
        //let inside = inside_circle(vec2<u32>(x,y), uInput.mousePos, uInput.mouseRadius);\r
        if (mouse0Held && inside) {\r
            out = out + fStrength * radiusT;\r
        }\r
        else if (mouse1Held && inside) {\r
            out = out - fStrength * radiusT;\r
        }\r
    }\r
\r
    // Apply evaporation\r
    if(out < 2.0 && sDirectNeighborCount(vec2<i32>(vec2(gx, gy))) < 8)\r
    {\r
        out -= clamp(out * 0.001, 0.0, 0.001);\r
        if(out < 0.1 && out > 0.0) { out = 0.0;}\r
    }\r
\r
\r
    let maxV = uTerrain.maxCellValue * 2.0;\r
    return clamp(out, -maxV + h, maxV - h);\r
}\r
\r
\r
// --- Helper: cooperative load of prevTile (no wrap; clamp-to-edge halo) ---\r
fn loadPrevTileNoWrap(lid: vec3<u32>, wid: vec3<u32>, W:u32, H:u32) {\r
  let gx0 = wid.x * WG;\r
  let gy0 = wid.y * WG;\r
\r
  var sy = lid.y;\r
  loop {\r
    if (sy >= EXTH) { break; }\r
    var sx = lid.x;\r
    loop {\r
      if (sx >= EXTW) { break; }\r
\r
      let gx_i = i32(gx0) + i32(sx) - i32(HALO);\r
      let gy_i = i32(gy0) + i32(sy) - i32(HALO);\r
      let cx   = u32(clamp(gx_i, 0, i32(W) - 1));\r
      let cy   = u32(clamp(gy_i, 0, i32(H) - 1));\r
\r
      let gi = gidx(cx, cy, W);\r
      let si = sidx(sx, sy);\r
      let c  = currentCells[gi];\r
\r
      prevH[si] = c.height;\r
      prevF[si] = c.fAmount;\r
\r
      sx += WG;\r
    }\r
    sy += WG;\r
  }\r
  workgroupBarrier();\r
}\r
\r
// Evolve up to \`steps\` sub-steps entirely in shared memory.\r
// Fixed indexing: sx=HALO+lid.x, sy=HALO+lid.y (no sliding).\r
fn evolveNSteps(steps:u32, lid:vec3<u32>, wid:vec3<u32>) {\r
  let N  : u32 = min(steps, HALO);\r
\r
  // Global origin (if your helpers need gx,gy for random indexing etc.)\r
  let gx0 = wid.x * WG;\r
  let gy0 = wid.y * WG;\r
\r
  // Fixed shared coords for this thread\r
  let sx_fixed : u32 = HALO + lid.x;\r
  let sy_fixed : u32 = HALO + lid.y;\r
\r
  var s:u32 = 0u;\r
  loop {\r
    if (s >= N) { break; }\r
\r
    let gx = gx0 + lid.x;\r
    let gy = gy0 + lid.y;\r
\r
    let i = sidx(sx_fixed, sy_fixed);\r
    nextF[i] = sGetFutureF(sx_fixed, sy_fixed, gx, gy);\r
\r
    workgroupBarrier(); // make nextF visible\r
\r
    // Copy results back in-place (no sliding): only where we computed\r
    prevF[i] = nextF[i];\r
\r
    workgroupBarrier(); // prevF now holds the state for next sub-step\r
    s += 1u;\r
  }\r
}\r
\r
\r
\r
// Writes only the final interior of size (WG - 2*N)  (WG - 2*N)\r
fn writeBackToNext(steps:u32, lid:vec3<u32>, wid:vec3<u32>, W:u32, H:u32) {\r
  let N : u32 = min(steps, HALO);\r
\r
  let gx0 = wid.x * WG;\r
  let gy0 = wid.y * WG;\r
\r
  let sx  = HALO + lid.x;   // fixed, no sliding\r
  let sy  = HALO + lid.y;\r
\r
  let outX = gx0 + lid.x;\r
  let outY = gy0 + lid.y;\r
\r
  // Final interior: N cells away from each edge; no 1 neighbor margin needed for write-back\r
  if (outX < W && outY < H ) {\r
\r
    let si = sidx(sx, sy);\r
    let gi = gidx(outX, outY, W);\r
\r
    var out = currentCells[gi];                 // preserve other fields\r
    out.height  = clamp(prevH[si], 0.0, uTerrain.maxCellValue);\r
    out.fAmount = prevF[si];\r
    nextCells[gi] = out;\r
  }\r
}\r
\r
\r
@compute @workgroup_size(WG, WG, 1)\r
fn stepN(\r
  @builtin(local_invocation_id) lid : vec3<u32>,\r
  @builtin(workgroup_id)        wid : vec3<u32>\r
) {\r
    let W = uView.size.x;   // or your params.width\r
    let H = uView.size.y;   // or your params.height\r
\r
    let gx = wid.x * WG;\r
    let gy = wid.y * WG;\r
\r
    if(gx >= W || gy >= H || gx < 0 || gy < 0) { return; }\r
\r
    let steps : u32 = 4u;\r
\r
    loadPrevTileNoWrap(lid, wid, W, H);  // fills prevTile (+halo), then barriers\r
\r
    evolveNSteps(steps, lid, wid);               // your multi-step shared-memory loop\r
\r
    writeBackToNext(steps, lid, wid, W, H); // store central WGWG to nextCells\r
}`,bh=`@compute @workgroup_size(1, 1, 1)\r
fn cursor_query(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    if(gid.x > 0) { return; }\r
\r
    let i = idx(uInput.mousePos.x, uInput.mousePos.y);\r
    var cell = currentCells[i];\r
    // cell.height = roundedCellHeight(vec2(x,y));\r
    // cell.fAmount = roundedCellFAmount(vec2(x,y));\r
    cursorQuery.cell = cell;\r
}\r
`,Sh=`@compute @workgroup_size(1, 1, 1)\r
fn total_query(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    if(gid.x > 0 || gid.y > 0 || gid.z > 0) { return; }\r
\r
    let chunkSize = 16u;\r
    let numChunks = getNumChunks(uView.size.x, uView.size.y, chunkSize);\r
    let chunkCount : u32 =  numChunks.x * numChunks.y;\r
\r
    var fluidTotal : f32 = 0.0;\r
    var anitFluidTotal : f32 = 0.0;\r
    for(var i : u32 = 0; i < chunkCount; i++)\r
    {\r
        fluidTotal += chunkData[i].fluidTotal;\r
        anitFluidTotal += chunkData[i].anitFluidTotal;\r
    }\r
\r
    cursorQuery.fluidTotal = fluidTotal;\r
    cursorQuery.anitFluidTotal = anitFluidTotal;\r
}\r
`,Ch=`//{Structs}\r
\r
//{Helpers}\r
\r
//{Flow Helpers}\r
\r
//{Chunk Helpers}\r
\r
@group(0) @binding(0) var<uniform> uView : View;\r
@group(0) @binding(1) var<uniform> uInput : Input;\r
@group(0) @binding(2) var<uniform> uTerrain : TerrainParams;\r
@group(0) @binding(3) var<storage, read_write> currentCells : array<CellData>;\r
@group(0) @binding(4) var<storage, read>       terrainColors : array<vec4f>;\r
@group(0) @binding(5) var<storage, read_write> outputTex : array<vec4f>;\r
@group(0) @binding(6) var<storage, read_write> nextCells : array<CellData>;\r
@group(0) @binding(7) var<storage, read>       randomDirectionsBuffer : array<u32>;\r
@group(0) @binding(8) var<storage, read_write> cursorQuery : CursorQuery;\r
@group(0) @binding(9) var<storage, read_write> chunkData : array<ChunkData>;\r
\r
// =====================================================\r
// ===================== RENDER ========================\r
// =====================================================\r
\r
//{Vertex}\r
\r
//{Fragment}\r
\r
// =====================================================\r
// ===================== COMPUTE =======================\r
// =====================================================\r
\r
//{normal_compute}\r
\r
//{terrain_render_compute}\r
\r
//{shadow_render_compute}\r
\r
//{step_compute}\r
\r
//{cursor_query}\r
\r
//{total_query}\r
\r
//{chunk_data_calc}`,_h=`fn getNumChunks(width: u32, height: u32, chunkSize: u32) -> vec2<u32> {\r
    // ceil(width / chunkSize) = (width + chunkSize - 1) / chunkSize\r
    let chunksX = (width  + chunkSize - 1u) / chunkSize;\r
    let chunksY = (height + chunkSize - 1u) / chunkSize;\r
    return vec2<u32>(chunksX, chunksY);\r
}\r
\r
fn getChunkPos(cellPos: vec2<u32>, chunkSize: u32) -> vec2<u32> {\r
    return cellPos / vec2<u32>(chunkSize, chunkSize);\r
}`,Th=`@compute @workgroup_size(1, 1, 1)\r
fn chunk_data_calc(@builtin(global_invocation_id) gid : vec3<u32>) {\r
    let chunkX = gid.x;\r
    let chunkY = gid.y;\r
\r
    let chunkSize : u32 = 16u;\r
    let numChunks = getNumChunks(uView.size.x, uView.size.y, chunkSize);\r
\r
    if (chunkX >= numChunks.x || chunkY >= numChunks.y) { return; }\r
\r
    let startX = chunkX * chunkSize;\r
    let startY = chunkY * chunkSize;\r
    let endX   = min(startX + chunkSize, uView.size.x);\r
    let endY   = min(startY + chunkSize, uView.size.y);\r
\r
    var fluidTotal      : f32 = 0.0;\r
    var anitFluidTotal  : f32 = 0.0;\r
\r
    var y = startY;\r
    loop {\r
        if (y >= endY) { break; }\r
        var x = startX;\r
        loop {\r
            if (x >= endX) { break; }\r
            let c = currentCells[idx(x, y)];\r
            let v = c.fAmount;\r
            if (v > 0.0) {\r
                fluidTotal += v;\r
            } else {\r
                anitFluidTotal -= v; // add magnitude of negative\r
            }\r
            x = x + 1u;\r
        }\r
        y = y + 1u;\r
    }\r
\r
    let chunkIdx = chunkX + chunkY * numChunks.x;\r
    chunkData[chunkIdx].fluidTotal      = fluidTotal;\r
    chunkData[chunkIdx].anitFluidTotal  = anitFluidTotal;\r
}\r
`;function Rh(){let i=Ch;return i=i.replace("//{Structs}",fh),i=i.replace("//{Helpers}",dh),i=i.replace("//{Flow Helpers}",hh),i=i.replace("//{Vertex}",mh),i=i.replace("//{Fragment}",ph),i=i.replace("//{normal_compute}",gh),i=i.replace("//{terrain_render_compute}",yh),i=i.replace("//{shadow_render_compute}",vh),i=i.replace("//{step_compute}",xh),i=i.replace("//{cursor_query}",bh),i=i.replace("//{total_query}",Sh),i=i.replace("//{chunk_data_calc}",Th),i=i.replace("//{Chunk Helpers}",_h),i}var to={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var z2;function Dh(){return z2||(z2=1,(function(i){(function(){var r={}.hasOwnProperty;function s(){for(var o="",h=0;h<arguments.length;h++){var p=arguments[h];p&&(o=f(o,c(p)))}return o}function c(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return s.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var h="";for(var p in o)r.call(o,p)&&o[p]&&(h=f(h,p));return h}function f(o,h){return h?o?o+" "+h:o+h:o}i.exports?(s.default=s,i.exports=s):window.classNames=s})()})(to)),to.exports}var Eh=Dh();const Te=sr(Eh);function Mh(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)!==-1)continue;s[c]=i[c]}return s}function so(i,r){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,c){return s.__proto__=c,s},so(i,r)}function wh(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i,so(i,r)}const Oh=["xxl","xl","lg","md","sm","xs"],Ah="xs",fr=M.createContext({prefixes:{},breakpoints:Oh,minBreakpoint:Ah}),{Consumer:Xp,Provider:Yp}=fr;function He(i,r){const{prefixes:s}=M.useContext(fr);return i||s[r]||r}function F2(){const{breakpoints:i}=M.useContext(fr);return i}function I2(){const{minBreakpoint:i}=M.useContext(fr);return i}function Vh(){const{dir:i}=M.useContext(fr);return i==="rtl"}function Au(i){return i&&i.ownerDocument||document}function zh(i){var r=Au(i);return r&&r.defaultView||window}function Hh(i,r){return zh(i).getComputedStyle(i,r)}var Gh=/([A-Z])/g;function Bh(i){return i.replace(Gh,"-$1").toLowerCase()}var Uh=/^ms-/;function Du(i){return Bh(i).replace(Uh,"-ms-")}var jh=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Nh(i){return!!(i&&jh.test(i))}function ml(i,r){var s="",c="";if(typeof r=="string")return i.style.getPropertyValue(Du(r))||Hh(i).getPropertyValue(Du(r));Object.keys(r).forEach(function(f){var o=r[f];!o&&o!==0?i.style.removeProperty(Du(f)):Nh(f)?c+=f+"("+o+") ":s+=Du(f)+": "+o+";"}),c&&(s+="transform: "+c+";"),i.style.cssText+=";"+s}var no={exports:{}},lo,H2;function Xh(){if(H2)return lo;H2=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lo=i,lo}var ao,G2;function Yh(){if(G2)return ao;G2=1;var i=Xh();function r(){}function s(){}return s.resetWarningCache=r,ao=function(){function c(h,p,y,m,v,C){if(C!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}c.isRequired=c;function f(){return c}var o={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:f,element:c,elementType:c,instanceOf:f,node:c,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:s,resetWarningCache:r};return o.PropTypes=o,o},ao}var B2;function qh(){return B2||(B2=1,no.exports=Yh()()),no.exports}var Zh=qh();const nt=sr(Zh);var Lh=$2();const la=sr(Lh),U2={disabled:!1},ed=ht.createContext(null);var kh=function(r){return r.scrollTop},ir="unmounted",fl="exited",Qn="entering",dl="entered",fo="exiting",Cn=(function(i){wh(r,i);function r(c,f){var o;o=i.call(this,c,f)||this;var h=f,p=h&&!h.isMounting?c.enter:c.appear,y;return o.appearStatus=null,c.in?p?(y=fl,o.appearStatus=Qn):y=dl:c.unmountOnExit||c.mountOnEnter?y=ir:y=fl,o.state={status:y},o.nextCallback=null,o}r.getDerivedStateFromProps=function(f,o){var h=f.in;return h&&o.status===ir?{status:fl}:null};var s=r.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(f){var o=null;if(f!==this.props){var h=this.state.status;this.props.in?h!==Qn&&h!==dl&&(o=Qn):(h===Qn||h===dl)&&(o=fo)}this.updateStatus(!1,o)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var f=this.props.timeout,o,h,p;return o=h=p=f,f!=null&&typeof f!="number"&&(o=f.exit,h=f.enter,p=f.appear!==void 0?f.appear:h),{exit:o,enter:h,appear:p}},s.updateStatus=function(f,o){if(f===void 0&&(f=!1),o!==null)if(this.cancelNextCallback(),o===Qn){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:la.findDOMNode(this);h&&kh(h)}this.performEnter(f)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fl&&this.setState({status:ir})},s.performEnter=function(f){var o=this,h=this.props.enter,p=this.context?this.context.isMounting:f,y=this.props.nodeRef?[p]:[la.findDOMNode(this),p],m=y[0],v=y[1],C=this.getTimeouts(),b=p?C.appear:C.enter;if(!f&&!h||U2.disabled){this.safeSetState({status:dl},function(){o.props.onEntered(m)});return}this.props.onEnter(m,v),this.safeSetState({status:Qn},function(){o.props.onEntering(m,v),o.onTransitionEnd(b,function(){o.safeSetState({status:dl},function(){o.props.onEntered(m,v)})})})},s.performExit=function(){var f=this,o=this.props.exit,h=this.getTimeouts(),p=this.props.nodeRef?void 0:la.findDOMNode(this);if(!o||U2.disabled){this.safeSetState({status:fl},function(){f.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:fo},function(){f.props.onExiting(p),f.onTransitionEnd(h.exit,function(){f.safeSetState({status:fl},function(){f.props.onExited(p)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(f,o){o=this.setNextCallback(o),this.setState(f,o)},s.setNextCallback=function(f){var o=this,h=!0;return this.nextCallback=function(p){h&&(h=!1,o.nextCallback=null,f(p))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},s.onTransitionEnd=function(f,o){this.setNextCallback(o);var h=this.props.nodeRef?this.props.nodeRef.current:la.findDOMNode(this),p=f==null&&!this.props.addEndListener;if(!h||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],m=y[0],v=y[1];this.props.addEndListener(m,v)}f!=null&&setTimeout(this.nextCallback,f)},s.render=function(){var f=this.state.status;if(f===ir)return null;var o=this.props,h=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var p=Mh(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ht.createElement(ed.Provider,{value:null},typeof h=="function"?h(f,p):ht.cloneElement(ht.Children.only(h),p))},r})(ht.Component);Cn.contextType=ed;Cn.propTypes={};function ea(){}Cn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ea,onEntering:ea,onEntered:ea,onExit:ea,onExiting:ea,onExited:ea};Cn.UNMOUNTED=ir;Cn.EXITED=fl;Cn.ENTERING=Qn;Cn.ENTERED=dl;Cn.EXITING=fo;function Qh(i){return i.code==="Escape"||i.keyCode===27}function Wh(){const i=M.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Vu(i){if(!i||typeof i=="function")return null;const{major:r}=Wh();return r>=19?i.props.ref:i.ref}const ra=!!(typeof window<"u"&&window.document&&window.document.createElement);var ho=!1,mo=!1;try{var ro={get passive(){return ho=!0},get once(){return mo=ho=!0}};ra&&(window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,!0))}catch{}function td(i,r,s,c){if(c&&typeof c!="boolean"&&!mo){var f=c.once,o=c.capture,h=s;!mo&&f&&(h=s.__once||function p(y){this.removeEventListener(r,p,o),s.call(this,y)},s.__once=h),i.addEventListener(r,h,ho?c:o)}i.addEventListener(r,s,c)}function po(i,r,s,c){var f=c&&typeof c!="boolean"?c.capture:c;i.removeEventListener(r,s,f),s.__once&&i.removeEventListener(r,s.__once,f)}function Mu(i,r,s,c){return td(i,r,s,c),function(){po(i,r,s,c)}}function Ph(i,r,s,c){if(c===void 0&&(c=!0),i){var f=document.createEvent("HTMLEvents");f.initEvent(r,s,c),i.dispatchEvent(f)}}function Kh(i){var r=ml(i,"transitionDuration")||"",s=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*s}function Jh(i,r,s){s===void 0&&(s=5);var c=!1,f=setTimeout(function(){c||Ph(i,"transitionend",!0)},r+s),o=Mu(i,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(f),o()}}function nd(i,r,s,c){s==null&&(s=Kh(i)||0);var f=Jh(i,s,c),o=Mu(i,"transitionend",r);return function(){f(),o()}}function j2(i,r){const s=ml(i,r)||"",c=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*c}function $h(i,r){const s=j2(i,"transitionDuration"),c=j2(i,"transitionDelay"),f=nd(i,o=>{o.target===i&&(f(),r(o))},s+c)}function Fh(i){i.offsetHeight}const N2=i=>!i||typeof i=="function"?i:r=>{i.current=r};function Ih(i,r){const s=N2(i),c=N2(r);return f=>{s&&s(f),c&&c(f)}}function ld(i,r){return M.useMemo(()=>Ih(i,r),[i,r])}function em(i){return i&&"setState"in i?la.findDOMNode(i):i??null}const ad=ht.forwardRef(({onEnter:i,onEntering:r,onEntered:s,onExit:c,onExiting:f,onExited:o,addEndListener:h,children:p,childRef:y,...m},v)=>{const C=M.useRef(null),b=ld(C,y),T=W=>{b(em(W))},w=W=>Z=>{W&&C.current&&W(C.current,Z)},N=M.useCallback(w(i),[i]),U=M.useCallback(w(r),[r]),j=M.useCallback(w(s),[s]),H=M.useCallback(w(c),[c]),X=M.useCallback(w(f),[f]),L=M.useCallback(w(o),[o]),Y=M.useCallback(w(h),[h]);return S.jsx(Cn,{ref:v,...m,onEnter:N,onEntered:j,onEntering:U,onExit:H,onExited:L,onExiting:X,addEndListener:Y,nodeRef:C,children:typeof p=="function"?(W,Z)=>p(W,{...Z,ref:T}):ht.cloneElement(p,{ref:T})})});ad.displayName="TransitionWrapper";function tm(i){const r=M.useRef(i);return M.useEffect(()=>{r.current=i},[i]),r}function go(i){const r=tm(i);return M.useCallback(function(...s){return r.current&&r.current(...s)},[r])}const bo=(i=>M.forwardRef((r,s)=>S.jsx("div",{...r,ref:s,className:Te(r.className,i)})));function nm(i){const r=M.useRef(i);return M.useEffect(()=>{r.current=i},[i]),r}function hl(i){const r=nm(i);return M.useCallback(function(...s){return r.current&&r.current(...s)},[r])}function lm(){const i=M.useRef(!0),r=M.useRef(()=>i.current);return M.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),r.current}function am(i){const r=M.useRef(null);return M.useEffect(()=>{r.current=i}),r.current}const rm=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",um=typeof document<"u",X2=um||rm?M.useLayoutEffect:M.useEffect,im=["as","disabled"];function cm(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)>=0)continue;s[c]=i[c]}return s}function om(i){return!i||i.trim()==="#"}function rd({tagName:i,disabled:r,href:s,target:c,rel:f,role:o,onClick:h,tabIndex:p=0,type:y}){i||(s!=null||c!=null||f!=null?i="a":i="button");const m={tagName:i};if(i==="button")return[{type:y||"button",disabled:r},m];const v=b=>{if((r||i==="a"&&om(s))&&b.preventDefault(),r){b.stopPropagation();return}h?.(b)},C=b=>{b.key===" "&&(b.preventDefault(),v(b))};return i==="a"&&(s||(s="#"),r&&(s=void 0)),[{role:o??"button",disabled:void 0,tabIndex:r?void 0:p,href:s,target:i==="a"?c:void 0,"aria-disabled":r||void 0,rel:i==="a"?f:void 0,onClick:v,onKeyDown:C},m]}const sm=M.forwardRef((i,r)=>{let{as:s,disabled:c}=i,f=cm(i,im);const[o,{tagName:h}]=rd(Object.assign({tagName:s,disabled:c},f));return S.jsx(h,Object.assign({},f,o,{ref:r}))});sm.displayName="Button";const fm={[Qn]:"show",[dl]:"show"},So=M.forwardRef(({className:i,children:r,transitionClasses:s={},onEnter:c,...f},o)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...f},p=M.useCallback((y,m)=>{Fh(y),c?.(y,m)},[c]);return S.jsx(ad,{ref:o,addEndListener:$h,...h,onEnter:p,childRef:Vu(r),children:(y,m)=>M.cloneElement(r,{...m,className:Te("fade",i,r.props.className,fm[y],s[y])})})});So.displayName="Fade";const dm={"aria-label":nt.string,onClick:nt.func,variant:nt.oneOf(["white"])},Co=M.forwardRef(({className:i,variant:r,"aria-label":s="Close",...c},f)=>S.jsx("button",{ref:f,type:"button",className:Te("btn-close",r&&`btn-close-${r}`,i),"aria-label":s,...c}));Co.displayName="CloseButton";Co.propTypes=dm;const aa=M.forwardRef(({as:i,bsPrefix:r,variant:s="primary",size:c,active:f=!1,disabled:o=!1,className:h,...p},y)=>{const m=He(r,"btn"),[v,{tagName:C}]=rd({tagName:i,disabled:o,...p}),b=C;return S.jsx(b,{...v,...p,ref:y,disabled:o,className:Te(h,m,f&&"active",s&&`${m}-${s}`,c&&`${m}-${c}`,p.href&&o&&"disabled")})});aa.displayName="Button";const ud=M.forwardRef(({bsPrefix:i,size:r,vertical:s=!1,className:c,role:f="group",as:o="div",...h},p)=>{const y=He(i,"btn-group");let m=y;return s&&(m=`${y}-vertical`),S.jsx(o,{...h,ref:p,role:f,className:Te(c,m,r&&`${y}-${r}`)})});ud.displayName="ButtonGroup";const _o=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"card-body"),S.jsx(s,{ref:f,className:Te(i,r),...c})));_o.displayName="CardBody";const id=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"card-footer"),S.jsx(s,{ref:f,className:Te(i,r),...c})));id.displayName="CardFooter";const cd=M.createContext(null);cd.displayName="CardHeaderContext";const od=M.forwardRef(({bsPrefix:i,className:r,as:s="div",...c},f)=>{const o=He(i,"card-header"),h=M.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return S.jsx(cd.Provider,{value:h,children:S.jsx(s,{ref:f,...c,className:Te(r,o)})})});od.displayName="CardHeader";const sd=M.forwardRef(({bsPrefix:i,className:r,variant:s,as:c="img",...f},o)=>{const h=He(i,"card-img");return S.jsx(c,{ref:o,className:Te(s?`${h}-${s}`:h,r),...f})});sd.displayName="CardImg";const fd=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"card-img-overlay"),S.jsx(s,{ref:f,className:Te(i,r),...c})));fd.displayName="CardImgOverlay";const dd=M.forwardRef(({className:i,bsPrefix:r,as:s="a",...c},f)=>(r=He(r,"card-link"),S.jsx(s,{ref:f,className:Te(i,r),...c})));dd.displayName="CardLink";const hm=bo("h6"),hd=M.forwardRef(({className:i,bsPrefix:r,as:s=hm,...c},f)=>(r=He(r,"card-subtitle"),S.jsx(s,{ref:f,className:Te(i,r),...c})));hd.displayName="CardSubtitle";const md=M.forwardRef(({className:i,bsPrefix:r,as:s="p",...c},f)=>(r=He(r,"card-text"),S.jsx(s,{ref:f,className:Te(i,r),...c})));md.displayName="CardText";const mm=bo("h5"),pd=M.forwardRef(({className:i,bsPrefix:r,as:s=mm,...c},f)=>(r=He(r,"card-title"),S.jsx(s,{ref:f,className:Te(i,r),...c})));pd.displayName="CardTitle";const gd=M.forwardRef(({bsPrefix:i,className:r,bg:s,text:c,border:f,body:o=!1,children:h,as:p="div",...y},m)=>{const v=He(i,"card");return S.jsx(p,{ref:m,...y,className:Te(r,v,s&&`bg-${s}`,c&&`text-${c}`,f&&`border-${f}`),children:o?S.jsx(_o,{children:h}):h})});gd.displayName="Card";const bn=Object.assign(gd,{Img:sd,Title:pd,Subtitle:hd,Body:_o,Link:dd,Text:md,Header:od,Footer:id,ImgOverlay:fd});function pm(i){const r=M.useRef(i);return r.current=i,r}function gm(i){const r=pm(i);M.useEffect(()=>()=>r.current(),[])}function ym(i,r){return M.Children.toArray(i).some(s=>M.isValidElement(s)&&s.type===r)}function vm({as:i,bsPrefix:r,className:s,...c}){r=He(r,"col");const f=F2(),o=I2(),h=[],p=[];return f.forEach(y=>{const m=c[y];delete c[y];let v,C,b;typeof m=="object"&&m!=null?{span:v,offset:C,order:b}=m:v=m;const T=y!==o?`-${y}`:"";v&&h.push(v===!0?`${r}${T}`:`${r}${T}-${v}`),b!=null&&p.push(`order${T}-${b}`),C!=null&&p.push(`offset${T}-${C}`)}),[{...c,className:Te(s,...h,...p)},{as:i,bsPrefix:r,spans:h}]}const _t=M.forwardRef((i,r)=>{const[{className:s,...c},{as:f="div",bsPrefix:o,spans:h}]=vm(i);return S.jsx(f,{...c,ref:r,className:Te(s,!h.length&&o)})});_t.displayName="Col";var xm=Function.prototype.bind.call(Function.prototype.call,[].slice);function ta(i,r){return xm(i.querySelectorAll(r))}function Y2(i,r){if(i.contains)return i.contains(r);if(i.compareDocumentPosition)return i===r||!!(i.compareDocumentPosition(r)&16)}const bm="data-rr-ui-";function Sm(i){return`${bm}${i}`}const yd=M.createContext(ra?window:void 0);yd.Provider;function To(){return M.useContext(yd)}const vd=M.createContext(null);vd.displayName="InputGroupContext";const Cm={type:nt.string,tooltip:nt.bool,as:nt.elementType},zu=M.forwardRef(({as:i="div",className:r,type:s="valid",tooltip:c=!1,...f},o)=>S.jsx(i,{...f,ref:o,className:Te(r,`${s}-${c?"tooltip":"feedback"}`)}));zu.displayName="Feedback";zu.propTypes=Cm;const Sn=M.createContext({}),dr=M.forwardRef(({id:i,bsPrefix:r,className:s,type:c="checkbox",isValid:f=!1,isInvalid:o=!1,as:h="input",...p},y)=>{const{controlId:m}=M.useContext(Sn);return r=He(r,"form-check-input"),S.jsx(h,{...p,ref:y,type:c,id:i||m,className:Te(s,r,f&&"is-valid",o&&"is-invalid")})});dr.displayName="FormCheckInput";const wu=M.forwardRef(({bsPrefix:i,className:r,htmlFor:s,...c},f)=>{const{controlId:o}=M.useContext(Sn);return i=He(i,"form-check-label"),S.jsx("label",{...c,ref:f,htmlFor:s||o,className:Te(r,i)})});wu.displayName="FormCheckLabel";const xd=M.forwardRef(({id:i,bsPrefix:r,bsSwitchPrefix:s,inline:c=!1,reverse:f=!1,disabled:o=!1,isValid:h=!1,isInvalid:p=!1,feedbackTooltip:y=!1,feedback:m,feedbackType:v,className:C,style:b,title:T="",type:w="checkbox",label:N,children:U,as:j="input",...H},X)=>{r=He(r,"form-check"),s=He(s,"form-switch");const{controlId:L}=M.useContext(Sn),Y=M.useMemo(()=>({controlId:i||L}),[L,i]),W=!U&&N!=null&&N!==!1||ym(U,wu),Z=S.jsx(dr,{...H,type:w==="switch"?"checkbox":w,ref:X,isValid:h,isInvalid:p,disabled:o,as:j});return S.jsx(Sn.Provider,{value:Y,children:S.jsx("div",{style:b,className:Te(C,W&&r,c&&`${r}-inline`,f&&`${r}-reverse`,w==="switch"&&s),children:U||S.jsxs(S.Fragment,{children:[Z,W&&S.jsx(wu,{title:T,children:N}),m&&S.jsx(zu,{type:v,tooltip:y,children:m})]})})})});xd.displayName="FormCheck";const Ou=Object.assign(xd,{Input:dr,Label:wu}),bd=M.forwardRef(({bsPrefix:i,type:r,size:s,htmlSize:c,id:f,className:o,isValid:h=!1,isInvalid:p=!1,plaintext:y,readOnly:m,as:v="input",...C},b)=>{const{controlId:T}=M.useContext(Sn);return i=He(i,"form-control"),S.jsx(v,{...C,type:r,size:c,ref:b,readOnly:m,id:f||T,className:Te(o,y?`${i}-plaintext`:i,s&&`${i}-${s}`,r==="color"&&`${i}-color`,h&&"is-valid",p&&"is-invalid")})});bd.displayName="FormControl";const _m=Object.assign(bd,{Feedback:zu}),Sd=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"form-floating"),S.jsx(s,{ref:f,className:Te(i,r),...c})));Sd.displayName="FormFloating";const Ro=M.forwardRef(({controlId:i,as:r="div",...s},c)=>{const f=M.useMemo(()=>({controlId:i}),[i]);return S.jsx(Sn.Provider,{value:f,children:S.jsx(r,{...s,ref:c})})});Ro.displayName="FormGroup";const Cd=M.forwardRef(({as:i="label",bsPrefix:r,column:s=!1,visuallyHidden:c=!1,className:f,htmlFor:o,...h},p)=>{const{controlId:y}=M.useContext(Sn);r=He(r,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const v=Te(f,r,c&&"visually-hidden",s&&m);return o=o||y,s?S.jsx(_t,{ref:p,as:"label",className:v,htmlFor:o,...h}):S.jsx(i,{ref:p,className:v,htmlFor:o,...h})});Cd.displayName="FormLabel";const _d=M.forwardRef(({bsPrefix:i,className:r,id:s,...c},f)=>{const{controlId:o}=M.useContext(Sn);return i=He(i,"form-range"),S.jsx("input",{...c,type:"range",ref:f,className:Te(r,i),id:s||o})});_d.displayName="FormRange";const Td=M.forwardRef(({bsPrefix:i,size:r,htmlSize:s,className:c,isValid:f=!1,isInvalid:o=!1,id:h,...p},y)=>{const{controlId:m}=M.useContext(Sn);return i=He(i,"form-select"),S.jsx("select",{...p,size:s,ref:y,className:Te(c,i,r&&`${i}-${r}`,f&&"is-valid",o&&"is-invalid"),id:h||m})});Td.displayName="FormSelect";const Rd=M.forwardRef(({bsPrefix:i,className:r,as:s="small",muted:c,...f},o)=>(i=He(i,"form-text"),S.jsx(s,{...f,ref:o,className:Te(r,i,c&&"text-muted")})));Rd.displayName="FormText";const Dd=M.forwardRef((i,r)=>S.jsx(Ou,{...i,ref:r,type:"switch"}));Dd.displayName="Switch";const Tm=Object.assign(Dd,{Input:Ou.Input,Label:Ou.Label}),Ed=M.forwardRef(({bsPrefix:i,className:r,children:s,controlId:c,label:f,...o},h)=>(i=He(i,"form-floating"),S.jsxs(Ro,{ref:h,className:Te(r,i),controlId:c,...o,children:[s,S.jsx("label",{htmlFor:c,children:f})]})));Ed.displayName="FloatingLabel";const Rm={_ref:nt.any,validated:nt.bool,as:nt.elementType},Do=M.forwardRef(({className:i,validated:r,as:s="form",...c},f)=>S.jsx(s,{...c,ref:f,className:Te(i,r&&"was-validated")}));Do.displayName="Form";Do.propTypes=Rm;const ge=Object.assign(Do,{Group:Ro,Control:_m,Floating:Sd,Check:Ou,Switch:Tm,Label:Cd,Text:Rd,Range:_d,Select:Td,FloatingLabel:Ed}),Hu=M.forwardRef(({className:i,bsPrefix:r,as:s="span",...c},f)=>(r=He(r,"input-group-text"),S.jsx(s,{ref:f,className:Te(i,r),...c})));Hu.displayName="InputGroupText";const Dm=i=>S.jsx(Hu,{children:S.jsx(dr,{type:"checkbox",...i})}),Em=i=>S.jsx(Hu,{children:S.jsx(dr,{type:"radio",...i})}),Md=M.forwardRef(({bsPrefix:i,size:r,hasValidation:s,className:c,as:f="div",...o},h)=>{i=He(i,"input-group");const p=M.useMemo(()=>({}),[]);return S.jsx(vd.Provider,{value:p,children:S.jsx(f,{ref:h,...o,className:Te(c,i,r&&`${i}-${r}`,s&&"has-validation")})})});Md.displayName="InputGroup";const Mm=Object.assign(Md,{Text:Hu,Radio:Em,Checkbox:Dm}),q2=i=>!i||typeof i=="function"?i:r=>{i.current=r};function wm(i,r){const s=q2(i),c=q2(r);return f=>{s&&s(f),c&&c(f)}}function Eo(i,r){return M.useMemo(()=>wm(i,r),[i,r])}var Eu;function Z2(i){if((!Eu&&Eu!==0||i)&&ra){var r=document.createElement("div");r.style.position="absolute",r.style.top="-9999px",r.style.width="50px",r.style.height="50px",r.style.overflow="scroll",document.body.appendChild(r),Eu=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return Eu}function Om(){return M.useState(null)}function uo(i){i===void 0&&(i=Au());try{var r=i.activeElement;return!r||!r.nodeName?null:r}catch{return i.body}}function Am(i){const r=M.useRef(i);return r.current=i,r}function Vm(i){const r=Am(i);M.useEffect(()=>()=>r.current(),[])}function zm(i=document){const r=i.defaultView;return Math.abs(r.innerWidth-i.documentElement.clientWidth)}const L2=Sm("modal-open");class Mo{constructor({ownerDocument:r,handleContainerOverflow:s=!0,isRTL:c=!1}={}){this.handleContainerOverflow=s,this.isRTL=c,this.modals=[],this.ownerDocument=r}getScrollbarWidth(){return zm(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(r){}removeModalAttributes(r){}setContainerStyle(r){const s={overflow:"hidden"},c=this.isRTL?"paddingLeft":"paddingRight",f=this.getElement();r.style={overflow:f.style.overflow,[c]:f.style[c]},r.scrollBarWidth&&(s[c]=`${parseInt(ml(f,c)||"0",10)+r.scrollBarWidth}px`),f.setAttribute(L2,""),ml(f,s)}reset(){[...this.modals].forEach(r=>this.remove(r))}removeContainerStyle(r){const s=this.getElement();s.removeAttribute(L2),Object.assign(s.style,r.style)}add(r){let s=this.modals.indexOf(r);return s!==-1||(s=this.modals.length,this.modals.push(r),this.setModalAttributes(r),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(r){const s=this.modals.indexOf(r);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(r))}isTopModal(r){return!!this.modals.length&&this.modals[this.modals.length-1]===r}}const io=(i,r)=>ra?i==null?(r||Au()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Hm(i,r){const s=To(),[c,f]=M.useState(()=>io(i,s?.document));if(!c){const o=io(i);o&&f(o)}return M.useEffect(()=>{},[r,c]),M.useEffect(()=>{const o=io(i);o!==c&&f(o)},[i,c]),c}function Gm({children:i,in:r,onExited:s,mountOnEnter:c,unmountOnExit:f}){const o=M.useRef(null),h=M.useRef(r),p=hl(s);M.useEffect(()=>{r?h.current=!0:p(o.current)},[r,p]);const y=Eo(o,Vu(i)),m=M.cloneElement(i,{ref:y});return r?m:f||!h.current&&c?null:m}const Bm=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Um(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)>=0)continue;s[c]=i[c]}return s}function jm(i){let{onEnter:r,onEntering:s,onEntered:c,onExit:f,onExiting:o,onExited:h,addEndListener:p,children:y}=i,m=Um(i,Bm);const v=M.useRef(null),C=Eo(v,Vu(y)),b=L=>Y=>{L&&v.current&&L(v.current,Y)},T=M.useCallback(b(r),[r]),w=M.useCallback(b(s),[s]),N=M.useCallback(b(c),[c]),U=M.useCallback(b(f),[f]),j=M.useCallback(b(o),[o]),H=M.useCallback(b(h),[h]),X=M.useCallback(b(p),[p]);return Object.assign({},m,{nodeRef:v},r&&{onEnter:T},s&&{onEntering:w},c&&{onEntered:N},f&&{onExit:U},o&&{onExiting:j},h&&{onExited:H},p&&{addEndListener:X},{children:typeof y=="function"?(L,Y)=>y(L,Object.assign({},Y,{ref:C})):M.cloneElement(y,{ref:C})})}const Nm=["component"];function Xm(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)>=0)continue;s[c]=i[c]}return s}const Ym=M.forwardRef((i,r)=>{let{component:s}=i,c=Xm(i,Nm);const f=jm(c);return S.jsx(s,Object.assign({ref:r},f))});function qm({in:i,onTransition:r}){const s=M.useRef(null),c=M.useRef(!0),f=hl(r);return X2(()=>{if(!s.current)return;let o=!1;return f({in:i,element:s.current,initial:c.current,isStale:()=>o}),()=>{o=!0}},[i,f]),X2(()=>(c.current=!1,()=>{c.current=!0}),[]),s}function Zm({children:i,in:r,onExited:s,onEntered:c,transition:f}){const[o,h]=M.useState(!r);r&&o&&h(!1);const p=qm({in:!!r,onTransition:m=>{const v=()=>{m.isStale()||(m.in?c?.(m.element,m.initial):(h(!0),s?.(m.element)))};Promise.resolve(f(m)).then(v,C=>{throw m.in||h(!0),C})}}),y=Eo(p,Vu(i));return o&&!r?null:M.cloneElement(i,{ref:y})}function k2(i,r,s){return i?S.jsx(Ym,Object.assign({},s,{component:i})):r?S.jsx(Zm,Object.assign({},s,{transition:r})):S.jsx(Gm,Object.assign({},s))}const Lm=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function km(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)>=0)continue;s[c]=i[c]}return s}let co;function Qm(i){return co||(co=new Mo({ownerDocument:i?.document})),co}function Wm(i){const r=To(),s=i||Qm(r),c=M.useRef({dialog:null,backdrop:null});return Object.assign(c.current,{add:()=>s.add(c.current),remove:()=>s.remove(c.current),isTopModal:()=>s.isTopModal(c.current),setDialogRef:M.useCallback(f=>{c.current.dialog=f},[]),setBackdropRef:M.useCallback(f=>{c.current.backdrop=f},[])})}const wd=M.forwardRef((i,r)=>{let{show:s=!1,role:c="dialog",className:f,style:o,children:h,backdrop:p=!0,keyboard:y=!0,onBackdropClick:m,onEscapeKeyDown:v,transition:C,runTransition:b,backdropTransition:T,runBackdropTransition:w,autoFocus:N=!0,enforceFocus:U=!0,restoreFocus:j=!0,restoreFocusOptions:H,renderDialog:X,renderBackdrop:L=I=>S.jsx("div",Object.assign({},I)),manager:Y,container:W,onShow:Z,onHide:le=()=>{},onExit:ne,onExited:ce,onExiting:ye,onEnter:ae,onEntering:ve,onEntered:Re}=i,oe=km(i,Lm);const z=To(),$=Hm(W),J=Wm(Y),te=lm(),x=am(s),[O,k]=M.useState(!s),q=M.useRef(null);M.useImperativeHandle(r,()=>J,[J]),ra&&!x&&s&&(q.current=uo(z?.document)),s&&O&&k(!1);const F=hl(()=>{if(J.add(),We.current=Mu(document,"keydown",xe),Ue.current=Mu(document,"focus",()=>setTimeout(ee),!0),Z&&Z(),N){var I,se;const he=uo((I=(se=J.dialog)==null?void 0:se.ownerDocument)!=null?I:z?.document);J.dialog&&he&&!Y2(J.dialog,he)&&(q.current=he,J.dialog.focus())}}),ue=hl(()=>{if(J.remove(),We.current==null||We.current(),Ue.current==null||Ue.current(),j){var I;(I=q.current)==null||I.focus==null||I.focus(H),q.current=null}});M.useEffect(()=>{!s||!$||F()},[s,$,F]),M.useEffect(()=>{O&&ue()},[O,ue]),Vm(()=>{ue()});const ee=hl(()=>{if(!U||!te()||!J.isTopModal())return;const I=uo(z?.document);J.dialog&&I&&!Y2(J.dialog,I)&&J.dialog.focus()}),ze=hl(I=>{I.target===I.currentTarget&&(m?.(I),p===!0&&le())}),xe=hl(I=>{y&&Qh(I)&&J.isTopModal()&&(v?.(I),I.defaultPrevented||le())}),Ue=M.useRef(),We=M.useRef(),Je=(...I)=>{k(!0),ce?.(...I)};if(!$)return null;const Ze=Object.assign({role:c,ref:J.setDialogRef,"aria-modal":c==="dialog"?!0:void 0},oe,{style:o,className:f,tabIndex:-1});let vt=X?X(Ze):S.jsx("div",Object.assign({},Ze,{children:M.cloneElement(h,{role:"document"})}));vt=k2(C,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:ne,onExiting:ye,onExited:Je,onEnter:ae,onEntering:ve,onEntered:Re,children:vt});let xt=null;return p&&(xt=L({ref:J.setBackdropRef,onClick:ze}),xt=k2(T,w,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:xt})),S.jsx(S.Fragment,{children:la.createPortal(S.jsxs(S.Fragment,{children:[xt,vt]}),$)})});wd.displayName="Modal";const Pm=Object.assign(wd,{Manager:Mo});function Km(i,r){return i.classList?i.classList.contains(r):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+r+" ")!==-1}function Jm(i,r){i.classList?i.classList.add(r):Km(i,r)||(typeof i.className=="string"?i.className=i.className+" "+r:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+r))}function Q2(i,r){return i.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $m(i,r){i.classList?i.classList.remove(r):typeof i.className=="string"?i.className=Q2(i.className,r):i.setAttribute("class",Q2(i.className&&i.className.baseVal||"",r))}const na={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Fm extends Mo{adjustAndStore(r,s,c){const f=s.style[r];s.dataset[r]=f,ml(s,{[r]:`${parseFloat(ml(s,r))+c}px`})}restore(r,s){const c=s.dataset[r];c!==void 0&&(delete s.dataset[r],ml(s,{[r]:c}))}setContainerStyle(r){super.setContainerStyle(r);const s=this.getElement();if(Jm(s,"modal-open"),!r.scrollBarWidth)return;const c=this.isRTL?"paddingLeft":"paddingRight",f=this.isRTL?"marginLeft":"marginRight";ta(s,na.FIXED_CONTENT).forEach(o=>this.adjustAndStore(c,o,r.scrollBarWidth)),ta(s,na.STICKY_CONTENT).forEach(o=>this.adjustAndStore(f,o,-r.scrollBarWidth)),ta(s,na.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(f,o,r.scrollBarWidth))}removeContainerStyle(r){super.removeContainerStyle(r);const s=this.getElement();$m(s,"modal-open");const c=this.isRTL?"paddingLeft":"paddingRight",f=this.isRTL?"marginLeft":"marginRight";ta(s,na.FIXED_CONTENT).forEach(o=>this.restore(c,o)),ta(s,na.STICKY_CONTENT).forEach(o=>this.restore(f,o)),ta(s,na.NAVBAR_TOGGLER).forEach(o=>this.restore(f,o))}}let oo;function Im(i){return oo||(oo=new Fm(i)),oo}const Od=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"modal-body"),S.jsx(s,{ref:f,className:Te(i,r),...c})));Od.displayName="ModalBody";const Ad=M.createContext({onHide(){}}),wo=M.forwardRef(({bsPrefix:i,className:r,contentClassName:s,centered:c,size:f,fullscreen:o,children:h,scrollable:p,...y},m)=>{i=He(i,"modal");const v=`${i}-dialog`,C=typeof o=="string"?`${i}-fullscreen-${o}`:`${i}-fullscreen`;return S.jsx("div",{...y,ref:m,className:Te(v,r,f&&`${i}-${f}`,c&&`${v}-centered`,p&&`${v}-scrollable`,o&&C),children:S.jsx("div",{className:Te(`${i}-content`,s),children:h})})});wo.displayName="ModalDialog";const Vd=M.forwardRef(({className:i,bsPrefix:r,as:s="div",...c},f)=>(r=He(r,"modal-footer"),S.jsx(s,{ref:f,className:Te(i,r),...c})));Vd.displayName="ModalFooter";const zd=M.forwardRef(({closeLabel:i="Close",closeVariant:r,closeButton:s=!1,onHide:c,children:f,...o},h)=>{const p=M.useContext(Ad),y=go(()=>{p?.onHide(),c?.()});return S.jsxs("div",{ref:h,...o,children:[f,s&&S.jsx(Co,{"aria-label":i,variant:r,onClick:y})]})});zd.displayName="AbstractModalHeader";const Hd=M.forwardRef(({bsPrefix:i,className:r,closeLabel:s="Close",closeButton:c=!1,...f},o)=>(i=He(i,"modal-header"),S.jsx(zd,{ref:o,...f,className:Te(r,i),closeLabel:s,closeButton:c})));Hd.displayName="ModalHeader";const ep=bo("h4"),Gd=M.forwardRef(({className:i,bsPrefix:r,as:s=ep,...c},f)=>(r=He(r,"modal-title"),S.jsx(s,{ref:f,className:Te(i,r),...c})));Gd.displayName="ModalTitle";function tp(i){return S.jsx(So,{...i,timeout:null})}function np(i){return S.jsx(So,{...i,timeout:null})}const Bd=M.forwardRef(({bsPrefix:i,className:r,style:s,dialogClassName:c,contentClassName:f,children:o,dialogAs:h=wo,"data-bs-theme":p,"aria-labelledby":y,"aria-describedby":m,"aria-label":v,show:C=!1,animation:b=!0,backdrop:T=!0,keyboard:w=!0,onEscapeKeyDown:N,onShow:U,onHide:j,container:H,autoFocus:X=!0,enforceFocus:L=!0,restoreFocus:Y=!0,restoreFocusOptions:W,onEntered:Z,onExit:le,onExiting:ne,onEnter:ce,onEntering:ye,onExited:ae,backdropClassName:ve,manager:Re,...oe},z)=>{const[$,J]=M.useState({}),[te,x]=M.useState(!1),O=M.useRef(!1),k=M.useRef(!1),q=M.useRef(null),[F,ue]=Om(),ee=ld(z,ue),ze=go(j),xe=Vh();i=He(i,"modal");const Ue=M.useMemo(()=>({onHide:ze}),[ze]);function We(){return Re||Im({isRTL:xe})}function Je(Se){if(!ra)return;const Le=We().getScrollbarWidth()>0,Tt=Se.scrollHeight>Au(Se).documentElement.clientHeight;J({paddingRight:Le&&!Tt?Z2():void 0,paddingLeft:!Le&&Tt?Z2():void 0})}const Ze=go(()=>{F&&Je(F.dialog)});gm(()=>{po(window,"resize",Ze),q.current==null||q.current()});const vt=()=>{O.current=!0},xt=Se=>{O.current&&F&&Se.target===F.dialog&&(k.current=!0),O.current=!1},I=()=>{x(!0),q.current=nd(F.dialog,()=>{x(!1)})},se=Se=>{Se.target===Se.currentTarget&&I()},he=Se=>{if(T==="static"){se(Se);return}if(k.current||Se.target!==Se.currentTarget){k.current=!1;return}j?.()},be=Se=>{w?N?.(Se):(Se.preventDefault(),T==="static"&&I())},Ce=(Se,Le)=>{Se&&Je(Se),ce?.(Se,Le)},Oe=Se=>{q.current==null||q.current(),le?.(Se)},Ae=(Se,Le)=>{ye?.(Se,Le),td(window,"resize",Ze)},mt=Se=>{Se&&(Se.style.display=""),ae?.(Se),po(window,"resize",Ze)},fe=M.useCallback(Se=>S.jsx("div",{...Se,className:Te(`${i}-backdrop`,ve,!b&&"show")}),[b,ve,i]),lt={...s,...$};lt.display="block";const nn=Se=>S.jsx("div",{role:"dialog",...Se,style:lt,className:Te(r,i,te&&`${i}-static`,!b&&"show"),onClick:T?he:void 0,onMouseUp:xt,"data-bs-theme":p,"aria-label":v,"aria-labelledby":y,"aria-describedby":m,children:S.jsx(h,{...oe,onMouseDown:vt,className:c,contentClassName:f,children:o})});return S.jsx(Ad.Provider,{value:Ue,children:S.jsx(Pm,{show:C,ref:ee,backdrop:T,container:H,keyboard:!0,autoFocus:X,enforceFocus:L,restoreFocus:Y,restoreFocusOptions:W,onEscapeKeyDown:be,onShow:U,onHide:j,onEnter:Ce,onEntering:Ae,onEntered:Z,onExit:Oe,onExiting:ne,onExited:mt,manager:We(),transition:b?tp:void 0,backdropTransition:b?np:void 0,renderBackdrop:fe,renderDialog:nn})})});Bd.displayName="Modal";const ur=Object.assign(Bd,{Body:Od,Header:Hd,Title:Gd,Footer:Vd,Dialog:wo,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),cr=M.forwardRef(({bsPrefix:i,className:r,as:s="div",...c},f)=>{const o=He(i,"row"),h=F2(),p=I2(),y=`${o}-cols`,m=[];return h.forEach(v=>{const C=c[v];delete c[v];let b;C!=null&&typeof C=="object"?{cols:b}=C:b=C;const T=v!==p?`-${v}`:"";b!=null&&m.push(`${y}${T}-${b}`)}),S.jsx(s,{ref:f,...c,className:Te(r,o,...m)})});cr.displayName="Row";const Gu={noiseType:"OpenSimplex2S",seed:42,fractalOctaves:6,fractalLacunarity:1.7,fractalGain:.5,fractalType:"FBm",frequency:.003,width:960,height:540,maxCellValue:100,terrainHeightMultiplier:.85,colorSteps:20,numberOfTerrainColors:7,colors:["#4D4949","#827C74","#BE935A","#AD6E1B","#3D6841","#1B461F","#FFFFFF"]},lp=ht.memo(ap,(i,r)=>i.initial===r.initial&&i.title===r.title);function ap({initial:i,onChange:r,onApply:s,title:c="Noise & Render Settings"}){const f=M.useMemo(()=>({...Gu,...i}),[i]),[o,h]=M.useState(f);M.useEffect(()=>{h(v=>{const C=Math.max(1,Math.min(32,v.numberOfTerrainColors));let b=v.colors.slice(0,C);if(b.length<C){const T=C-b.length,w=b[b.length-1]??"#888888";b=b.concat(Array.from({length:T},()=>w))}return{...v,numberOfTerrainColors:C,colors:b}})},[o.numberOfTerrainColors]);const p=(v,C)=>h(b=>({...b,[v]:C})),y=["Perlin","OpenSimplex2","OpenSimplex2S","Cellular","ValueCubic","Value"],m=["FBm","Ridged","PingPong","None","DomainWarpProgressive","DomainWarpIndependent"];return S.jsx(bn,{children:S.jsxs(bn.Body,{children:[S.jsx(bn.Title,{className:"mb-3",children:c}),S.jsx("h6",{className:"text-muted mb-2",children:"Canvas"}),S.jsxs(cr,{className:"g-3",children:[S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"width",children:[S.jsx(ge.Label,{children:"Width"}),S.jsx(ge.Control,{type:"number",min:1,value:o.width,onChange:v=>p("width",Math.max(1,parseInt(v.currentTarget.value||"1",10)))}),S.jsx(ge.Text,{muted:!0,children:"Width in pixels of the map."})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"height",children:[S.jsx(ge.Label,{children:"Height"}),S.jsx(ge.Control,{type:"number",min:1,value:o.height,onChange:v=>p("height",Math.max(1,parseInt(v.currentTarget.value||"1",10)))}),S.jsx(ge.Text,{muted:!0,children:"Height in pixels of the map."})]})})]}),S.jsx("hr",{className:"my-4"}),S.jsx("h6",{className:"text-muted mb-2",children:"Noise"}),S.jsxs(cr,{className:"g-3",children:[S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"noiseType",children:[S.jsx(ge.Label,{children:"Noise Type"}),S.jsx(ge.Select,{value:o.noiseType,onChange:v=>p("noiseType",v.currentTarget.value),children:y.map(v=>S.jsx("option",{value:v,children:v},v))})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"seed",children:[S.jsx(ge.Label,{children:"Seed"}),S.jsx(ge.Control,{type:"number",value:o.seed,onChange:v=>p("seed",parseInt(v.currentTarget.value||"0",10))})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"octaves",children:[S.jsx(ge.Label,{children:"Fractal Octaves"}),S.jsx(ge.Control,{type:"number",min:1,max:16,value:o.fractalOctaves,onChange:v=>p("fractalOctaves",Math.max(1,Math.min(16,parseInt(v.currentTarget.value||"1",10))))})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"lacunarity",children:[S.jsx(ge.Label,{children:"Fractal Lacunarity"}),S.jsx(Mm,{children:S.jsx(ge.Control,{type:"number",step:"0.1",value:o.fractalLacunarity,onChange:v=>p("fractalLacunarity",parseFloat(v.currentTarget.value||"0"))})})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"gain",children:[S.jsx(ge.Label,{children:"Fractal Gain"}),S.jsx(ge.Control,{type:"number",step:"0.05",value:o.fractalGain,onChange:v=>p("fractalGain",parseFloat(v.currentTarget.value||"0"))})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"fractalType",children:[S.jsx(ge.Label,{children:"Fractal Type"}),S.jsx(ge.Select,{value:o.fractalType,onChange:v=>p("fractalType",v.currentTarget.value),children:m.map(v=>S.jsx("option",{value:v,children:v},v))})]})}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"frequency",children:[S.jsx(ge.Label,{children:"Frequency"}),S.jsx(ge.Control,{type:"number",step:"0.0005",value:o.frequency,onChange:v=>p("frequency",parseFloat(v.currentTarget.value||"0"))}),S.jsx(ge.Text,{muted:!0,children:"Typical small value (e.g. 0.003)"})]})})]}),S.jsx("hr",{className:"my-4"}),S.jsx("h6",{className:"text-muted mb-2",children:"Render / Terrain"}),S.jsxs(cr,{className:"g-3",children:[S.jsxs(_t,{md:6,lg:4,children:[S.jsxs(ge.Group,{controlId:"maxCellValue",children:[S.jsx(ge.Label,{children:"Max Terrain Height"}),S.jsx(ge.Control,{type:"number",step:"0.1",value:o.maxCellValue,onChange:v=>p("maxCellValue",parseFloat(v.currentTarget.value||"0"))})]}),S.jsx(ge.Text,{muted:!0,children:"The maximum terrain height of any cell in the map."})]}),S.jsxs(_t,{md:6,lg:4,children:[S.jsxs(ge.Group,{controlId:"thm",children:[S.jsx(ge.Label,{children:"Terrain Height Multiplier"}),S.jsx(ge.Control,{type:"number",step:"0.01",value:o.terrainHeightMultiplier,onChange:v=>p("terrainHeightMultiplier",parseFloat(v.currentTarget.value||"0"))})]}),S.jsx(ge.Text,{muted:!0,children:"A multiplier used to scale the overall terrain height."})]}),S.jsxs(_t,{md:6,lg:4,children:[S.jsxs(ge.Group,{controlId:"colorSteps",children:[S.jsx(ge.Label,{children:"Terrain Steps"}),S.jsx(ge.Control,{type:"number",min:1,value:o.colorSteps,onChange:v=>p("colorSteps",Math.max(1,parseInt(v.currentTarget.value||"1",10)))})]}),S.jsx(ge.Text,{muted:!0,children:"How many steps or terraces should the terrain have."})]}),S.jsx(_t,{md:6,lg:4,children:S.jsxs(ge.Group,{controlId:"numColors",children:[S.jsx(ge.Label,{children:"Number of Terrain Colors"}),S.jsx(ge.Control,{type:"number",min:1,max:32,value:o.numberOfTerrainColors,onChange:v=>p("numberOfTerrainColors",Math.max(1,Math.min(32,parseInt(v.currentTarget.value||"1",10))))}),S.jsx(ge.Text,{muted:!0,children:"Gradient editor below will match this count."})]})})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("h6",{className:"text-muted mb-2",children:"Terrain Gradient"}),S.jsx(cr,{className:"g-3",children:o.colors.map((v,C)=>S.jsx(_t,{xs:3,sm:2,md:1,lg:1,children:S.jsx(ge.Group,{controlId:`color-${C}`,children:S.jsx(ge.Control,{type:"color",value:v,style:{width:"50px",height:"50px"},onChange:b=>{const T=b.currentTarget.value;p("colors",o.colors.map((w,N)=>N===C?T:w))},title:`Pick color ${C+1}`})})},C))})]}),S.jsxs("div",{className:"d-flex gap-2 mt-4",children:[S.jsx(aa,{variant:"primary",onClick:()=>s?.(o),children:"Apply"}),S.jsx(aa,{variant:"outline-secondary",onClick:()=>h(f),children:"Reset to Defaults"})]})]})})}function W2(i,r){const s=i>>>0,c=r>>>0||1;return(c&c-1)===0?s+(c-1)&~(c-1):Math.ceil(s/c)*c>>>0}function rp(i){if(typeof i!="string")return"";const r=i.trim().toLowerCase();if(/^(f32|u32|i32|bool|vec[234][fui]|pad\d+)$/.test(r))return r;const s=r.match(/^vec([234])<\s*(f32|u32|i32)\s*>$/);if(s)return`vec${s[1]}${s[2][0]}`;const c=r.match(/^pad[_\s]*([0-9]+)$/);return c?`pad${c[1]}`:""}const up={f32:{size:4,align:4},u32:{size:4,align:4},i32:{size:4,align:4},bool:{size:4,align:4},vec2f:{size:8,align:8},vec3f:{size:12,align:16},vec4f:{size:16,align:16},vec2u:{size:8,align:8},vec3u:{size:12,align:16},vec4u:{size:16,align:16},vec2i:{size:8,align:8},vec3i:{size:12,align:16},vec4i:{size:16,align:16}};function Oo(i){const r={fields:[],size:0};let s=0,c=1;for(const f of i){const o=rp(f.type);if(!o)throw new Error(`Unsupported type: ${f.type}`);const h=o;if(h.startsWith("pad")){const v=parseInt(h.slice(3),10)||0;if(v<=0)throw new Error(`Invalid padding: ${h}`);const C={name:f.name,type:h,offset:s,size:v,align:1};r.fields.push(C),s+=v;continue}const y=up[h];if(!y)throw new Error(`Unsupported non-pad type: ${h}`);s=W2(s,y.align);const m={name:f.name,type:h,offset:s,size:y.size,align:y.align};r.fields.push(m),s+=y.size,y.align>c&&(c=y.align)}return r.size=W2(s,Math.max(16,c)),r}function ip(i,r){const s=new ArrayBuffer(i.size),c=new DataView(s);for(const f of i.fields){if(f.type.startsWith("pad"))continue;const o=r[f.name];if(o==null)throw new Error(`Missing field '${f.name}'`);switch(f.type){case"f32":c.setFloat32(f.offset,+o,!0);break;case"u32":c.setUint32(f.offset,o>>>0,!0);break;case"i32":c.setInt32(f.offset,o|0,!0);break;case"bool":c.setUint32(f.offset,o?1:0,!0);break;case"vec2f":c.setFloat32(f.offset,o[0],!0),c.setFloat32(f.offset+4,o[1],!0);break;case"vec3f":c.setFloat32(f.offset,o[0],!0),c.setFloat32(f.offset+4,o[1],!0),c.setFloat32(f.offset+8,o[2],!0);break;case"vec4f":c.setFloat32(f.offset,o[0],!0),c.setFloat32(f.offset+4,o[1],!0),c.setFloat32(f.offset+8,o[2],!0),c.setFloat32(f.offset+12,o[3],!0);break;case"vec2u":c.setUint32(f.offset,o[0]>>>0,!0),c.setUint32(f.offset+4,o[1]>>>0,!0);break;case"vec3u":c.setUint32(f.offset,o[0]>>>0,!0),c.setUint32(f.offset+4,o[1]>>>0,!0),c.setUint32(f.offset+8,o[2]>>>0,!0);break;case"vec4u":c.setUint32(f.offset,o[0]>>>0,!0),c.setUint32(f.offset+4,o[1]>>>0,!0),c.setUint32(f.offset+8,o[2]>>>0,!0),c.setUint32(f.offset+12,o[3]>>>0,!0);break;case"vec2i":c.setInt32(f.offset,o[0]|0,!0),c.setInt32(f.offset+4,o[1]|0,!0);break;case"vec3i":c.setInt32(f.offset,o[0]|0,!0),c.setInt32(f.offset+4,o[1]|0,!0),c.setInt32(f.offset+8,o[2]|0,!0);break;case"vec4i":c.setInt32(f.offset,o[0]|0,!0),c.setInt32(f.offset+4,o[1]|0,!0),c.setInt32(f.offset+8,o[2]|0,!0),c.setInt32(f.offset+12,o[3]|0,!0);break;default:throw new Error(`Unhandled type ${f.type}`)}}return s}function Ao(i,r,s,c,f,o){const h=ip(r,s),p=o??i.createBuffer({size:r.size,usage:c,label:f});return i.queue.writeBuffer(p,0,h),p}const cp=Oo([{name:"maxCellValue",type:"f32"},{name:"terrainHeightMultiplier",type:"f32"},{name:"colorSteps",type:"u32"},{name:"numberOfTerrainColors",type:"u32"},{name:"_padT0",type:"vec2f"}]);function op(i,r,s,c){const f={maxCellValue:r.maxCellValue,terrainHeightMultiplier:r.terrainHeightMultiplier,colorSteps:r.colorSteps>>>0,numberOfTerrainColors:(s?.length??0)>>>0,_padT0:[0,0]};return Ao(i,cp,f,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,"Terrain Buffer",c)}function sp(i,r,s){{const c=i.createBuffer({label:"Terrain Colors Buffer",size:r.length*16,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});return i.queue.writeBuffer(c,0,fp(r)),c}}function fp(i){const r=[];for(let s of i){/^#([0-9a-fA-F]{3})$/.test(s)&&(s=s.replace(/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/,"#$1$1$2$2$3$3"));const c=s.match(/^#([0-9a-fA-F]{6})$/);if(!c)continue;const f=c[1],o=parseInt(f.slice(0,2),16)/255,h=parseInt(f.slice(2,4),16)/255,p=parseInt(f.slice(4,6),16)/255;r.push(o,h,p,1)}return new Float32Array(r)}const dp=Oo([{name:"size",type:"vec2u"},{name:"time",type:"f32"},{name:"simIndex",type:"u32"}]);function P2(i,r,s){const c={size:[r.width,r.height],time:r.time,simIndex:r.simIndex,_padT0:0};return Ao(i,dp,c,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,"View Buffer",s)}const hp=Oo([{name:"mousePos",type:"vec2u"},{name:"mouse0Held",type:"f32"},{name:"mouse1Held",type:"f32"},{name:"mouseRadius",type:"f32"},{name:"visibleRect",type:"vec4u"}]);function K2(i,r,s){const c={mousePos:[r.mousePos.x,r.mousePos.y],mouse0Held:r.mouse0Held?1:0,mouse1Held:r.mouse1Held?1:0,mouseRadius:r.mouseRadius,visibleRect:[r.visibleRect.x0,r.visibleRect.y0,r.visibleRect.x1,r.visibleRect.y1]};return Ao(i,hp,c,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,"Input Buffer",s)}function mp(i,r,s,c){const f={uView:{binding:0,type:"uniform",buffer:c.viewUniformBuffer},uInput:{binding:1,type:"uniform",buffer:c.inputUniformBuffer},uTerrain:{binding:2,type:"uniform",buffer:c.terrainBuffer},currentCells:{binding:3,type:"storage",buffer:c.prevCellsBuffer},terrainColors:{binding:4,type:"read-only-storage",buffer:c.terrainColorsBuffer},outputTex:{binding:5,type:"storage",buffer:c.outputTextureBuffer},nextCells:{binding:6,type:"storage",buffer:c.nextCellsBuffer},randomDirections:{binding:7,type:"read-only-storage",buffer:c.randomFlowDirectionsBuffer},cursorQuery:{binding:8,type:"storage",buffer:c.cursorQueryBuffer},chunkData:{binding:9,type:"storage",buffer:c.chunkDataBuffer}},o=i.createBindGroupLayout({label:"Unified Compute BGL",entries:Object.keys(f).map(H=>({binding:f[H].binding,visibility:GPUShaderStage.COMPUTE,buffer:{type:f[H].type}}))}),h=i.createBindGroup({label:"Unified Compute BG A",layout:o,entries:Object.keys(f).map(H=>H==="currentCells"?{binding:f.currentCells.binding,resource:{buffer:c.prevCellsBuffer}}:H==="nextCells"?{binding:f.nextCells.binding,resource:{buffer:c.nextCellsBuffer}}:{binding:f[H].binding,resource:{buffer:f[H].buffer}})}),p=i.createBindGroup({label:"Unified Compute BG show B",layout:o,entries:Object.keys(f).map(H=>H==="currentCells"?{binding:f.currentCells.binding,resource:{buffer:c.nextCellsBuffer}}:H==="nextCells"?{binding:f.nextCells.binding,resource:{buffer:c.prevCellsBuffer}}:{binding:f[H].binding,resource:{buffer:f[H].buffer}})}),y=i.createBindGroupLayout({label:"Render BGL",entries:[{binding:f.uView.binding,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:f.uView.type}},{binding:f.uInput.binding,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:f.uInput.type}},{binding:f.outputTex.binding,visibility:GPUShaderStage.FRAGMENT,buffer:{type:f.outputTex.type}}]}),m=i.createRenderPipeline({label:"Render Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[y],label:"Render Pipeline Layout"}),vertex:{module:r,entryPoint:"vs"},fragment:{module:r,entryPoint:"fs",targets:[{format:s}]},primitive:{topology:"triangle-list"}}),v=i.createComputePipeline({label:"Normal Compute Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Normal Compute Pipeline Layout"}),compute:{module:r,entryPoint:"calc_normals"}}),C=i.createComputePipeline({label:"Cursor Query Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Cursor Query Pipeline Layout"}),compute:{module:r,entryPoint:"cursor_query"}}),b=i.createComputePipeline({label:"Total Query Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Total Query Pipeline Layout"}),compute:{module:r,entryPoint:"total_query"}}),T=i.createComputePipeline({label:"Chunk Data Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Chunk Data Pipeline Layout"}),compute:{module:r,entryPoint:"chunk_data_calc"}}),w=i.createComputePipeline({label:"Terrain Texture Compute Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Terrain Texture Compute Pipeline Layout"}),compute:{module:r,entryPoint:"terrain_render"}}),N=i.createComputePipeline({label:"Shadow Texture Compute Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Shadow Texture Compute Pipeline Layout"}),compute:{module:r,entryPoint:"shadow_render"}}),U=i.createComputePipeline({label:"Step Compute Pipeline",layout:i.createPipelineLayout({bindGroupLayouts:[o],label:"Step Compute Pipeline Layout"}),compute:{module:r,entryPoint:"step"}}),j=i.createBindGroup({label:"Render BG",layout:y,entries:[{binding:f.uView.binding,resource:{buffer:c.viewUniformBuffer}},{binding:f.uInput.binding,resource:{buffer:c.inputUniformBuffer}},{binding:f.outputTex.binding,resource:{buffer:c.outputTextureBuffer}}]});return{piplines:{renderPipeline:m,normalComputePipeline:v,cursorQueryPipeline:C,totalQueryPipeline:b,chunkDataPipeline:T,terrainTextureComputePipeline:w,shadowTextureComputePipeline:N,stepComputePipeline:U},bindGroups:{unifiedComputeBG_A:h,unifiedComputeBG_B:p,renderBG:j}}}function pp(i,r){return i.mouse0Held===r.mouse0Held&&i.mouse1Held===r.mouse1Held&&i.mouse2Held===r.mouse2Held&&i.mouseRadius===r.mouseRadius&&i.mouseMoved===r.mouseMoved&&i.mousePosition.x===r.mousePosition.x&&i.mousePosition.y===r.mousePosition.y&&i.visibleRect.x0===r.visibleRect.x0&&i.visibleRect.y0===r.visibleRect.y0&&i.visibleRect.x1===r.visibleRect.x1&&i.visibleRect.y1===r.visibleRect.y1&&i.visibleRect.width===r.visibleRect.width&&i.visibleRect.height===r.visibleRect.height&&i.visibleRectChanged===r.visibleRectChanged&&i.simulationSubSteps===r.simulationSubSteps}const gp={mouse0Held:!1,mouse1Held:!1,mouse2Held:!1,mouseRadius:30,mouseMoved:!1,mousePosition:{x:0,y:0},visibleRect:{x0:0,y0:0,x1:0,y1:0,width:0,height:0},visibleRectChanged:!1,simulationSubSteps:1};class yp{constructor(){this.winMs=1e3,this.times=[],this.lastCpuStart=0,this.fps=0,this.ema=0,this.cpuMs=0,this.cpuEma=0,this.frameCount=0,this.alpha=.1}begin(){this.lastCpuStart=performance.now()}end(r){this.cpuMs=performance.now()-this.lastCpuStart,this.cpuEma=this.cpuEma?this.cpuEma+this.alpha*(this.cpuMs-this.cpuEma):this.cpuMs,this.times.push(r);const s=r-this.winMs;for(;this.times.length&&this.times[0]<s;)this.times.shift();this.fps=this.times.length*1e3/this.winMs,this.ema=this.ema?this.ema+this.alpha*(this.fps-this.ema):this.fps,this.frameCount++}}const or=new yp;async function vp(i,r=Gu,s,c,f,o){if(!i)return()=>{};i.__wgpuCleanup&&i.__wgpuCleanup();var h=!0,p=!0,y=!0;const m=await oh(),v=i.getContext("webgpu"),C=navigator.gpu.getPreferredCanvasFormat();i.style.imageRendering="pixelated",v.__deviceId=m.__id,i.width=r.width,i.height=r.height,v.configure({device:m,format:C,alphaMode:"opaque"});let b=Rh();const T=m.createShaderModule({label:"Rect Shader",code:b});var w=0,N=0,U=0;const j=P2(m,{width:r.width,height:r.height,time:0,simIndex:0});function H(){P2(m,{width:r.width,height:r.height,time:w,simIndex:U},j)}const X=s(),L=K2(m,{mousePos:X.mousePosition,mouse0Held:X.mouse0Held,mouse1Held:X.mouse1Held,mouseRadius:X.mouseRadius,visibleRect:X.visibleRect}),Y=op(m,{maxCellValue:r.maxCellValue,terrainHeightMultiplier:r.terrainHeightMultiplier,colorSteps:r.colorSteps},r.colors),W=sp(m,r.colors);function Z(be,Ce,Oe){const Ae=Math.ceil(be/Oe),mt=Math.ceil(Ce/Oe);return[Ae,mt]}const le=16,[ne,ce]=Z(r.width,r.height,le),ye=m.createBuffer({label:"Chunk Data",size:16*ne*ce,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});m.queue.writeBuffer(ye,0,new Float32Array(4*ne*ce));function ae(be){K2(m,{mousePos:be.mousePosition,mouse0Held:be.mouse0Held,mouse1Held:be.mouse1Held,mouseRadius:be.mouseRadius,visibleRect:be.visibleRect},L)}const Re=r.width*r.height*4*4*3,oe=m.createBuffer({label:"Output Texture",size:Re,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});m.queue.writeBuffer(oe,0,new Float32Array(Re/4));const z=12,$=4*z,J=r.width*r.height*$,te=m.createBuffer({label:"Prev Cells",size:J,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),x=m.createBuffer({label:"Next Cells",size:J,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),O=()=>{const be=new Float32Array(r.width*r.height*z),Ce=sh(r.seed,r.width,r.height,r.noiseType,r.fractalOctaves,r.fractalLacunarity,r.fractalGain,r.fractalType,r.frequency);for(let Oe=0;Oe<Ce.length;Oe++){const Ae=Oe*z;be[Ae]=Ce[Oe]*100}m.queue.writeBuffer(te,0,be),m.queue.writeBuffer(x,0,be)};O();const k=m.createBuffer({label:"Cursor Query",size:64,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),q=m.createBuffer({label:"Cursor Query Readback",size:64,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),F=m.createBuffer({label:"Random Flow Directions Buffer",size:4*r.width*r.height,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),ue=new Float32Array(r.width*r.height);for(let be=0;be<ue.length;be++)ue[be]=Math.floor(Math.random()*8)+0;m.queue.writeBuffer(F,0,ue);const ee=mp(m,T,C,{prevCellsBuffer:te,nextCellsBuffer:x,terrainBuffer:Y,terrainColorsBuffer:W,viewUniformBuffer:j,inputUniformBuffer:L,outputTextureBuffer:oe,cursorQueryBuffer:k,chunkDataBuffer:ye,randomFlowDirectionsBuffer:F}),ze={label:"Canvas RenderPass",colorAttachments:[{terrainView:void 0,clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store"}]},xe=16,Ue=16,We=Math.ceil(r.width/xe),Je=Math.ceil(r.height/Ue);let Ze=!0,vt=0;var xt=s();async function I(be=0){if(v.__deviceId!==m.__id)return;or.begin();var Ce=s();pp(Ce,xt)||(ae(Ce),xt=Ce);const Oe=N%6===0;await m.pushErrorScope("validation"),w=be*.001,H();const Ae=m.createCommandEncoder({label:"Encoder"});{const fe=Ae.beginComputePass({label:"Step Compute Pass"});fe.setPipeline(ee.piplines.stepComputePipeline);for(let lt=0;lt<Ce.simulationSubSteps;lt++)fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(We,Je,1),Ze=!Ze,U++,H();o(U),fe.end()}if((N===0||Ce.mouse0Held||Ce.mouse1Held)&&(p=!0,h=!0,y=!0),Ce.visibleRectChanged&&(y=!0),y=!0,h||p){const fe=Ae.beginComputePass({label:"Normal Compute Pass"});fe.setPipeline(ee.piplines.normalComputePipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(We,Je,1),fe.end()}if(p){const fe=Ae.beginComputePass({label:"Terrain Texture Compute Pass"});fe.setPipeline(ee.piplines.terrainTextureComputePipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(We,Je,1),fe.end()}if(y||p){const fe=Ae.beginComputePass({label:"Shadow Texture Compute Pass"});fe.setPipeline(ee.piplines.shadowTextureComputePipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(We,Je,1),fe.end(),Ce={...Ce,visibleRectChanged:!1}}if(Oe){const fe=Ae.beginComputePass({label:"Cursor Query Pass"});fe.setPipeline(ee.piplines.cursorQueryPipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(1,1,1),fe.end()}if(N%30==15){const fe=Ae.beginComputePass({label:"Total Query Pass"});fe.setPipeline(ee.piplines.totalQueryPipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(1,1,1),fe.end()}{const fe=Ae.beginComputePass({label:"Chunk Data Pass"});fe.setPipeline(ee.piplines.chunkDataPipeline),fe.setBindGroup(0,Ze?ee.bindGroups.unifiedComputeBG_A:ee.bindGroups.unifiedComputeBG_B),fe.dispatchWorkgroups(ne,ce,1),fe.end()}ze.colorAttachments[0].view=v.getCurrentTexture().createView();{const fe=Ae.beginRenderPass(ze);fe.setPipeline(ee.piplines.renderPipeline),fe.setBindGroup(0,ee.bindGroups.renderBG),fe.draw(3),fe.end()}Oe&&Ae.copyBufferToBuffer(k,0,q,0,64),m.queue.submit([Ae.finish()]);const mt=await m.popErrorScope();if(mt&&console.error("Validation error:",mt.message),Oe){await q.mapAsync(GPUMapMode.READ);const fe=q.getMappedRange(),lt=new DataView(fe),nn=lt.getFloat32(0,!0),Se=lt.getFloat32(16,!0),Le=lt.getFloat32(20,!0),Tt=lt.getFloat32(24,!0),ct=lt.getFloat32(28,!0),Bu=lt.getFloat32(48,!0),Uu=lt.getFloat32(52,!0);f({height:nn,normal:{x:Se,y:Le,z:Tt},fAmount:ct,fluidTotal:Bu,anitFluidTotal:Uu}),q.unmap()}p=!1,y=!1,h=!1,or.end(be),N++,vt=requestAnimationFrame(I)}vt=requestAnimationFrame(I);const se=()=>{cancelAnimationFrame(vt),j.destroy(),L.destroy(),Y.destroy(),W.destroy(),te.destroy(),x.destroy(),oe.destroy()};return i.__wgpuCleanup=se,{cleanup:se,resetMap:O}}const xp=M.forwardRef(({noiseSettings:i=Gu,inputRef:r,setInput:s,setWebGPUHandle:c,setCursorQuery:f,style:o,setSimIndex:h},p)=>{const y=M.useRef(null);return M.useImperativeHandle(p,()=>y.current,[]),M.useEffect(()=>{if(!y.current)return;let m=()=>{};return(async()=>{const v=await vp(y.current,i,()=>r.current,s,f,h);m=v.cleanup,c(v)})(),()=>m?.()},[i,s,c,f]),S.jsx("canvas",{ref:y,style:{...o,display:"block",width:"100%",height:"100%"}})}),bp=ht.memo(xp,(i,r)=>i.noiseSettings===r.noiseSettings&&i.children===r.children),Sp={height:0,fAmount:0,normal:{x:0,y:0,z:0},fluidTotal:0,anitFluidTotal:0};function Cp({cursorQuery:i}){var o=Math.ceil(i.height),h=Math.abs(i.fAmount<0?Math.floor(i.fAmount):Math.ceil(i.fAmount));h+o>200&&(h=200-o);const p=o/200*150,y=h/200*150;var m="";return h>0&&(Math.abs(i.fAmount)<1?m=" < 1":m=`${h}`),S.jsxs("div",{style:{position:"absolute",bottom:"5px",right:"5px",fontSize:"20px"},children:[S.jsx("div",{style:{position:"absolute",bottom:"0px",width:"50px",height:"150px",border:"solid 4px white",zIndex:2}}),S.jsx("div",{style:{width:"50px",height:`${y}px`,backgroundColor:i.fAmount<0?"rgba(196, 196, 199, 1)":"rgba(26, 39, 187, 1)",position:"relative",borderRadius:"5px 5px 0px 0px"},children:S.jsx("div",{style:{position:"absolute",bottom:"0px",width:"100%",height:`${20*2.5}px`,textAlign:"center"},children:m})}),S.jsx("div",{style:{width:"50px",height:`${p}px`,backgroundColor:"rgba(15, 84, 9, 1)",position:"relative"},children:S.jsx("div",{style:{position:"absolute",bottom:"0px",width:"100%",textAlign:"center"},children:i.height>0?`${o}`:""})})]})}function _p({input:i}){return S.jsx("div",{style:{position:"absolute",bottom:"5px",left:"5px"},children:`(${i.mousePosition.x}, ${i.mousePosition.y})`})}function Tp(i){const r=i;if(!r)return!1;const s=r.tagName?.toLowerCase();return s==="input"||s==="textarea"||r.isContentEditable||s==="select"}function Rp(i,r){if(!r)return!1;const s=Array.isArray(r)?r:[r],c=i.key.toLowerCase(),f=i.code.toLowerCase();return s.some(o=>{const h=o.toLowerCase();return c===h||f===h})}function Dp({title:i="Menu",children:r,openKey:s="Escape",openWhen:c,disableWhileTyping:f=!0,initialShow:o=!1,size:h,centered:p=!0,backdrop:y=!0,keyboard:m=!0,onShow:v,onHide:C,footer:b}){const[T,w]=M.useState(o);M.useEffect(()=>{const j=H=>{if(H.repeat||f&&Tp(H.target))return;(c?c(H):Rp(H,s))&&(H.preventDefault(),w(!0))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[s,c,f]),M.useEffect(()=>{T&&v?.()},[T,v]);const N=()=>{w(!1),C?.()},U=80;return S.jsxs(S.Fragment,{children:[S.jsxs(ur,{show:T,onHide:N,size:h,centered:p,backdrop:y,keyboard:m,contentClassName:"clamped-modal-content",children:[i&&S.jsx(ur.Header,{closeButton:!0,children:S.jsx(ur.Title,{children:i})}),S.jsx(ur.Body,{className:"clamped-modal-body",children:r}),S.jsx(ur.Footer,{children:b??S.jsx(aa,{variant:"secondary",onClick:N,children:"Close"})})]}),S.jsx("style",{children:`
        .clamped-modal-content {
          /* Clamp whole card to ~80% of viewport height */
          max-height: ${U}vh;
          /* Use dvh for mobile browser UI chrome correctness */
          max-height: min(${U}vh, ${U}dvh);
          display: flex;            /* make header/body/footer a column */
          flex-direction: column;
        }
        .clamped-modal-body {
          overflow-y: auto;         /* scroll INSIDE the body */
          /* Allow the body to take remaining space between header & footer */
          flex: 1 1 auto;
          /* Optional: smooth scrolling */
          overscroll-behavior: contain;
        }
      `})]})}const tt=({children:i})=>S.jsx("kbd",{style:{padding:"0.1rem 0.4rem",borderRadius:4,background:"#1f2937",border:"1px solid #374151",fontSize:"0.85rem",marginRight:6},children:i});function Ep(){return S.jsx("div",{style:{position:"absolute",top:"5px",right:"5px",pointerEvents:"none"},children:S.jsx(bn,{className:"bg-dark text-light shadow ",style:{width:380,pointerEvents:"none",borderRadius:12},children:S.jsxs(bn.Body,{style:{padding:"0.9rem 1rem"},children:[S.jsx(bn.Title,{style:{fontSize:16,marginBottom:8},children:"Controls"}),S.jsxs("div",{style:{fontSize:14,lineHeight:1.6,marginBottom:8},children:[S.jsxs("div",{children:[S.jsx(tt,{children:"F11"}),"  Toggle Fullscreen"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"F9"}),"  Toggle Controls"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"F8"}),"  Toggle Debug"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"W"}),S.jsx(tt,{children:"A"}),S.jsx(tt,{children:"S"}),S.jsx(tt,{children:"D"})," or ",S.jsx(tt,{children:""}),S.jsx(tt,{children:""}),S.jsx(tt,{children:""}),S.jsx(tt,{children:""}),"  Pan Camera"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"ScrollWheel"}),"  Zoom"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"Shift"})," + ",S.jsx(tt,{children:"ScrollWheel"}),"  Change Brush Radius"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"LMB"}),"/",S.jsx(tt,{children:"RMB"}),"  (Paint / Remove) Fluid"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"Spacebar"}),"  Toggle Pause"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"Tab"})," / ",S.jsx(tt,{children:"Shift"}),"+",S.jsx(tt,{children:"Tab"}),"  Increase / Decrease Speed"]}),S.jsxs("div",{children:[S.jsx(tt,{children:"C"}),"  Reset Map"]})]})]})})})}var Mp=["color","size","title","className"];function yo(){return yo=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)({}).hasOwnProperty.call(s,c)&&(i[c]=s[c])}return i},yo.apply(null,arguments)}function wp(i,r){if(i==null)return{};var s,c,f=Op(i,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(c=0;c<o.length;c++)s=o[c],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(i,s)&&(f[s]=i[s])}return f}function Op(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)!==-1)continue;s[c]=i[c]}return s}var Ud=M.forwardRef(function(i,r){var s=i.color,c=s===void 0?"currentColor":s,f=i.size,o=f===void 0?"1em":f,h=i.title,p=h===void 0?null:h,y=i.className,m=y===void 0?"":y,v=wp(i,Mp);return ht.createElement("svg",yo({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:c,className:["bi","bi-pause-fill",m].filter(Boolean).join(" ")},v),p?ht.createElement("title",null,p):null,ht.createElement("path",{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5m5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5"}))});Ud.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number]),title:nt.string,className:nt.string};var Ap=["color","size","title","className"];function vo(){return vo=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)({}).hasOwnProperty.call(s,c)&&(i[c]=s[c])}return i},vo.apply(null,arguments)}function Vp(i,r){if(i==null)return{};var s,c,f=zp(i,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(c=0;c<o.length;c++)s=o[c],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(i,s)&&(f[s]=i[s])}return f}function zp(i,r){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(r.indexOf(c)!==-1)continue;s[c]=i[c]}return s}var jd=M.forwardRef(function(i,r){var s=i.color,c=s===void 0?"currentColor":s,f=i.size,o=f===void 0?"1em":f,h=i.title,p=h===void 0?null:h,y=i.className,m=y===void 0?"":y,v=Vp(i,Ap);return ht.createElement("svg",vo({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:c,className:["bi","bi-play-fill",m].filter(Boolean).join(" ")},v),p?ht.createElement("title",null,p):null,ht.createElement("path",{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"}))});jd.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number]),title:nt.string,className:nt.string};const At=[.25,.5,1,2,3,4],Nd=(i,r,s)=>Math.min(s,Math.max(r,i));function Hp(i,r=!0){if(r){var s=(At.indexOf(i)+1)%At.length;return At[s]}else{var s=Nd(At.indexOf(i)+1,0,At.length-1);return At[s]}}function Gp(i,r=!0){if(r){var s=(At.indexOf(i)-1+At.length)%At.length;return At[s]}else{var s=Nd(At.indexOf(i)-1,0,At.length-1);return At[s]}}function Bp({speed:i,paused:r,onChange:s,className:c,size:f}){const o=m=>s({paused:!1,speed:m}),h=()=>s({paused:!r,speed:i}),y={backgroundColor:"rgba(99, 99, 99, 0.57)",border:"4px solid white",borderRadius:0,fontSize:"20px",width:40,height:40,padding:"0px",display:"grid",placeItems:"center",outline:"none",boxShadow:"none"};return S.jsx("div",{style:{position:"absolute",bottom:"5px",right:"75px",pointerEvents:"auto"},children:S.jsxs(ud,{className:`${c} rounded-0`,size:f,style:{border:"none"},children:[S.jsx(aa,{type:"button",variant:"primary",onClick:h,"aria-pressed":r,"aria-label":r?"Resume":"Pause",title:r?"Resume":"Pause",style:y,children:r?S.jsx(jd,{}):S.jsx(Ud,{})}),At.map(m=>S.jsx(aa,{type:"button",variant:i===m&&!r?"primary":"outline-secondary",active:i===m&&!r,onClick:()=>o(m),"aria-pressed":i===m&&!r,"aria-label":m<1?`1/${Math.round(1/m)}x speed`:`${m}x speed`,title:m<1?`1/${Math.round(1/m)}x speed`:`${m}x speed`,style:{...y,color:i===m&&!r?"white":"darkgray",marginLeft:"-4px",fontSize:m<1?"15px":""},children:m<1?`1/${Math.round(1/m)}x`:`${m}x`},m))]})})}function Up({settings:i,setSettings:r,input:s,setInput:c,cursorQuery:f,paused:o,setPaused:h,speed:p,setSpeed:y,simIndex:m,showControlsUI:v,showDebugUI:C}){const[b,T]=M.useState(0),[w,N]=M.useState(0),[U,j]=M.useState(0);M.useEffect(()=>{const L=setInterval(()=>{T(or.fps),N(or.cpuMs),j(or.frameCount)},250);return()=>clearInterval(L)},[]);const H=new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}),X=`${w.toFixed(2)}`.padStart(5,"0");return S.jsxs("div",{style:{width:"100%",height:"100%",position:"fixed",left:0,top:0,color:"white",fontSize:"20px",pointerEvents:"none",fontFamily:'"Tiny 5", sans-serif',fontWeight:400},children:[S.jsx("div",{id:"output"}),S.jsx(_p,{input:s}),v&&S.jsx(Ep,{}),S.jsx(Bp,{speed:p,paused:o,onChange:({paused:L,speed:Y})=>{h(L),y(Y),c({...s,simulationSubSteps:L?0:Math.ceil(4*Y)})}}),C&&S.jsx("div",{style:{position:"absolute",top:"5px",left:"5px"},children:S.jsx(bn,{className:"bg-dark text-light shadow ",style:{width:450,pointerEvents:"none",borderRadius:12,fontSize:18},children:S.jsxs(bn.Body,{style:{padding:"0.9rem 1rem"},children:[S.jsx(bn.Title,{style:{fontSize:16,marginBottom:8},children:"Debug Stats"}),S.jsx("div",{children:`FPS: ${b} (Frame Duration: ${X} ms) (Frames: ${H.format(U)})`}),S.jsx("div",{children:`Simulation Steps: ${H.format(m)}`}),S.jsx("div",{children:`Total Fluid: ${H.format(Math.ceil(f.fluidTotal))}`}),S.jsx("div",{children:`Total Anti Fluid: ${H.format(Math.ceil(f.anitFluidTotal))}`}),S.jsx("div",{children:`Total Combined Fluid: ${H.format(Math.ceil(f.fluidTotal-f.anitFluidTotal))}`})]})})}),S.jsx(Cp,{cursorQuery:f}),S.jsx(Dp,{title:"Debug Menu",size:"xl",children:S.jsx(lp,{initial:i,onChange:r,onApply:L=>{r(L),console.log("Apply clicked:",L)}})})]})}const jp=i=>{const r=i;if(!r)return!1;const s=r.tagName?.toLowerCase();return s==="input"||s==="textarea"||r.isContentEditable||s==="select"},xn=(i,r,s)=>Math.min(s,Math.max(r,i)),J2=(i,r,s,c)=>{const f=Math.max(0,(s-i)/2),o=Math.max(0,(c-r)/2);return{xMin:-f,xMax:f,yMin:-o,yMax:o}};function Np(){const[i,r]=M.useState(Gu),[s,c]=ht.useState(!1),[f,o]=ht.useState(1),[h,p]=M.useState(0),[y,m]=M.useState(!0),[v,C]=M.useState(!0),[b,T]=M.useState(gp),w=M.useRef(b);M.useEffect(()=>{w.current=b},[b]);const[N,U]=M.useState(Sp),j=M.useRef(null),[H,X]=M.useState({width:1920,height:1080}),[L,Y]=M.useState({x:0,y:0}),[W,Z]=M.useState(!1),[le,ne]=M.useState(2),[ce,ye]=M.useState(null),ae=M.useRef(null);M.useEffect(()=>{ae.current=ce},[ce]);const ve=M.useRef(null),Re=M.useCallback((J,te,x=!1)=>{const O=j.current;if(!O)return;const k=J!==void 0&&te!==void 0?{x:J,y:te}:ve.current;if(!k)return;const q=O.getBoundingClientRect();if(q.width===0||q.height===0)return;const F=O.width/q.width,ue=O.height/q.height,ee=Math.floor((k.x-q.left)*F),ze=Math.floor((k.y-q.top)*ue);T(xe=>{const Ue=xn(ee,0,i.width-1),We=xn(ze,0,i.height-1);return!x&&xe.mousePosition.x===Ue&&xe.mousePosition.y===We?xe:{...xe,mousePosition:{x:Ue,y:We},mouseMoved:x}})},[i.width,i.height]),oe=M.useCallback((J,te)=>{const x=j.current;if(!x)return{x:0,y:0};const O={x:J,y:te},k=x.getBoundingClientRect();if(k.width===0||k.height===0)return{x:0,y:0};const q=x.width/k.width,F=x.height/k.height,ue=Math.floor((O.x-k.left)*q),ee=Math.floor((O.y-k.top)*F),ze=xn(ue,0,i.width-1),xe=xn(ee,0,i.height-1);return{x:ze,y:xe}},[i.width,i.height]);M.useEffect(()=>{const J=new Set;let te=0,x=performance.now();const O=600,k=()=>{const I=window.innerWidth,se=window.innerHeight,he=i.width/i.height;let be=I,Ce=be/he;return Ce<se&&(Ce=se,be=Ce*he),{vw:I,vh:se,baseW:be,baseH:Ce}},q=()=>{const{vw:I,baseW:se}=k();return I/se},F=I=>{if(jp(I.target))return;const se=I.key.toLowerCase();(se==="w"||se==="a"||se==="s"||se==="d"||se==="arrowup"||se==="arrowleft"||se==="arrowdown"||se==="arrowright")&&(J.add(se),I.preventDefault());const he=()=>{c(Oe=>{let Ae=!Oe;return T({...b,simulationSubSteps:Ae?0:Math.ceil(4*f)}),Ae}),I.preventDefault()},be=()=>{o(Oe=>{let Ae=Hp(Oe,!1);return T(mt=>({...mt,simulationSubSteps:s?0:Math.ceil(4*Ae)})),Ae}),I.preventDefault()},Ce=()=>{o(Oe=>{let Ae=Gp(Oe,!1);return T(mt=>({...mt,simulationSubSteps:s?0:Math.ceil(4*Ae)})),Ae}),I.preventDefault()};I.code=="Space"?he():I.code=="Tab"?(s?he():I.shiftKey?Ce():be(),I.preventDefault()):I.code=="F9"?(m(Oe=>!Oe),I.preventDefault()):I.code=="F8"?(C(Oe=>!Oe),I.preventDefault()):I.code=="KeyC"&&ae.current?.resetMap()},ue=I=>{const se=I.key.toLowerCase();J.delete(se)};function ee(I,se,he,be){const Ce=Math.max(I/he,se/be),Oe=Math.min(I*4/he,se*4/be);return{minScale:Ce,maxScale:Oe}}function ze(){const I=window.innerWidth,se=window.innerHeight,he=i.width/i.height;let be=I,Ce=be/he;Ce<se&&(Ce=se,be=Ce*he);const{minScale:Oe,maxScale:Ae}=ee(I,se,be,Ce),mt=Math.min(Math.max(le,Oe),Ae),fe=be*mt,lt=Ce*mt,{xMin:nn,xMax:Se,yMin:Le,yMax:Tt}=J2(I,se,fe,lt);X({width:fe,height:lt}),Y(ct=>({x:xn(ct.x,nn,Se),y:xn(ct.y,Le,Tt)})),requestAnimationFrame(()=>Re()),$()}const xe=I=>{let se=0,he=0;if((J.has("w")||J.has("arrowup"))&&(he-=1),(J.has("s")||J.has("arrowdown"))&&(he+=1),(J.has("a")||J.has("arrowleft"))&&(se-=1),(J.has("d")||J.has("arrowright"))&&(se+=1),se!==0||he!==0){const be=Math.hypot(se,he)||1;se/=be,he/=be;const Ce=window.innerWidth,Oe=window.innerHeight,Ae=H.width,mt=H.height,{xMin:fe,xMax:lt,yMin:nn,yMax:Se}=J2(Ce,Oe,Ae,mt);Y(Le=>({x:xn(Le.x-se*O*le*I,fe,lt),y:xn(Le.y-he*O*le*I,nn,Se)})),requestAnimationFrame(()=>Re()),$()}};function Ue(I){I.preventDefault();const se=Math.sign(I.deltaY)*-1;if(I.shiftKey)T(he=>{const be=.1*he.mouseRadius*se,Ce=Math.max(5,he.mouseRadius+be);return{...he,mouseRadius:Ce}});else{const he=q(),be=4;ne(Ce=>xn(Ce+.1*Ce*se,he,be))}}function We(I){ve.current={x:I.clientX,y:I.clientY},Re(I.clientX,I.clientY,!0)}const Je=I=>{I.button===2&&I.preventDefault(),T(se=>{const he={...se};return I.button===0&&(he.mouse0Held=!0),I.button===2&&(he.mouse1Held=!0),he})},Ze=I=>{T(se=>{const he={...se};return I.button===0&&(he.mouse0Held=!1),I.button===2&&(he.mouse1Held=!1),he})};function vt(I){I.preventDefault()}const xt=async I=>{const se=(I-x)/1e3;x=I,xe(se),$(),te=requestAnimationFrame(xt)};return window.addEventListener("mousemove",We),j.current?.addEventListener("mouseup",Ze),window.addEventListener("contextmenu",vt),j.current?.addEventListener("mousedown",Je),window.addEventListener("keydown",F),window.addEventListener("keyup",ue),j.current?.addEventListener("wheel",Ue,{passive:!1}),window.addEventListener("resize",ze),ze(),te=requestAnimationFrame(xt),$(),()=>{cancelAnimationFrame(te),window.removeEventListener("mousemove",We),j.current?.removeEventListener("mouseup",Ze),window.removeEventListener("contextmenu",vt),j.current?.removeEventListener("mousedown",Je),window.removeEventListener("keydown",F),window.removeEventListener("keyup",ue),j.current?.removeEventListener("wheel",Ue),window.removeEventListener("resize",ze)}},[H.width,H.height,le,s,T,c,f,o,m]);const z=M.useRef(null),$=M.useCallback((J=!0)=>{const te=()=>{if(!j.current)return;const O=oe(0,0),k=oe(window.innerWidth,window.innerHeight),q={x0:O.x,y0:O.y,x1:k.x,y1:k.y,width:k.x-O.x,height:k.y-O.y};!q||z.current&&q.x0===z.current.x0&&q.y0===z.current.y0&&q.x1===z.current.x1&&q.y1===z.current.y1||(z.current=q,T(ue=>({...ue,visibleRect:q,visibleRectChanged:!0})))};J?requestAnimationFrame(te):te()},[T,oe,window.innerWidth,window.innerHeight]);return S.jsx(S.Fragment,{children:S.jsxs("div",{id:"windowDiv",style:{position:"fixed",inset:0,width:"100%",height:"100%",backgroundColor:"rgba(1, 1, 1, 1)",overflow:"hidden",display:"grid",placeItems:"center",cursor:"none"},children:[S.jsx("div",{id:"canvasHolder",style:{position:"absolute",backgroundColor:"black",width:H.width,height:H.height,zIndex:-5,display:"grid",placeItems:"center",transform:`translate3d(${L.x}px, ${L.y}px, 0)`,transition:W?"transform 360ms ease-out":"none",willChange:"transform"},children:S.jsx(bp,{ref:j,noiseSettings:i,inputRef:w,setInput:T,setWebGPUHandle:ye,setCursorQuery:U,setSimIndex:p})}),S.jsx(Up,{settings:i,setSettings:r,input:b,setInput:J=>{T(J)},cursorQuery:N,paused:s,setPaused:c,speed:f,setSpeed:o,simIndex:h,showControlsUI:y,showDebugUI:v})]})})}ch.createRoot(document.getElementById("root")).render(S.jsx(ht.StrictMode,{children:S.jsx(Np,{})}));
